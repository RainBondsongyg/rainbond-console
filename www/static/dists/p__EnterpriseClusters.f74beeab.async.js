(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[40],{ESNr:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=l(a("kLXV")),i=l(a("jehZ"));a("fOrg");var n=l(a("+KLJ"));a("/xke");var d=l(a("TeRw")),o=l(a("p0pE"));a("5NDa");var u=l(a("5rEg"));a("y8nQ");var c,m,f,p=l(a("Vl3Y")),h=a("MuoO"),g=s(a("q1tI")),y=a("LLXN"),b=l(a("8+Sn")),E=l(a("e6Ls")),C=p.default.Item,w=u.default.TextArea,M=(c=(0,h.connect)(),c((f=class extends g.PureComponent{constructor(e){super(e),this.handleSubmit=(()=>{var e=this.props.form,t=e.validateFields;t((e,t)=>{e||this.upClusters(t)})}),this.upClusters=(e=>{var t=this.props,a=t.dispatch,l=t.eid,s=t.regionInfo,r=t.onOk;a({type:"region/upEnterpriseCluster",payload:(0,o.default)({region_id:s&&s.region_id},e,{enterprise_id:l}),callback:e=>{e&&200===e.status_code&&(e.bean&&"failure"===e.bean.health_status?this.setState({healthStatus:!1}):(d.default.success({message:(0,y.formatMessage)({id:"notification.success.edit"})}),r&&r()))}})}),this.state={healthStatus:!0,language:"zh-CN"===b.default.get("language")}}render(){var e=this.props,t=e.form,a=e.onCancel,l=e.title,s=e.regionInfo,d=this.state,o=d.healthStatus,c=d.language,m=t.getFieldDecorator,f={labelCol:{xs:{span:24},sm:{span:9}},wrapperCol:{xs:{span:24},sm:{span:13}}},h={labelCol:{xs:{span:24},sm:{span:14}},wrapperCol:{xs:{span:24},sm:{span:10}}},b=/(http|https):\/\/+([\w]+)+([\w\-.,@?^=%&:/~+#]*[\w\-@?^=%&/~+#])?/,M=/(ws|wss):\/\/+([\w]+)+([\w\-.,@?^=%&:/~+#]*[\w\-@?^=%&/~+#])?/,_=c?f:h;return g.default.createElement(r.default,{visible:!0,title:l||(0,y.formatMessage)({id:"enterpriseColony.title"}),className:E.default.TelescopicModal,onOk:this.handleSubmit,width:1e3,onCancel:a},!o&&g.default.createElement(n.default,{style:{textAlign:"center",marginBottom:"8px"},message:(0,y.formatMessage)({id:"enterpriseColony.edit.alert"}),type:"error"}),g.default.createElement(p.default,{onSubmit:this.handleSubmit},g.default.createElement("div",{style:{display:"flex"}},g.default.createElement(C,(0,i.default)({},_,{label:(0,y.formatMessage)({id:"enterpriseColony.edit.form.label.region_name"}),style:{width:"50%"}}),m("region_name",{initialValue:s?s.region_name:"",rules:[{required:!0,message:(0,y.formatMessage)({id:"placeholder.cluster.edit.region_name"})}]})(g.default.createElement(u.default,{placeholder:(0,y.formatMessage)({id:"placeholder.cluster.edit.region_name.content"}),disabled:void 0!==s}))),g.default.createElement(C,(0,i.default)({},_,{label:(0,y.formatMessage)({id:"enterpriseColony.edit.form.label.region_alias"}),style:{width:"50%"}}),m("region_alias",{initialValue:s?s.region_alias:"",rules:[{required:!0,message:(0,y.formatMessage)({id:"placeholder.cluster.edit.region_alias"})},{max:24,message:(0,y.formatMessage)({id:"placeholder.max24"})}]})(g.default.createElement(u.default,{placeholder:(0,y.formatMessage)({id:"placeholder.cluster.edit.region_alias"})})))),g.default.createElement("div",{style:{display:"flex"}},g.default.createElement(C,(0,i.default)({label:(0,y.formatMessage)({id:"enterpriseColony.edit.form.label.url"})},_,{style:{width:"50%"}}),m("url",{initialValue:s.url,rules:[{required:!0,message:(0,y.formatMessage)({id:"placeholder.cluster.edit.url"})},{pattern:b,message:(0,y.formatMessage)({id:"placeholder.cluster.edit.urlhttp"})}]})(g.default.createElement(u.default,{placeholder:(0,y.formatMessage)({id:"placeholder.cluster.edit.url.content"})}))),g.default.createElement(C,(0,i.default)({label:(0,y.formatMessage)({id:"enterpriseColony.edit.form.label.wsurl"})},_,{style:{width:"50%"}}),m("wsurl",{initialValue:s.wsurl,rules:[{required:!0,message:(0,y.formatMessage)({id:"placeholder.cluster.edit.wsurl"})},{pattern:M,message:(0,y.formatMessage)({id:"placeholder.cluster.edit.wss"})}]})(g.default.createElement(u.default,{placeholder:(0,y.formatMessage)({id:"placeholder.cluster.edit.wsurl.content"})})))),g.default.createElement("div",{style:{display:"flex"}},g.default.createElement(C,(0,i.default)({label:(0,y.formatMessage)({id:"enterpriseColony.edit.form.label.httpdomain"})},_,{style:{width:"50%"}}),m("httpdomain",{initialValue:s.httpdomain,rules:[{required:!0,message:(0,y.formatMessage)({id:"placeholder.cluster.edit.httpdomain"})},{pattern:/^(?=^.{3,255}$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$/,message:(0,y.formatMessage)({id:"placeholder.appShare.formatError"})}]})(g.default.createElement(u.default,{placeholder:(0,y.formatMessage)({id:"placeholder.cluster.edit.httpdomain.content"})}))),g.default.createElement(C,(0,i.default)({label:(0,y.formatMessage)({id:"enterpriseColony.edit.form.label.tcpdomain"})},_,{style:{width:"50%"}}),m("tcpdomain",{initialValue:s.tcpdomain,rules:[{required:!0,message:(0,y.formatMessage)({id:"placeholder.cluster.edit.tcpdomain"})},{pattern:/^(?=^.{3,255}$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$/,message:(0,y.formatMessage)({id:"placeholder.appShare.formatError"})}]})(g.default.createElement(u.default,{placeholder:(0,y.formatMessage)({id:"placeholder.cluster.edit.tcpdomain.content"})})))),g.default.createElement("div",{style:{display:"flex"}},g.default.createElement(C,(0,i.default)({label:(0,y.formatMessage)({id:"enterpriseColony.edit.form.label.ssl_ca_cert"})},_,{style:{width:"50%"}}),m("ssl_ca_cert",{initialValue:s.ssl_ca_cert,rules:[{required:!0,message:(0,y.formatMessage)({id:"placeholder.cluster.edit.ssl_ca_cert"})}]})(g.default.createElement(w,{autosize:{minRows:3,maxRows:6},placeholder:(0,y.formatMessage)({id:"placeholder.cluster.edit.ssl_ca_cert.content"})}))),g.default.createElement(C,(0,i.default)({label:(0,y.formatMessage)({id:"enterpriseColony.edit.form.label.cert_file"})},_,{style:{width:"50%"}}),m("cert_file",{initialValue:s.cert_file,rules:[{required:!0,message:(0,y.formatMessage)({id:"placeholder.cluster.edit.cert_file"})}]})(g.default.createElement(w,{autosize:{minRows:3,maxRows:6},placeholder:(0,y.formatMessage)({id:"placeholder.cluster.edit.cert_file.content"})})))),g.default.createElement("div",{style:{display:"flex"}},g.default.createElement(C,(0,i.default)({label:(0,y.formatMessage)({id:"enterpriseColony.edit.form.label.key_file"})},_,{style:{width:"50%"}}),m("key_file",{initialValue:s.key_file,rules:[{required:!0,message:(0,y.formatMessage)({id:"placeholder.cluster.edit.key_file"})}]})(g.default.createElement(w,{autosize:{minRows:3,maxRows:6},placeholder:(0,y.formatMessage)({id:"placeholder.cluster.edit.key_file.content"})}))),g.default.createElement(C,(0,i.default)({label:(0,y.formatMessage)({id:"enterpriseColony.edit.form.label.desc"})},_,{style:{width:"50%"}}),m("desc",{initialValue:s.desc})(g.default.createElement(w,{autosize:{minRows:3,maxRows:6},placeholder:(0,y.formatMessage)({id:"placeholder.cluster.edit.desc"})}))))))}},m=f))||m),_=p.default.create()(M),v=_;t.default=v},xRNp:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("giR+");var r=l(a("fyUT"));a("IzEo");var i=l(a("bx4M"));a("g9YV");var n=l(a("wCAj"));a("fOrg");var d=l(a("+KLJ"));a("14J3");var o=l(a("BMrR"));a("jCWc");var u=l(a("kPKH"));a("Pwec");var c=l(a("CtXQ"));a("+L6B");var m=l(a("2/Rp"));a("Awhp");var f=l(a("KrTs"));a("5Dmo");var p=l(a("3S7+")),h=l(a("jehZ"));a("/xke");var g=l(a("TeRw"));a("y8nQ");var y=l(a("Vl3Y"));a("2qtc");var b,E,C,w,M=l(a("kLXV")),_=l(a("18gR")),v=a("MuoO"),x=a("7DNP"),S=s(a("q1tI")),T=l(a("ESNr")),k=l(a("q76B")),L=l(a("YZHX")),I=l(a("XZXw")),R=l(a("QDog")),q=l(a("mWxT")),N=l(a("+iC2")),F=a("LLXN"),V=M.default.confirm,A=(b=(0,v.connect)(e=>{var t=e.user,a=e.list,l=e.loading,s=e.global,r=e.index;return{user:t.currentUser,list:a,clusterLoading:l.effects["region/fetchEnterpriseClusters"],rainbondInfo:s.rainbondInfo,enterprise:s.enterprise,isRegist:s.isRegist,oauthLongin:l.effects["global/creatOauth"],delclusterLongin:l.effects["region/deleteEnterpriseCluster"],overviewInfo:r.overviewInfo,novices:s.novices}}),E=y.default.create(),b(C=E((w=class extends S.PureComponent{constructor(e){var t;super(e),t=this,this.handleMandatoryDelete=(()=>{var e=this;V({title:"\u5f53\u524d\u96c6\u7fa4\u4e2d\u8fd8\u5b58\u5728\u7ec4\u4ef6\u3001\u662f\u5426\u5f3a\u5236\u5220\u9664",content:"\u5220\u9664\u540e\u53ef\u901a\u8fc7\u76f8\u540c\u7684\u96c6\u7fa4ID\u91cd\u65b0\u6dfb\u52a0\u6062\u590d\u5df2\u6709\u79df\u6237\u548c\u5e94\u7528\u7684\u7ba1\u7406",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk(){return e.handleDelete(!0),new Promise((e,t)=>{setTimeout(Math.random()>.5?e:t,1e3)}).catch(e=>console.log(e))}})}),this.handleDelete=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=t.state.regionInfo,l=t.props,s=l.dispatch,r=l.match.params.eid;s({type:"region/deleteEnterpriseCluster",payload:{region_id:a.region_id,enterprise_id:r,force:e},callback:e=>{e&&200===e._condition&&(t.loadClusters(),g.default.success({message:(0,F.formatMessage)({id:"notification.success.delete"})})),t.cancelClusters()},handleError:e=>{e&&e.data&&10050===e.data.code&&(t.setState({delVisible:!1}),t.handleMandatoryDelete())}})},this.loadClusters=(()=>{var e=this.props,t=e.dispatch,a=e.match.params.eid;t({type:"region/fetchEnterpriseClusters",payload:{enterprise_id:a},callback:e=>{if(e&&e.list){var t=[];e.list.map((e,a)=>{return e.key="cluster".concat(a),t.push(e),e}),this.setState({clusters:t}),R.default.putClusterInfoLog(a,e.list)}else this.setState({clusters:[]})}})}),this.cancelEditClusters=(()=>{this.loadClusters(),this.setState({editClusterShow:!1,text:"",regionInfo:!1})}),this.handleEdit=(e=>{this.loadPutCluster(e.region_id)}),this.delUser=(e=>{this.setState({delVisible:!0,regionInfo:e})}),this.cancelClusters=(()=>{this.setState({delVisible:!1,regionInfo:!1})}),this.handlUnit=(e=>{return e?(e/1024).toFixed(2)/1:0}),this.loadPutCluster=(e=>{var t=this.props,a=t.dispatch,l=t.match.params.eid;a({type:"region/fetchEnterpriseCluster",payload:{enterprise_id:l,region_id:e},callback:e=>{e&&200===e.status_code&&this.setState({regionInfo:e.bean,editClusterShow:!0,text:(0,F.formatMessage)({id:"enterpriseColony.button.edit"})})}})}),this.showRegions=(e=>{this.setState({showTenantList:!0,regionAlias:e.region_alias,regionName:e.region_name,showTenantListRegion:e.region_id,loadTenants:!0},this.loadRegionTenants)}),this.loadRegionTenants=(()=>{var e=this.state,t=e.tenantPage,a=e.tenantPageSize,l=e.showTenantListRegion,s=this.props,r=s.dispatch,i=s.match.params.eid;r({type:"region/fetchEnterpriseClusterTenants",payload:{enterprise_id:i,page:t,pageSize:a,region_id:l},callback:e=>{e&&e.bean?this.setState({tenants:e.bean.tenants,tenantTotal:e.bean.total,loadTenants:!1}):this.setState({loadTenants:!1})},handleError:()=>{this.setState({loadTenants:!1})}})}),this.setTenantLimit=(e=>{this.setState({setTenantLimitShow:!0,limitTenantName:e.tenant_name,limitTeamName:e.team_name,initLimitValue:e.set_limit_memory})}),this.submitLimit=(e=>{e.preventDefault();var t=this.props,a=t.match.params.eid,l=t.form,s=this.state,r=s.limitTenantName,i=s.showTenantListRegion;l.validateFields({force:!0},(e,t)=>{e||(this.setState({limitSummitLoading:!0}),this.props.dispatch({type:"region/setEnterpriseTenantLimit",payload:{enterprise_id:a,region_id:i,tenant_name:r,limit_memory:t.limit_memory},callback:()=>{g.default.success({message:(0,F.formatMessage)({id:"notification.success.setting_successfully"})}),this.setState({limitSummitLoading:!1,setTenantLimitShow:!1}),this.loadRegionTenants()},handleError:()=>{g.default.warning({message:(0,F.formatMessage)({id:"notification.error.setting_failed"})}),this.setState({limitSummitLoading:!1})}}))})}),this.hideTenantListShow=(()=>{this.setState({showTenantList:!1,showTenantListRegion:"",tenants:[]})}),this.handleTenantPageChange=(e=>{this.setState({tenantPage:e},this.loadRegionTenants)}),this.handleNewbieGuiding=(e=>{var t=e.nextStep,a=this.props,l=a.dispatch,s=a.match.params.eid;return S.default.createElement(_.default,(0,h.default)({},e,{totals:14,handleClose:()=>{this.handleGuideStep("close")},handleNext:()=>{t&&(this.handleGuideStep(t),l(x.routerRedux.push("/enterprise/".concat(s,"/addCluster"))))}}))}),this.handleGuideStep=(e=>{this.setState({guideStep:e})}),this.handleJoinTeams=(e=>{var t=this.state.regionName,a=this.props.dispatch;a({type:"teamControl/joinTeam",payload:{team_name:e},callback:a=>{a&&200===a.status_code&&this.onJumpTeam(e,t)}})}),this.onJumpTeam=((e,t)=>{var a=this.props.dispatch;a(x.routerRedux.push("/team/".concat(e,"/region/").concat(t,"/index")))}),this.handleClusterIntroduced=(()=>{this.putNewbieGuideConfig("successInstallClusters"),this.setState({showClusterIntroduced:!1})}),this.putNewbieGuideConfig=(e=>{var t=this.props.dispatch;t({type:"global/putNewbieGuideConfig",payload:{arr:[{key:e,value:!0}]}})}),this.onStartInstall=(e=>{var t=this.props,a=t.dispatch,l=t.match.params.eid;this.handleClusterIntroduced(),"2"===e?a(x.routerRedux.push("/enterprise/".concat(l,"/shared/local?init=true"))):this.fetchMyTeams()}),this.onViewInstance=(()=>{this.fetchMyTeams(!0)}),this.fetchMyTeams=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=t.props,l=a.dispatch,s=a.match.params.eid,r=t.state.clusters;l({type:"global/fetchMyTeams",payload:{enterprise_id:s,page:1,page_size:1},callback:a=>{if(a&&200===a.status_code){if(!(a&&a.list.length>0))return g.default.warn({message:(0,F.formatMessage)({id:"notification.warn.create_team"})});var s=a.list[0].team_name;e&&s?t.fetchApps(s,!0):s&&r&&l(x.routerRedux.push("/team/".concat(s,"/region/").concat(r[0].region_name,"/create/code")))}}})},this.fetchApps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=t.props,s=l.dispatch,r=l.match.params.eid,i=t.state.clusters;s({type:"global/fetchEnterpriseApps",payload:{enterprise_id:r,page:1,page_size:1},callback:t=>{if(t&&200===t.status_code){if(!(t&&t.list.length>0))return g.default.warn({message:(0,F.formatMessage)({id:"notification.warn.app"})});var l=t.list[0].ID;a&&l&&e&&i&&s(x.routerRedux.push("/team/".concat(e,"/region/").concat(i[0].region_name,"/apps/").concat(l)))}}})};var a=this.props,l=a.user,s=(a.rainbondInfo,a.novices),r=a.enterprise,i=N.default.isCompanyAdmin(l);this.state={isNewbieGuide:q.default.isEnableNewbieGuide(r),adminer:i,clusters:null,editClusterShow:!1,regionInfo:!1,text:"",delVisible:!1,showTenantList:!1,loadTenants:!1,tenantTotal:0,tenants:[],tenantPage:1,tenantPageSize:5,showTenantListRegion:"",showClusterIntroduced:q.default.handleNewbie(s,"successInstallClusters"),setTenantLimitShow:!1,guideStep:1}}componentWillMount(){var e=this.state.adminer,t=this.props.dispatch;e||t(x.routerRedux.push("/"))}componentDidMount(){this.loadClusters()}render(){var e=this.props,t=e.delclusterLongin,a=e.match.params.eid,l=e.clusterLoading,s=e.form,g=this.state,b=g.clusters,E=g.text,C=g.regionInfo,w=g.delVisible,_=g.showTenantList,v=g.tenants,R=g.loadTenants,N=g.regionAlias,V=g.tenantTotal,A=g.tenantPage,P=g.tenantPageSize,z=g.setTenantLimitShow,D=g.limitTeamName,O=g.limitSummitLoading,Z=g.initLimitValue,G=g.guideStep,X=g.isNewbieGuide,J=g.showClusterIntroduced,B=s.getFieldDecorator,j={onChange:this.handleTenantPageChange,total:V,pageSize:P,current:A},K=(e,t)=>{return{color:e,background:t,borderRadius:"15px",padding:"2px 0"}},U=[{title:(0,F.formatMessage)({id:"table.tr.name"}),dataIndex:"region_alias",align:"center",width:120,render:(e,t)=>{return S.default.createElement(x.Link,{to:"/enterprise/".concat(a,"/clusters/").concat(t.region_id,"/dashboard")},e)}},{title:(0,F.formatMessage)({id:"table.tr.wayToInstall"}),dataIndex:"provider",align:"center",width:80,render:e=>{switch(e){case"ack":return S.default.createElement("span",{style:{marginRight:"8px"},key:e},"ACK");case"custom":return S.default.createElement("span",{style:{marginRight:"8px"},key:e},S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.table.custom"}));case"rke":return S.default.createElement(p.default,{title:S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.table.rke.tooltip"})},S.default.createElement("span",{style:{marginRight:"8px"},key:e},S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.table.rke"})));case"tke":return S.default.createElement("span",{style:{marginRight:"8px"},key:e},"TKE");case"helm":return S.default.createElement("span",{style:{marginRight:"8px"},key:e},S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.table.helm"}));default:return S.default.createElement("span",{style:{marginRight:"8px"},key:e},S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.table.other"}))}}},{title:(0,F.formatMessage)({id:"table.tr.memory"}),dataIndex:"total_memory",align:"center",width:80,render:(e,t)=>{return S.default.createElement("a",{onClick:()=>{this.showRegions(t)}},this.handlUnit(t.used_memory),"/",this.handlUnit(t.total_memory))}},{title:(0,F.formatMessage)({id:"table.tr.versions"}),dataIndex:"rbd_version",align:"center",width:180},{title:(0,F.formatMessage)({id:"table.tr.status"}),dataIndex:"status",align:"center",width:60,render:(e,t)=>{if("failure"===t.health_status)return S.default.createElement("span",{style:{color:"red"}},S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.table.state.err"}));switch(e){case"0":return S.default.createElement("div",{style:K("#1890ff","#e6f7ff")},S.default.createElement(f.default,{color:"#1890ff"}),S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.table.state.edit"}));case"1":return S.default.createElement("div",{style:K("#52c41a","#e9f8e2")},S.default.createElement(f.default,{color:"#52c41a"}),S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.table.state.run"}));case"2":return S.default.createElement("div",{style:K("#b7b7b7","#f5f5f5")},S.default.createElement(f.default,{color:"#b7b7b7"}),S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.table.state.down"}));case"3":return S.default.createElement("div",{style:K("#1890ff","#e6f7ff")},S.default.createElement(f.default,{color:"#1890ff"}),S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.table.state.maintain"}));case"5":return S.default.createElement("div",{style:K("#fff","#f54545")},S.default.createElement(f.default,{color:"#fff"}),S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.table.state.abnormal"}));default:return S.default.createElement("div",{style:K("#fff","#ffac38")},S.default.createElement(f.default,{color:"#fff"}),S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.table.state.unknown"}))}}},{title:(0,F.formatMessage)({id:"table.tr.handle"}),dataIndex:"method",align:"center",width:150,render:(e,t)=>{var l=[S.default.createElement("a",{onClick:()=>{this.delUser(t)}},S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.table.handle.delete"})),S.default.createElement("a",{onClick:()=>{this.handleEdit(t)}},S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.table.handle.edit"})),S.default.createElement("a",{onClick:()=>{this.showRegions(t)}},S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.table.handle.quota"})),S.default.createElement(x.Link,{to:"/enterprise/".concat(a,"/importMessage?region_id=").concat(t.region_id)},S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.table.handle.import"}))];return"rke"===t.provider&&l.push(S.default.createElement(x.Link,{to:"/enterprise/".concat(a,"/provider/rke/kclusters?clusterID=").concat(t.provider_cluster_id,"&updateKubernetes=true")},S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.table.handle.deploy"}))),l}}],H=[{title:(0,F.formatMessage)({id:"enterpriseColony.table.handle.quota.table.label.team_name"}),dataIndex:"team_name",align:"center",render:(e,t)=>{return S.default.createElement("a",{onClick:()=>{this.handleJoinTeams(t.tenant_name)}},t.team_name)}},{title:(0,F.formatMessage)({id:"enterpriseColony.table.handle.quota.table.label.memory_request"}),dataIndex:"memory_request",align:"center"},{title:(0,F.formatMessage)({id:"enterpriseColony.table.handle.quota.table.label.cpu_request"}),dataIndex:"cpu_request",align:"center"},{title:(0,F.formatMessage)({id:"enterpriseColony.table.handle.quota.table.label.set_limit_memory"}),dataIndex:"set_limit_memory",align:"center"},{title:(0,F.formatMessage)({id:"enterpriseColony.table.handle.quota.table.label.running_app_num"}),dataIndex:"running_app_num",align:"center"},{title:(0,F.formatMessage)({id:"enterpriseColony.table.handle.quota.table.label.method"}),dataIndex:"method",align:"center",width:"100px",render:(e,t)=>{return[S.default.createElement("a",{onClick:()=>{this.setTenantLimit(t)}},(0,F.formatMessage)({id:"enterpriseColony.table.handle.quota.table.label.method.btn"}))]}}],Q={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:20},sm:{span:12}}};return S.default.createElement(I.default,{title:S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.PageHeaderLayout.title"}),content:S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.PageHeaderLayout.content"})},X&&J&&!l&&b&&b.length&&"1"===b[0].status?S.default.createElement(L.default,{onCancel:this.handleClusterIntroduced,isCluster:!0,eid:a,onStartInstall:this.onStartInstall,onViewInstance:this.onViewInstance}):"",S.default.createElement(o.default,{style:{marginBottom:"20px"}},S.default.createElement(u.default,{span:24,style:{textAlign:"right"}},S.default.createElement(x.Link,{to:"/enterprise/".concat(a,"/addCluster")},S.default.createElement(m.default,{type:"primary"},S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.button.text"}))),S.default.createElement(m.default,{style:{marginLeft:"16px"},onClick:()=>{this.loadClusters()}},S.default.createElement(c.default,{type:"reload"})),1===G&&this.props.novices&&q.default.handleNewbie(this.props.novices,"addCluster")&&b&&0===b.length&&this.handleNewbieGuiding({tit:(0,F.formatMessage)({id:"enterpriseColony.guideStep.title"}),desc:(0,F.formatMessage)({id:"enterpriseColony.guideStep.desc"}),nextStep:2,configName:"addCluster",isSuccess:!1,conPosition:{right:0,bottom:"-180px"},svgPosition:{right:"50px",marginTop:"-11px"}}))),S.default.createElement(i.default,null,w&&S.default.createElement(k.default,{loading:t,title:(0,F.formatMessage)({id:"confirmModal.cluster.delete.title"}),subDesc:(0,F.formatMessage)({id:"confirmModal.delete.strategy.subDesc"}),desc:(0,F.formatMessage)({id:"confirmModal.delete.cluster.desc"}),onOk:()=>this.handleDelete(!1),onCancel:this.cancelClusters}),this.state.editClusterShow&&S.default.createElement(T.default,{regionInfo:C,title:E,eid:a,onOk:this.cancelEditClusters,onCancel:this.cancelEditClusters}),S.default.createElement(d.default,{style:{marginBottom:"16px"},message:S.default.createElement(F.FormattedMessage,{id:"enterpriseColony.alert.message"})}),S.default.createElement(n.default,{loading:l,dataSource:b,columns:U})),_&&S.default.createElement(M.default,{maskClosable:!1,title:"",width:800,visible:_,footer:null,onOk:this.hideTenantListShow,onCancel:this.hideTenantListShow},z&&S.default.createElement("div",null,S.default.createElement(d.default,{style:{marginBottom:"16px"},message:(0,F.formatMessage)({id:"enterpriseColony.table.handle.quota.alert"},{limitTeamName:D},{regionAlias:N})}),S.default.createElement(y.default,{onSubmit:this.submitLimit},S.default.createElement(y.default.Item,(0,h.default)({},Q,{name:"limit_memory",label:(0,F.formatMessage)({id:"enterpriseColony.table.handle.quota.form.label.limit_memory"})}),B("limit_memory",{initialValue:Z,rules:[{required:!0,message:(0,F.formatMessage)({id:"placeholder.limit_memory"})}]})(S.default.createElement(r.default,{style:{width:"200px"},min:0,precision:0,max:2147483647}))),S.default.createElement("div",{style:{textAlign:"center"}},S.default.createElement(m.default,{onClick:()=>{this.setState({setTenantLimitShow:!1,limitSummitLoading:!1})}},(0,F.formatMessage)({id:"button.cancel"})),S.default.createElement(m.default,{style:{marginLeft:"16px"},type:"primary",loading:O,htmlType:"submit"},(0,F.formatMessage)({id:"button.confirm"}))))),!z&&S.default.createElement("div",null,S.default.createElement(d.default,{style:{marginBottom:"16px"},message:(0,F.formatMessage)({id:"enterpriseColony.table.handle.quota.form.label.alert"})}),S.default.createElement(n.default,{pagination:j,dataSource:v,columns:H,loading:R}))))}},C=w))||C)||C);t.default=A}}]);