(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[59],{"06/0":function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var s,r,n,o=l(a("bx4M")),d=l(a("jehZ")),c=l(a("p0pE")),p=i(a("q1tI")),u=a("MuoO"),m=a("7DNP"),g=l(a("51sS")),I=l(a("QDog")),h=l(a("DxSl")),f=l(a("/BFj")),C=(s=(0,u.connect)(e=>{var t=e.user,a=e.global;return{currUser:t.currentUser,groups:a.groups}}),s((n=class extends p.PureComponent{constructor(e){super(e),this.onAddGroup=(()=>{this.setState({addGroup:!0})}),this.cancelAddGroup=(()=>{this.setState({addGroup:!1})}),this.handleAddGroup=(e=>{var t=this.props.form.setFieldsValue;this.props.dispatch({type:"application/addGroup",payload:(0,c.default)({team_name:I.default.getCurrTeamName()},e),callback:e=>{e&&this.props.dispatch({type:"global/fetchGroups",payload:{team_name:I.default.getCurrTeamName(),region_name:I.default.getCurrRegionName()},callback:()=>{t({group_id:e.group_id}),this.cancelAddGroup()}})}})}),this.hideShowKey=(()=>{this.setState({showKey:!1})}),this.handleSubmit=((e,t)=>{var a=this.props,l=(a.form,a.dispatch),i=I.default.getCurrTeamName(),s=I.default.getCurrRegionName();l({type:"createApp/createJarWarFormSubmit",payload:(0,c.default)({region_name:s,team_name:i,event_id:t},e),callback:e=>{var a=e&&e.bean.service_alias;this.props.setPare(t),this.props.handleType&&"Service"===this.props.handleType?this.props.handleServiceGetData(a):l(m.routerRedux.push("/team/".concat(i,"/region/").concat(s,"/create/create-check/").concat(a,"?event_id=").concat(t)))}})}),this.state={codeType:"Git",showUsernameAndPass:!1,showKey:!1,addGroup:!1}}render(){var e=decodeURIComponent(this.props.handleType&&"Service"===this.props.handleType?"":this.props.match.params.image||"");return p.default.createElement(o.default,null,p.default.createElement(f.default,null),p.default.createElement("div",{className:g.default.formWrap,style:{width:this.props.handleType&&"Service"===this.props.handleType?"auto":"500px"}},p.default.createElement(h.default,(0,d.default)({data:{docker_cmd:e||""},onSubmit:this.handleSubmit},this.props))))}},r=n))||r);t.default=C},"0fGy":function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var s=l(a("bx4M"));a("g9YV");var r=l(a("wCAj"));a("y8nQ");var n=l(a("Vl3Y"));a("5NDa");var o=l(a("5rEg"));a("qVdP");var d=l(a("jsC+"));a("Pwec");var c=l(a("CtXQ"));a("lUTK");var p=l(a("BvKs"));a("P2fV");var u=l(a("NJEC"));a("+L6B");var m=l(a("2/Rp"));a("Awhp");var g=l(a("KrTs"));a("5Dmo");var I=l(a("3S7+"));a("/xke");var h,f,C,A=l(a("TeRw")),v=a("MuoO"),M=a("7DNP"),y=l(a("wd/R")),N=i(a("q1tI")),b=a("LLXN"),S=l(a("6JQQ")),D=l(a("movk")),w=a("xpXo"),E=l(a("lpA0")),Z=l(a("QDog")),T=l(a("VJda")),j=(h=(0,v.connect)(e=>{var t=e.global,a=e.loading;return{groups:t.groups,batchMoveLoading:a.effects["appControl/putBatchMove"],reStartLoading:a.effects["appControl/putReStart"],startLoading:a.effects["appControl/putStart"],stopLoading:a.effects["appControl/putStop"]}},null,null,{pure:!1}),h((C=class extends N.Component{constructor(e){super(e),this.onSelectChange=(e=>{this.setState({selectedRowKeys:e})}),this.updateApp=(()=>{this.timer&&clearInterval(this.timer),this.loadComponents();var e=this.props.clearTime;this.timer=setInterval(()=>{e||this.loadComponents()},5e3)}),this.loadComponents=(()=>{var e=this.props,t=e.dispatch,a=e.groupId,l=this.state,i=l.current,s=l.pageSize,r=l.query,n=l.sortValue,o=l.orderValue;t({type:"application/fetchApps",payload:{team_name:Z.default.getCurrTeamName(),region_name:Z.default.getCurrRegionName(),group_id:a,page:i,page_size:s,query:r,sort:n,order:o},callback:e=>{e&&200===e.status_code&&(console.log(e.list,"list"),this.setState({apps:e.list||[],total:e.total||0,tableDataLoading:!1}))}})}),this.deleteData=(()=>{var e=this.props,t=e.dispatch,a=e.groupId,l=this.state,i=l.current,s=l.pageSize,r=l.query;t({type:"application/fetchApps",payload:{team_name:Z.default.getCurrTeamName(),region_name:Z.default.getCurrRegionName(),group_id:a,page:i,page_size:s,query:r},callback:e=>{e&&200===e.status_code&&this.setState({apps:e.list||[],total:e.total||0},()=>{this.handleBatchDeletes(),this.hideMoveGroup()})}})}),this.handleOperation=((e,t)=>{var a=this.props.dispatch,l={putReStart:(0,b.formatMessage)({id:"notification.hint.component.putReStart"}),putStart:(0,b.formatMessage)({id:"notification.hint.component.putStart"}),putStop:(0,b.formatMessage)({id:"notification.hint.component.putStop"})};a({type:"appControl/".concat(e),payload:{team_name:Z.default.getCurrTeamName(),app_alias:t.service_alias},callback:t=>{t&&A.default.success({message:l[e]})}})}),this.handleOperationState=(e=>{this.setState({operationState:e})}),this.handleBatchOperation=(e=>{var t=this.getSelectedKeys(),a={stop:(0,b.formatMessage)({id:"notification.hint.component.putBatchStop"}),start:(0,b.formatMessage)({id:"notification.hint.component.putBatchStart"}),restart:(0,b.formatMessage)({id:"notification.hint.component.putBatchRestart"}),upgrade:(0,b.formatMessage)({id:"notification.hint.component.putBatchUpgrade"}),deploy:(0,b.formatMessage)({id:"notification.hint.component.putBatchDeploy"})};(0,w.batchOperation)({action:e,team_name:Z.default.getCurrTeamName(),serviceIds:t&&t.join(",")}).then(t=>{this.handleOperationState(!1),t&&a[e]&&A.default.success({message:a[e]})})}),this.handleBatchDelete=(()=>{var e=this.getSelected();this.setState({batchDeleteApps:e,batchDeleteShow:!0})}),this.hideBatchDelete=(()=>{this.deleteData(),this.updateGroupMenu()}),this.handleBatchDeletes=(()=>{this.setState({batchDeleteApps:[],batchDeleteShow:!1,selectedRowKeys:[]})}),this.updateGroupMenu=(()=>{this.props.dispatch({type:"global/fetchGroups",payload:{team_name:Z.default.getCurrTeamName(),region_name:Z.default.getCurrRegionName()}})}),this.handleBatchMove=(e=>{var t=this.getSelectedKeys(),a=this.props.dispatch;a({type:"appControl/putBatchMove",payload:{team_name:Z.default.getCurrTeamName(),serviceIds:t.join(","),move_group_id:e},callback:e=>{e&&(A.default.success({message:(0,b.formatMessage)({id:"notification.hint.component.putBatchMove"})}),this.hideBatchDelete())}})}),this.hideMoveGroup=(()=>{this.setState({moveGroupShow:!1})}),this.showBatchMove=(()=>{this.setState({moveGroupShow:!0})}),this.CanBatchOperation=(()=>{var e=this.getSelected();return e&&e.length>0}),this.handelChange=(e=>{this.setState({changeQuery:e.target.value})}),this.handleSearch=(()=>{this.setState({tableDataLoading:!0,current:1,query:this.state.changeQuery},()=>{this.updateApp()})}),this.handleTableChange=((e,t,a)=>{a&&a.field&&"status_cn"==a.field?this.setState({sortValue:1,orderValue:a.order,tableDataLoading:!0},()=>{this.loadComponents()}):a&&a.field&&"min_memory"==a.field?this.setState({sortValue:2,orderValue:a.order,tableDataLoading:!0},()=>{this.loadComponents()}):a&&a.field&&"update_time"==a.field?this.setState({sortValue:3,orderValue:a.order,tableDataLoading:!0},()=>{this.loadComponents()}):this.setState({sortValue:1,orderValue:"descend",tableDataLoading:!0},()=>{this.loadComponents()})}),this.state={selectedRowKeys:[],apps:[],current:1,total:0,pageSize:10,moveGroupShow:!1,batchDeleteApps:[],batchDeleteShow:!1,operationState:!1,query:"",changeQuery:"",tableDataLoading:!0,sortValue:1,orderValue:"descend"}}componentDidMount(){this.updateApp(),document.querySelector(".ant-table-footer").setAttribute("style","position:absolute;background:#fff")}shouldComponentUpdate(){return!0}componentWillUnmount(){clearInterval(this.timer),this.props.dispatch({type:"application/clearApps"})}getSelectedKeys(){var e=this.getSelected();return e.map(e=>e.service_id)}getSelected(){var e=this.state.selectedRowKeys,t=e.map(e=>this.state.apps[e]);return t}render(){var e=this.props,t=e.componentPermissions,a=t.isStart,l=t.isRestart,i=t.isStop,h=t.isDelete,f=t.isEdit,C=t.isUpdate,A=t.isConstruct,v=e.batchMoveLoading,w=e.reStartLoading,j=e.startLoading,G=e.stopLoading,k=e.groupId,P=e.groups,x=this.state,_=x.selectedRowKeys,z=x.current,L=x.total,R=x.apps,V=x.pageSize,W=x.batchDeleteShow,B=x.batchDeleteApps,O=x.moveGroupShow,X=x.operationState,Y=x.tableDataLoading,J={selectedRowKeys:_,onChange:this.onSelectChange},U={pageSize:V,current:z,total:L,showSizeChanger:!0,onChange:e=>{this.setState({current:e,selectedRowKeys:[]},()=>{this.loadComponents()})},onShowSizeChange:(e,t)=>{this.setState({current:e,pageSize:t},()=>{this.loadComponents()})}},H=[{title:(0,b.formatMessage)({id:"appOverview.list.table.btn.name"}),dataIndex:"service_cname",render:(e,t)=>N.default.createElement(M.Link,{to:"/team/".concat(Z.default.getCurrTeamName(),"/region/").concat(Z.default.getCurrRegionName(),"/components/").concat(t.service_alias,"/overview")}," ",t.service_source&&"third_party"===t.service_source?N.default.createElement("span",null,N.default.createElement(I.default,{title:(0,b.formatMessage)({id:"appOverview.list.table.btn.third_party"})},N.default.createElement("span",{style:{borderRadius:"50%",height:"20px",width:"20px",display:"inline-block",background:"#1890ff",verticalAlign:"top",marginRight:"3px"}},N.default.createElement("span",{style:{display:"block",color:"#FFFFFF",height:"20px",lineHeight:"20px",textAlign:"center"}},"3")),e)):N.default.createElement("span",null,e)," ")},{title:(0,b.formatMessage)({id:"appOverview.list.table.memory"}),dataIndex:"min_memory",sorter:!0,render:(e,t)=>N.default.createElement("span",null,t.service_source&&"third_party"===t.service_source?"-":"".concat(e,"MB"))},{title:(0,b.formatMessage)({id:"appOverview.list.table.status"}),dataIndex:"status_cn",sorter:!0,render:(e,t)=>t.service_source&&"third_party"===t.service_source?N.default.createElement(g.default,{status:E.default.appStatusToBadgeStatus(t.status),text:"\u8fd0\u884c\u4e2d"===e?(0,b.formatMessage)({id:"status.component.health"}):"\u8fd0\u884c\u5f02\u5e38"===e?(0,b.formatMessage)({id:"status.component.not_health"}):"\u5df2\u5173\u95ed"===e?(0,b.formatMessage)({id:"status.component.off_line"}):e}):N.default.createElement(g.default,{status:E.default.appStatusToBadgeStatus(t.status),text:e})},{title:(0,b.formatMessage)({id:"appOverview.list.table.updateTime"}),dataIndex:"update_time",sorter:!0,render:e=>(0,y.default)(e).locale("zh-cn").format("YYYY-MM-DD HH:mm:ss")},{title:(0,b.formatMessage)({id:"appOverview.list.table.operate"}),dataIndex:"action",render:(e,t)=>N.default.createElement(N.Fragment,null,t.service_source&&"third_party"!==t.service_source&&N.default.createElement(N.Fragment,null,l&&N.default.createElement(u.default,{title:(0,b.formatMessage)({id:"confirmModal.component.restart.title"}),onConfirm:()=>{this.handleOperation("putReStart",t)}},N.default.createElement(m.default,{type:"link"},(0,b.formatMessage)({id:"appOverview.list.table.restart"}))),a&&N.default.createElement(u.default,{title:(0,b.formatMessage)({id:"confirmModal.component.start.title"}),onConfirm:()=>{this.handleOperation("putStart",t)}},N.default.createElement(m.default,{type:"link"},(0,b.formatMessage)({id:"appOverview.list.table.start"}))),i&&N.default.createElement(u.default,{title:(0,b.formatMessage)({id:"confirmModal.component.stop.title"}),onConfirm:()=>{this.handleOperation("putStop",t)}},N.default.createElement(m.default,{type:"link"},(0,b.formatMessage)({id:"appOverview.list.table.stop"})))))}],Q=[{permissions:A,name:(0,b.formatMessage)({id:"appOverview.list.table.stop"}),action:"deploy"},{permissions:C,name:(0,b.formatMessage)({id:"appOverview.btn.update"}),action:"upgrade"},{permissions:l,name:(0,b.formatMessage)({id:"appOverview.list.table.restart"}),action:"restart"},{permissions:i,name:(0,b.formatMessage)({id:"appOverview.list.table.stop"}),action:"stop"},{permissions:a,name:(0,b.formatMessage)({id:"appOverview.list.table.start"}),action:"start"},{permissions:f,name:(0,b.formatMessage)({id:"appOverview.list.table.move"}),action:!1,customMethods:this.showBatchMove},{permissions:h,name:(0,b.formatMessage)({id:"appOverview.list.table.delete"}),action:!1,customMethods:this.handleBatchDelete}],F=N.default.createElement(p.default,null,Q.map(e=>{var t=e.permissions,a=e.name,l=e.action,i=e.customMethods;return t&&N.default.createElement(p.default.Item,{style:{textAlign:"center"}},N.default.createElement("a",{loading:X===l&&X,onClick:()=>{l?(this.handleOperationState(l),this.handleBatchOperation(l)):i()}},a))})),K=N.default.createElement("div",{className:T.default.tableList},N.default.createElement("div",{className:T.default.tableListOperator},N.default.createElement(d.default,{overlay:F,trigger:["click"],placement:"topCenter",disabled:!this.CanBatchOperation()},N.default.createElement(m.default,{style:{padding:"8px 16px"}},(0,b.formatMessage)({id:"appOverview.list.table.batchOperate"})," ",N.default.createElement(c.default,{type:"down"})))));return N.default.createElement("div",null,N.default.createElement(s.default,{style:{minHeight:400},bordered:!1,bodyStyle:{padding:"10px 10px"}},N.default.createElement(n.default,{layout:"inline",style:{marginBottom:"10px"}},N.default.createElement(n.default.Item,null,N.default.createElement(o.default,{style:{width:250},placeholder:(0,b.formatMessage)({id:"appOverview.list.input.seach.hint"}),onChange:this.handelChange,onPressEnter:this.handleSearch})),N.default.createElement(n.default.Item,null,N.default.createElement(m.default,{type:"primary",onClick:this.handleSearch,icon:"search"},(0,b.formatMessage)({id:"appOverview.list.btn.seach"})))),N.default.createElement(r.default,{pagination:U,rowSelection:J,onChange:this.handleTableChange,columns:H,loading:w||j||G||Y,dataSource:R||[],footer:()=>K}),W&&N.default.createElement(D.default,{batchDeleteApps:B,onCancel:this.hideBatchDelete,onOk:this.hideBatchDelete}),O&&N.default.createElement(S.default,{loading:v,currGroupID:k,groups:P,onOk:this.handleBatchMove,onCancel:this.hideMoveGroup})))}},f=C))||f);t.default=j},"3jFV":function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV"));a("T2oS");var r=l(a("W9HT"));a("5Dmo");var n=l(a("3S7+"));a("5NDa");var o=l(a("5rEg"));a("sRBo");var d=l(a("kaz8"));a("14J3");var c=l(a("BMrR"));a("jCWc");var p=l(a("kPKH")),u=l(a("jehZ"));a("+L6B");var m=l(a("2/Rp"));a("/xke");var g=l(a("TeRw")),I=l(a("p0pE"));a("OaEy");var h=l(a("2fM7"));a("y8nQ");var f,C,A,v,M=l(a("Vl3Y")),y=a("CC/n"),N=a("DrY4"),b=a("MuoO"),S=a("7DNP"),D=i(a("q1tI")),w=a("LLXN"),E=l(a("lpA0")),Z=l(a("QDog")),T=l(a("qCJ4")),j=l(a("e6Ls")),G=l(a("Kia0")),k=M.default.Item,P=h.default.Option,x=(f=M.default.create(),C=(0,b.connect)(e=>{var t=e.user,a=e.enterprise,l=e.application;return{currentUser:t.currentUser,currentEnterprise:a.currentEnterprise,groupDetail:l.groupDetail||{}}}),f(A=C((v=class extends D.PureComponent{constructor(e){super(e),this.onAddGroup=(()=>{this.setState({addGroup:!0})}),this.onSelectChange=(e=>{this.handleOpenLoging();var t=this.props.form,a=this.state.userTeamList,l=t.setFieldsValue,i=a.filter(t=>t.name===e);i&&(i.length>0?this.fetchTeamApps(i[0].value[0],i[0].value[1]):(this.handleCloseLoging(),l({apps:""})))}),this.onGroupChange=(e=>{var t=this.state.checkAllList;this.setState({checkedList:e,indeterminate:!!e.length&&e.length<t.length,checkAll:e.length===t.length})}),this.onCheckAllChange=(e=>{var t=this.state.checkAllList;this.setState({checkedList:e.target.checked?t:[],indeterminate:!1,checkAll:e.target.checked})}),this.getUserTeams=(()=>{var e=this.props,t=e.dispatch,a=e.currentEnterprise;t({type:"global/fetchMyTeams",payload:{enterprise_id:a.enterprise_id,page:1,page_size:999},callback:e=>{if(e&&200===e.status_code){var t=e.list,a=[];t&&t.length>0&&t.map(e=>{e.region_list.map(t=>{var l={name:"".concat(e.team_alias," | ").concat(t.region_alias),value:[e.team_name,t.region_name]};a.push(l)})}),this.setState({userTeamList:a})}}})}),this.handleOpenLoging=(()=>{this.setState({Loading:!0,loading:!0})}),this.handleCloseLoging=(()=>{this.setState({Loading:!1,loading:!1})}),this.cancelAddGroup=(()=>{this.setState({addGroup:!1})}),this.fetchCopyComponent=(()=>{var e=this.props,t=e.dispatch,a=e.groupDetail;t({type:"application/fetchCopyComponent",payload:{tenantName:Z.default.getCurrTeamName(),group_id:a.app_id},callback:e=>{if(e&&200===e.status_code){var t=e.list,a=[];t&&t.length>0&&t.map((e,t)=>{a.push(t)}),this.setState({checkAllList:a,checkedList:a,dataSource:e.list,loading:!1,Loading:!1})}}})}),this.handleAddGroup=(e=>{var t=this.props.form.getFieldValue,a=this.state.userTeamList,l=t("teamRegion"),i=a.filter(e=>e.name===l),s="",r="";i.length>0&&(s=i&&i[0].value[0],r=i&&i[0].value[1]),this.handleOpenLoging(),(0,y.addGroup)((0,I.default)({team_name:s||Z.default.getCurrTeamName(),region_name:r||Z.default.getCurrRegionName()},e)).then(e=>{e&&(this.fetchTeamApps(s,r,e.bean.group_id),this.cancelAddGroup())}).finally(()=>{this.handleCloseLoging()})}),this.fetchTeamApps=((e,t,a)=>{var l=this.props.form,i=l.setFieldsValue;(0,N.getTeamRegionGroups)({query:"",team_name:e||Z.default.getCurrTeamName(),region_name:t||Z.default.getCurrRegionName(),noModels:!0}).then(t=>{var l=t&&t.list||[];e&&i({apps:a||(l.length>0?l[0].group_id:"")}),this.setState({apps:l}),this.handleCloseLoging()}).catch(()=>{this.handleCloseLoging()})}),this.handleSubmit=(()=>{var e=this.state.checkedList;this.props.form.validateFields((t,a)=>{t||(e&&e.length>20?g.default.warning({message:(0,w.formatMessage)({id:"notification.warn.app_copy_max20"})}):(this.setState({Loading:!0}),this.AddCopyTeamApps(a)))})}),this.AddCopyTeamApps=(e=>{var t=this.props,a=t.dispatch,l=t.groupDetail,i=t.onCancel,s=this.state,r=s.dataSource,n=s.checkedList,o=s.userTeamList,d={},c=e.apps,p=e.teamRegion;d.tar_group_id=c;var u=o.filter(e=>e.name===p);d.tar_team_name=u&&u[0].value[0],d.tar_region_name=u&&u[0].value[1];var m=[];n.map(e=>{var t=r[e],a=t.service_id,l=t.build_source,i=l.code_version,s=l.version,n=E.default.isCodeAppByBuildSource(l),o=n?i:s,d={service_id:a,change:{build_source:{version:o}}};m.push(d)}),d.services=m,a({type:"application/addCopyTeamApps",payload:(0,I.default)({tenantName:Z.default.getCurrTeamName(),group_id:l.app_id},d),callback:e=>{if(this.handleCloseLoading(),e&&200===e.status_code){g.default.success({message:(0,w.formatMessage)({id:"notification.success.copy"})});var t=e.bean,l=t.tar_team_name,s=t.tar_region_name,r=t.tar_group_id;a(S.routerRedux.push("/team/".concat(l,"/region/").concat(s,"/apps/").concat(r))),i()}},handleError:e=>{e&&e.data&&e.data.msg_show&&g.default.warning({message:e.data.msg_show}),this.handleCloseLoading()}})}),this.handleCloseLoading=(()=>{this.setState({Loading:!1,loading:!1})}),this.handleSave=(e=>{var t=[...this.state.dataSource],a=t.findIndex(t=>e.service_id===t.service_id),l=t[a];t.splice(a,1,(0,I.default)({},l,e)),this.setState({dataSource:t})}),this.handleOverDiv=(e=>{return D.default.createElement("div",null,e)}),this.checkTeams=((e,t,a)=>{t&&0===t.length||!t?a("\u8bf7\u9009\u62e9\u56e2\u961f/\u96c6\u7fa4"):t&&1===t.length?a("\u8bf7\u9009\u62e9\u96c6\u7fa4"):a()}),this.save=((e,t,a)=>{var l=t?"code_version":"version",i=e;i.build_source[l]=a,this.handleSave((0,I.default)({},i))}),this.state={userTeamList:[],Loading:!0,loading:!0,dataSource:[],apps:[],checkedList:[],checkAllList:[],indeterminate:!1,checkAll:!0,addGroup:!1}}componentDidMount(){this.fetchCopyComponent(),this.getUserTeams(),this.fetchTeamApps()}render(){var e=this.props,t=e.title,a=e.onCancel,l=e.form,i=e.groupDetail,g=l.getFieldDecorator,I=this.state,f=I.userTeamList,C=I.dataSource,A=I.checkedList,v=I.apps,y=I.loading,N=I.Loading,b=I.addGroup,S=I.indeterminate,x=I.checkAll,_=f&&f.length>0&&f,z="",L=Z.default.getCurrTeamName(),R=Z.default.getCurrRegionName();_&&f.map(e=>{e.value[0]===L&&e.value[1]===R&&(z=e.name)});var V=v&&v.length>0&&v,W=A&&A.length>0,B={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:17}}};return D.default.createElement(s.default,{className:j.default.TelescopicModal,onOk:this.handleSubmit,title:t,width:1200,visible:!0,onCancel:a,footer:[D.default.createElement(m.default,{onClick:a}," ",(0,w.formatMessage)({id:"popover.cancel"})," "),D.default.createElement(m.default,{type:"primary",style:{marginTop:"20px"},disabled:!W,loading:N,onClick:this.handleSubmit},(0,w.formatMessage)({id:"popover.confirm"}))]},D.default.createElement(r.default,{spinning:y,tip:"Loading..."},D.default.createElement("div",{className:G.default.copyBox},b&&D.default.createElement(T.default,{copyFlag:this.props.copyFlag,isAddGroup:!1,loading:y,onCancel:this.cancelAddGroup,onOk:this.handleAddGroup}),D.default.createElement(M.default,{onSubmit:this.handleSubmit,layout:"horizontal",hideRequiredMark:!0},D.default.createElement(c.default,null,_&&D.default.createElement(p.default,{span:6},D.default.createElement(k,(0,u.default)({},B,{label:(0,w.formatMessage)({id:"confirmModal.app.label.teamRegion"})}),g("teamRegion",{initialValue:z,rules:[{required:!0,validator:this.checkTeams}]})(D.default.createElement(h.default,{getPopupContainer:e=>e.parentNode,onChange:this.onSelectChange,placeholder:(0,w.formatMessage)({id:"placeholder.copy.team_region"})},_.map(e=>{return D.default.createElement(P,{value:e.name},e.name)}))))),D.default.createElement(p.default,{span:10,style:{display:"flex",alignItems:"center"}},D.default.createElement(k,(0,u.default)({},B,{label:""}),g("apps",{initialValue:i.app_id,rules:[{required:!0,message:(0,w.formatMessage)({id:"placeholder.app"})}]})(D.default.createElement(h.default,{getPopupContainer:e=>e.parentNode,style:{width:"180px"},placeholder:(0,w.formatMessage)({id:"placeholder.app"})},V&&V.map(e=>D.default.createElement(P,{key:e.group_id,value:e.group_id},e.group_name))))),D.default.createElement(m.default,{style:{margin:"0 0 24px 10px"},onClick:this.onAddGroup},(0,w.formatMessage)({id:"popover.newApp.title"}))))),D.default.createElement("div",{className:G.default.tabTitle},D.default.createElement("div",{className:"".concat(G.default.w300," ").concat(G.default.over)},D.default.createElement(d.default,{indeterminate:S,onChange:this.onCheckAllChange,checked:x},(0,w.formatMessage)({id:"popover.newComponent.componentName"}))),D.default.createElement("div",{className:"".concat(G.default.w500," ").concat(G.default.over)},(0,w.formatMessage)({id:"confirmModal.app.label.build"})),D.default.createElement("div",{className:"".concat(G.default.w300," ").concat(G.default.over)},(0,w.formatMessage)({id:"confirmModal.app.label.editVersions"}))),D.default.createElement(d.default.Group,{style:{width:"100%"},value:A,onChange:this.onGroupChange},C.map((e,t)=>{var a=e.service_cname,l=e.build_source,i=e.service_id,s=l||{},r=s.code_version,c=s.version,p=s.image,u=s.git_url,m=s.package_name,I=s.rain_app_name,f=s.service_source,C=E.default.isImageAppByBuildSource(l),A=E.default.isMarketAppByBuildSource(l),v=E.default.isCodeAppByBuildSource(l),M=E.default.isUploadFilesAppSource(l),y=v?r:c,N="third_party"===f,b=C?p:v?u:A?I:M?m:"",S="",Z=D.default.createElement(h.default,{getPopupContainer:e=>e.parentNode,style:{width:90},defaultValue:C?"Tag":"branch"},!C&&D.default.createElement(P,{value:"branch"},(0,w.formatMessage)({id:"confirmModal.app.label.branch"})),v&&D.default.createElement(P,{value:"Tag"},(0,w.formatMessage)({id:"confirmModal.app.label.tag"})));return S=C||v?D.default.createElement(k,null,g(i,{initialValue:y||"",rules:[{required:!0,message:(0,w.formatMessage)({id:"placeholder.copy.not_null"})}]})(D.default.createElement(o.default,{addonBefore:Z,onPressEnter:t=>{this.save(e,v,t.target.value)},onBlur:t=>{this.save(e,v,t.target.value)},style:{width:"268px"}}))):N?"-":(0,w.formatMessage)({id:"confirmModal.app.label.not_change"}),D.default.createElement("div",{className:G.default.tabTr,key:i},D.default.createElement(n.default,{title:a},D.default.createElement("div",{className:"".concat(G.default.w300," ").concat(G.default.over)},D.default.createElement(d.default,{value:t},a))),D.default.createElement(n.default,{title:N?(0,w.formatMessage)({id:"confirmModal.app.label.third_party"}):b},D.default.createElement("div",{className:"".concat(G.default.w500," ").concat(G.default.over)},D.default.createElement("div",{style:{paddingRight:"5px",width:"80px",color:"rgba(0, 0, 0, 0.85)"}},C?(0,w.formatMessage)({id:"confirmModal.app.label.mirror_image"}):v?(0,w.formatMessage)({id:"confirmModal.app.label.sound_code"}):A?(0,w.formatMessage)({id:"confirmModal.app.label.component_library"}):N?(0,w.formatMessage)({id:"confirmModal.app.label.third_party"}):M?(0,w.formatMessage)({id:"confirmModal.app.label.local"}):""),D.default.createElement("div",{className:"".concat(G.default.w380," ").concat(G.default.over)},N?"-":b))),D.default.createElement("div",{className:"".concat(G.default.w300," ").concat(G.default.over),style:{height:"80px"}},S))})))))}},A=v))||A)||A);t.default=x},"4SMx":function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV")),r=l(a("jehZ"));a("T2oS");var n=l(a("W9HT"));a("OaEy");var o=l(a("2fM7"));a("y8nQ");var d,c,p,u,m=l(a("Vl3Y")),g=a("MuoO"),I=i(a("q1tI")),h=a("LLXN"),f=l(a("e6Ls")),C=m.default.Item,A=o.default.Option,v=(d=m.default.create(),c=(0,g.connect)(),d(p=c((u=class extends I.PureComponent{constructor(e){super(e),this.onOk=(e=>{e.preventDefault();var t=this.props,a=t.form,l=t.onOk,i=t.group_name,s=t.note;a.validateFields({force:!0},(e,t)=>{if(!e&&l){var a=Object.assign(t,{group_name:i,note:s});l(a)}})}),this.fetchTeamMember=(e=>{var t=this.props,a=t.dispatch,l=t.teamName,i=t.regionName;this.setState({fetching:!0}),a({type:"teamControl/fetchMember",payload:{query:e,team_name:l,region_name:i,page_size:this.state.pageSize,page:this.state.page},callback:e=>{e&&this.setState({members:e.list||[],fetching:!1})}})}),this.state={fetching:!1,page:1,pageSize:99,members:[]}}componentWillMount(){this.fetchTeamMember()}render(){var e=this.props,t=e.title,a=e.onCancel,l=e.form,i=e.principal,d=e.loading,c=void 0!==d&&d,p=this.state,u=p.members,g=p.fetching,v=l.getFieldDecorator,M={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}};return I.default.createElement(s.default,{title:t||(0,h.formatMessage)({id:"teamOther.edit.editHead"}),visible:!0,confirmLoading:c,className:f.default.TelescopicModal,onCancel:a,onOk:this.onOk},I.default.createElement(m.default,{onSubmit:this.onOk},I.default.createElement(C,(0,r.default)({},M,{label:(0,h.formatMessage)({id:"teamOther.edit.head"})}),v("username",{initialValue:i||"",rules:[{required:!0,message:(0,h.formatMessage)({id:"teamOther.edit.choose"})}]})(I.default.createElement(o.default,{getPopupContainer:e=>e.parentNode,showSearch:!0,notFoundContent:g?I.default.createElement(n.default,{size:"small"}):null,filterOption:!1,onSearch:this.fetchTeamMember,style:{width:"100%"}},u.map(e=>I.default.createElement(A,{key:e.nick_name},e.nick_name,"/",e.user_name)))))))}},p=u))||p)||p);t.default=v},"6JQQ":function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV"));a("/xke");var r=l(a("TeRw"));a("OaEy");var n=l(a("2fM7"));a("y8nQ");var o,d,c,p=l(a("Vl3Y")),u=i(a("q1tI")),m=a("LLXN"),g=p.default.Item,I=n.default.Option,h=(o=p.default.create(),o((c=class extends u.PureComponent{constructor(){super(...arguments),this.handleSubmit=(e=>{e.preventDefault();var t=this.props,a=t.form,l=t.currGroupID;a.validateFields((e,t)=>{e||(t.group_id!==l?this.props.onOk(t.group_id):r.default.warning({message:(0,m.formatMessage)({id:"notification.warn.not_select_app"})}))})})}render(){var e=this.props.groups||[],t=this.props,a=t.loading,l=void 0!==a&&a,i=t.currGroupID,r=t.form,o=r.getFieldDecorator;return u.default.createElement(s.default,{title:"\u4fee\u6539\u7ec4\u4ef6\u6240\u5c5e\u5e94\u7528",visible:!0,confirmLoading:l,onOk:this.handleSubmit,onCancel:this.props.onCancel},u.default.createElement(p.default,{onSubmit:this.handleSubmit},u.default.createElement(g,{label:""},o("group_id",{initialValue:i&&Number(i)||"",rules:[{required:!0,message:"\u4e0d\u80fd\u4e3a\u7a7a!"}]})(u.default.createElement(n.default,{getPopupContainer:e=>e.parentNode},e.map(e=>{return u.default.createElement(I,{key:e.group_id,value:e.group_id},e.group_name)}))))))}},d=c))||d);t.default=h},"8vpL":function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV"));a("/xke");var r,n,o,d=l(a("TeRw")),c=a("MuoO"),p=a("7DNP"),u=i(a("q1tI")),m=a("LLXN"),g=l(a("nyIC")),I=l(a("q76B")),h=l(a("QDog")),f=(l(a("hMqj")),l(a("J5jb")),l(a("rIpq")),l(a("zcww")),l(a("+iC2")),l(a("TO+K")),l(a("e6Ls"))),C=(l(a("R2TL")),r=(0,c.connect)(e=>{var t=e.user,a=e.appControl,l=e.global,i=e.teamControl,s=e.enterprise,r=e.loading;return{currUser:t.currentUser,appDetail:a.appDetail,pods:a.pods,groups:l.groups,build_upgrade:a.build_upgrade,currentTeam:i.currentTeam,currentRegionName:i.currentRegionName,currentEnterprise:s.currentEnterprise,deleteAppLoading:r.effects["appControl/deleteApp"],reStartLoading:r.effects["appControl/putReStart"],startLoading:r.effects["appControl/putStart"],stopLoading:r.effects["appControl/putStop"],moveGroupLoading:r.effects["appControl/moveGroup"],editNameLoading:r.effects["appControl/editName"],updateRollingLoading:r.effects["appControl/putUpdateRolling"],deployLoading:r.effects["appControl/putUpgrade"],buildInformationLoading:r.effects["appControl/getBuildInformation"]}},null,null,{withRef:!0}),r((o=class extends u.default.Component{constructor(){var e;super(...arguments),e=this,this.state={flag:!1,appAlias:"",promptModal:null,closes:!1,start:!1,updated:!1,actionIng:!1,keyes:!1,srcUrl:"/static/www/weavescope/index.html",teamName:"",regionName:"",build:!1},this.cancelDeleteApp=function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({flag:!1})},this.handleDeleteApp=(()=>{var e=h.default.getCurrTeamName(),t=h.default.getCurrRegionName(),a=this.props,l=a.group_id,i=a.dispatch;i({type:"appControl/deleteApp",payload:{team_name:e,app_alias:this.state.appAlias},callback:()=>{this.cancelDeleteApp(!1),this.refreshFrame(),i({type:"global/fetchGroups",payload:{team_name:e}}),i(p.routerRedux.replace("/team/".concat(e,"/region/").concat(t,"/apps/").concat(l)))}})}),this.handleOffHelpfulHints=(()=>{this.setState({promptModal:null,closes:!1})}),this.saveRef=(e=>{this.ref=e}),this.getChildCom=(()=>{return this.ref?this.ref.getWrappedInstance({}):null}),this.handleOperation=(e=>{var t=this.state.actionIng,a=h.default.getCurrTeamName(),l=(h.default.getCurrRegionName(),this.props),i=(l.group_id,l.dispatch);if(t)d.default.warning({message:(0,m.formatMessage)({id:"notification.warn.executing"})});else{var s={putReStart:(0,m.formatMessage)({id:"notification.success.operationRestart"}),putStart:(0,m.formatMessage)({id:"notification.success.operationStart"}),putStop:(0,m.formatMessage)({id:"notification.success.operationClose"}),putUpdateRolling:(0,m.formatMessage)({id:"notification.success.operationUpdata"}),putBuild:(0,m.formatMessage)({id:"notification.success.deployment"})};i({type:"appControl/".concat(e),payload:{team_name:a,app_alias:this.state.appAlias},callback:t=>{t&&d.default.success({message:s[e]}),this.handleOffHelpfulHints(),this.refreshFrame()}})}}),this.handleJumpAgain=(()=>{var e=this.state.promptModal;if("build"===e)return this.handleDeploy(),null;var t="stop"===e?"putStop":"start"===e?"putStart":"restart"===e?"putReStart":"build"===e?"putBuild":"rolling"===e?"putUpdateRolling":"";this.handleOperation(t)}),this.refreshFrame=(()=>{document.getElementById("myframe").contentWindow.location.reload(!0)}),this.handleDeploy=(()=>{var e=this.state,t=e.actionIng,a=e.appAlias,l=h.default.getCurrTeamName(),i=(h.default.getCurrRegionName(),this.props),s=(i.build_upgrade,i.dispatch);t?d.default.warning({message:(0,m.formatMessage)({id:"notification.warn.executing"})}):s({type:"appControl/putDeploy",payload:{team_name:l,app_alias:a,group_version:"",is_upgrate:""},callback:e=>{e&&d.default.success({message:(0,m.formatMessage)({id:"notification.success.deployment"})}),this.handleOffHelpfulHints(),this.refreshFrame()}})})}componentWillMount(){var e=this,t=h.default.getCurrTeamName(),a=h.default.getCurrRegionName(),l=this.props,i=l.group_id,s=l.dispatch,r="".concat(g.default.baseUrl,"/console/teams/").concat(t,"/regions/").concat(a,"/topological?group_id=").concat(i),n="".concat(g.default.baseUrl,"/console/teams/").concat(t,"/regions/").concat(a,"/topological"),o="".concat(g.default.baseUrl,"/console/teams/").concat(t,"/groups/").concat(i);try{window.iframeGetNodeUrl=function(){return r},window.iframeGetNodeVistitUrl=function(){return n},window.iframeGetMonitor=function(e,a){return s({type:"application/groupMonitorData",payload:{team_name:t,group_id:i},callback:t=>{t&&e&&e(t)},handleError:e=>{a&&a(e)}}),r},window.iframeGetAppName=function(){return o},window.iframeGetTenantName=function(){return t},window.iframeGetRegion=function(){return a},window.iframeGetGroupId=function(){return i},window.handleClickService=function(e,l){s(l?p.routerRedux.push("/team/".concat(t,"/region/").concat(a,"/apps/").concat(e.app_id)):p.routerRedux.push("/team/".concat(t,"/region/").concat(a,"/components/").concat(e.service_alias,"/overview")))},window.handleClickRelation=function(e){s(p.routerRedux.push("/team/".concat(t,"/region/").concat(a,"/components/").concat(e.service_alias,"/overview")))},window.handleClickTerminal=function(l){e.setState({teamName:t,regionName:a,appAlias:l.service_alias});document.getElementById("links").click()},window.handleClickBuild=function(t,a){"build"==t&&e.setState({closes:!1,start:!1,updated:!1,build:!0,appAlias:a.service_alias,promptModal:"build"})},window.handleClickUpdate=function(t,a){"update"==t&&e.setState({closes:!1,start:!1,updated:!0,appAlias:a.service_alias,promptModal:"rolling"})},window.handleClickCloses=function(t,a){"closes"==t&&e.setState({closes:!0,start:!1,updated:!1,appAlias:a.service_alias,promptModal:"stop",keyes:!e.state.keyes,srcUrl:e.state.srcUrl})},window.handleClickStart=function(t,a){"start"==t&&e.setState({start:!0,closes:!1,updated:!1,appAlias:a.service_alias,promptModal:"start",keyes:!e.state.keyes,srcUrl:e.state.srcUrl})},window.handleClickDelete=function(t,a){"deleteApp"==t&&e.setState({flag:!0,appAlias:a.service_alias})}}catch(e){}}render(){var e=this.props,t=e.deleteAppLoading,a=(e.reStartLoading,e.stopLoading),l=e.startLoading,i=e.updateRollingLoading,r=(e.flagHeight,e.iframeHeight),n=this.state,o=n.flag,d=n.promptModal,c=n.closes,h=n.start,C=n.updated,A=n.keyes,v=n.srcUrl,M=n.teamName,y=n.regionName,N=n.appAlias,b=n.build,S={start:"\u542f\u52a8",stop:"\u5173\u95ed",rolling:"\u66f4\u65b0",build:"\u6784\u5efa"};return u.default.createElement("div",{key:A,style:{height:r}},o&&u.default.createElement(I.default,{onOk:this.handleDeleteApp,onCancel:this.cancelDeleteApp,loading:t,title:(0,m.formatMessage)({id:"confirmModal.component.delete.title"}),desc:(0,m.formatMessage)({id:"confirmModal.delete.component.desc"}),subDesc:(0,m.formatMessage)({id:"confirmModal.delete.strategy.subDesc"})}),(c||h||C||b)&&u.default.createElement(s.default,{title:"\u53cb\u60c5\u63d0\u793a",visible:d,className:f.default.TelescopicModal,onOk:this.handleJumpAgain,onCancel:this.handleOffHelpfulHints,confirmLoading:"stop"===d?a:"start"===d?l:"rolling"===d?i:!d},u.default.createElement("p",{style:{textAlign:"center"}},"\u786e\u5b9a",S[d],"\u5f53\u524d\u7ec4\u4ef6\uff1f")),u.default.createElement(p.Link,{id:"links",to:"/team/".concat(M,"/region/").concat(y,"/components/").concat(N,"/webconsole"),target:"_blank"}),u.default.createElement("iframe",{src:"".concat(g.default.baseUrl).concat(v),style:{width:"100%",height:"100%"},id:"myframe",key:A,sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",scrolling:"auto",frameBorder:"no",border:"0",marginWidth:"0",marginHeight:"0"}))}},n=o))||n),A=C;t.default=A},CfDn:function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=l(a("jehZ"));a("T2oS");var r,n,o,d=l(a("W9HT")),c=l(a("QDog")),p=l(a("hMqj")),u=a("MuoO"),m=i(a("q1tI")),g=l(a("Z0Jj")),I=l(a("t3BL")),h=(r=(0,u.connect)(e=>{var t=e.teamControl,a=e.application;return{currentTeamPermissionsInfo:t.currentTeamPermissionsInfo,groupDetail:a.groupDetail||{}}},null,null,{pure:!1}),r((o=class extends m.PureComponent{constructor(e){super(e),this.handlePermissions=(e=>{var t=this.props.currentTeamPermissionsInfo;return p.default.querySpecifiedPermissionsInfo(t,e)}),this.state={currApp:{},loading:!0,appID:this.getGroupId(),operationPermissions:this.handlePermissions("queryControlInfo"),appPermissions:this.handlePermissions("queryAppInfo"),appConfigGroupPermissions:this.handlePermissions("queryAppConfigGroupInfo"),componentPermissions:this.handlePermissions("queryComponentInfo")}}componentWillMount(){var e=this.props.dispatch,t=this.state.appPermissions.isAccess;t||c.default.withoutPermission(e)}getGroupId(){var e=this.props.match.params;return e.appID}render(){var e=this.props.groupDetail;return m.default.createElement(m.Fragment,null,"{}"===JSON.stringify(e)?m.default.createElement(d.default,null):"helm"===e.app_type?m.default.createElement(I.default,(0,s.default)({},this.props,this.state)):m.default.createElement(g.default,(0,s.default)({},this.props,this.state)))}},n=o))||n);t.default=h},DxSl:function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("DZo9");var s=l(a("8z0m"));a("Pwec");var r=l(a("CtXQ"));a("5NDa");var n=l(a("5rEg")),o=l(a("jehZ"));a("+L6B");var d=l(a("2/Rp"));a("/xke");var c=l(a("TeRw"));a("y8nQ");var p=l(a("Vl3Y"));a("OaEy");var u,m,g,I,h=l(a("2fM7")),f=a("MuoO"),C=i(a("q1tI")),A=a("LLXN"),v=l(a("qCJ4")),M=l(a("QDog")),y=l(a("8+Sn")),N=(l(a("PKy1")),h.default.Option),b={labelCol:{span:5},wrapperCol:{span:19}},S={labelCol:{span:7},wrapperCol:{span:17}},D=(u=(0,f.connect)(e=>{var t=e.global,a=e.loading;return{groups:t.groups,createAppByDockerrunLoading:a.effects["createApp/createAppByDockerrun"]}},null,null,{withRef:!0}),m=p.default.create(),u(g=m((I=class extends C.PureComponent{constructor(e){super(e),this.onAddGroup=(()=>{this.setState({addGroup:!0})}),this.cancelAddGroup=(()=>{this.setState({addGroup:!1})}),this.handleAddGroup=(e=>{var t=this.props.form.setFieldsValue;t({group_id:e}),this.cancelAddGroup()}),this.handleJarWarUpload=(()=>{var e=this.props.dispatch,t=M.default.getCurrTeamName(),a=M.default.getCurrRegionName();e({type:"createApp/createJarWarServices",payload:{region:a,team_name:t,component_id:""},callback:e=>{e&&200===e.status_code&&this.setState({record:e.bean,event_id:e.bean.event_id,region_name:e.bean&&e.bean.region,team_name:e.bean&&e.bean.team_name},()=>{""!==e.bean.region&&(this.loop=!0,this.handleJarWarUploadStatus())})}})}),this.handleJarWarUploadRecord=(e=>{var t=this.props.dispatch;t({type:"createApp/createJarWarUploadRecord",payload:{region:M.default.getCurrRegionName(),team_name:M.default.getCurrTeamName(),component_id:"",file_type:e},callback:e=>{e.bean&&e.bean.source_dir&&e.bean.source_dir.length>0?this.setState({existFileList:e.bean.source_dir,event_id:e.bean.event_id}):this.handleJarWarUpload()},handleError:()=>{}})}),this.handleJarWarUploadStatus=(()=>{var e=this.props.dispatch,t=this.state.event_id;e({type:"createApp/createJarWarUploadStatus",payload:{region:M.default.getCurrRegionName(),team_name:M.default.getCurrTeamName(),event_id:t},callback:e=>{e&&e.bean.package_name.length>0&&(this.setState({existFileList:e.bean.package_name}),c.default.success({message:(0,A.formatMessage)({id:"notification.success.upload_file"})}),this.loop=!1),this.loop&&setTimeout(()=>{this.handleJarWarUploadStatus()},3e3)},handleError:()=>{}})}),this.handleJarWarUploadDelete=(()=>{var e=this.state.event_id,t=this.props.dispatch;t({type:"createApp/deleteJarWarUploadStatus",payload:{team_name:M.default.getCurrTeamName(),event_id:e},callback:e=>{"ok"==e.bean.res&&(this.setState({existFileList:[]}),c.default.success({message:(0,A.formatMessage)({id:"notification.success.delete_file"})}),this.handleJarWarUpload())}})}),this.onChangeUpload=(e=>{var t=e.fileList;t=t.filter(e=>{return!e.response||"success"===e.response.msg}),e&&e.event&&e.event.percent&&this.setState({percents:e.event.percent});var a=e.file.status;"done"===a&&this.setState({percents:!1}),this.setState({fileList:t})}),this.onRemove=(()=>{this.setState({fileList:[]})}),this.handleSubmit=(e=>{e.preventDefault();var t=this.props,a=t.form,l=t.onSubmit,i=this.state.event_id;a.validateFields((e,t)=>{!e&&l&&l(t,i)})}),this.handleValiateNameSpace=((e,t,a)=>{if(!t)return a(new Error((0,A.formatMessage)({id:"otherApp.UploadYaml.name_en"})));if(t&&t.length<=32){var l=/^[a-z]([-a-z0-9]*[a-z0-9])?$/;if(!l.test(t))return a(new Error((0,A.formatMessage)({id:"otherApp.UploadYaml.only"})));a()}return t.length>32?a(new Error((0,A.formatMessage)({id:"otherApp.UploadYaml.max"}))):void 0}),this.state={showUsernameAndPass:!1,addGroup:!1,fileList:[],isShowCom:!0,record:{},event_id:"",region_name:"",team_name:"",percents:!1,existFileList:[],language:"zh-CN"===y.default.get("language")}}componentWillMount(){this.loop=!1}componentDidMount(){this.handleJarWarUploadRecord("jwar")}componentWillUnmount(){this.loop=!1}render(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.groups,l=t.createAppByDockerrunLoading,i=t.handleType,c=t.ButtonGroupState,u=t.groupId,m=t.showSubmitBtn,g=void 0===m||m,I=t.showCreateGroup,f=void 0===I||I,M=this.state,y=M.fileList,D=(M.defaultRadio,M.isShowCom,M.addGroup,M.record),w=(M.region_name,M.existFileList),E=M.language,Z=this.props.data||{},T=this.props.disableds||[],j=i&&"Service"===i,G=E?b:S;return C.default.createElement(C.Fragment,null,C.default.createElement(p.default,{onSubmit:this.handleSubmit,layout:"horizontal",hideRequiredMark:!0},C.default.createElement(p.default.Item,(0,o.default)({},G,{label:(0,A.formatMessage)({id:"otherApp.UploadYaml.name"})}),e("group_id",{initialValue:j?Number(u):Z.group_id,rules:[{required:!0,message:(0,A.formatMessage)({id:"otherApp.UploadYaml.app"})}]})(C.default.createElement(h.default,{getPopupContainer:e=>e.parentNode,placeholder:(0,A.formatMessage)({id:"otherApp.UploadYaml.app"}),style:{display:"inline-block",width:j?"":292,marginRight:15},disabled:!!j},(a||[]).map(e=>C.default.createElement(N,{value:e.group_id},e.group_name)))),j?null:f?C.default.createElement(d.default,{onClick:this.onAddGroup},(0,A.formatMessage)({id:"popover.newApp.title"})):null),C.default.createElement(p.default.Item,(0,o.default)({},G,{label:(0,A.formatMessage)({id:"otherApp.UploadJarWar.name"})}),e("service_cname",{initialValue:Z.service_cname||"",rules:[{required:!0,message:(0,A.formatMessage)({id:"otherApp.UploadJarWar.input_name"})},{max:24,message:(0,A.formatMessage)({id:"otherApp.UploadJarWar.max"})}]})(C.default.createElement(n.default,{disabled:T.indexOf("service_cname")>-1,placeholder:(0,A.formatMessage)({id:"otherApp.UploadJarWar.placese"})}))),C.default.createElement(p.default.Item,(0,o.default)({},G,{label:(0,A.formatMessage)({id:"otherApp.UploadJarWar.en_name"})}),e("k8s_component_name",{rules:[{required:!0,validator:this.handleValiateNameSpace}]})(C.default.createElement(n.default,{placeholder:(0,A.formatMessage)({id:"otherApp.UploadJarWar.input_en_name"})}))),C.default.createElement(p.default.Item,(0,o.default)({label:(0,A.formatMessage)({id:"otherApp.UploadYaml.up"}),extra:(0,A.formatMessage)({id:"otherApp.UploadJarWar.jar"})},G),e("packageTarFile",{rules:[{required:!1,message:(0,A.formatMessage)({id:"otherApp.UploadYaml.placese_up"})}]})(C.default.createElement(s.default,{fileList:y,accept:".jar,.war",name:"packageTarFile",onChange:this.onChangeUpload,onRemove:this.onRemove,action:D.upload_url},C.default.createElement(d.default,null,C.default.createElement(r.default,{type:"upload"})," ",(0,A.formatMessage)({id:"otherApp.UploadYaml.up"}))))),C.default.createElement(p.default.Item,G,w.length>0&&w.map(e=>{return C.default.createElement("div",{style:{marginLeft:"100px"}},C.default.createElement(r.default,{style:{marginRight:"6px"},type:"inbox"}),e,C.default.createElement(r.default,{onClick:this.handleJarWarUploadDelete,style:{marginLeft:"12px",color:"red",cursor:"pointer"},type:"delete"}))})),g?C.default.createElement(p.default.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:G.wrapperCol.span,offset:G.labelCol.span}},label:""},j&&c?this.props.handleServiceBotton(C.default.createElement(d.default,{onClick:this.handleSubmit,type:"primary",loading:l},(0,A.formatMessage)({id:"otherApp.UploadJarWar.new"})),!1):!i&&C.default.createElement(d.default,{onClick:this.handleSubmit,type:"primary",loading:l},(0,A.formatMessage)({id:"otherApp.UploadYaml.creat"}))):null),this.state.addGroup&&C.default.createElement(v.default,{onCancel:this.cancelAddGroup,onOk:this.handleAddGroup}))}},g=I))||g)||g);t.default=D},EhCg:function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("jCWc");var s=l(a("kPKH")),r=l(a("jehZ"));a("sPJy");var n=l(a("bE4q"));a("Pwec");var o=l(a("CtXQ"));a("Znn+");var d,c,p,u,m=l(a("ZTPi")),g=l(a("QDog")),I=l(a("TSYQ")),h=a("MuoO"),f=l(a("bALw")),C=l(a("17x9")),A=i(a("q1tI")),v=l(a("Sp8k"));m.default.TabPane;function M(e,t){var a={};return Object.keys(e).forEach(l=>{(0,f.default)(l).test(t)&&(a=e[l])}),a}var y=(d=(0,h.connect)(),d((u=p=class extends A.PureComponent{constructor(e){super(e),this.handleTitleList=(e=>{this.props.onTabChange?(this.props.onTabChange(e.key),this.setState({back:"#e3e3e3"})):this.setState({back:""})}),this.onChange=(e=>{this.props.onTabChange&&this.props.onTabChange(e)}),this.getBreadcrumbProps=(()=>{return{routes:this.props.routes||this.context.routes,params:this.props.params||this.context.params,routerLocation:this.props.location||this.context.location,breadcrumbNameMap:this.props.breadcrumbNameMap||this.context.breadcrumbNameMap||{}}}),this.conversionFromProps=(()=>{var e=this.props,t=e.breadcrumbList,a=e.linkElement,l=void 0===a?"a":a;return A.default.createElement(n.default,{className:v.default.breadcrumb},t.map((e,t)=>A.default.createElement(n.default.Item,{key:"bread".concat(t)},e.icon?A.default.createElement(o.default,{style:{marginRight:"5px"},type:e.icon}):"",e.href?(0,A.createElement)(l,{["a"===l?"href":"to"]:e.href},e.title):e.title)))}),this.conversionFromLocation=((e,t)=>{var a=this.props.linkElement,l=void 0===a?"a":a,i=e.pathname.split("/").filter(e=>e),s=i.map((e,a)=>{var s="/".concat(i.slice(0,a+1).join("/")),r=M(t,s),o=a!==i.length-1&&r.component;return r.name&&!r.hideInBreadcrumb?A.default.createElement(n.default.Item,{key:s},(0,A.createElement)(o?l:"span",{["a"===l?"href":"to"]:s},r.name)):null});return A.default.createElement(n.default,{className:v.default.breadcrumb},s)}),this.conversionBreadcrumbList=(()=>{var e=this.props.breadcrumbList,t=this.getBreadcrumbProps(),a=t.routes,l=t.params,i=t.routerLocation,s=t.breadcrumbNameMap;return e&&e.length?this.conversionFromProps():a&&l?A.default.createElement(n.default,{className:v.default.breadcrumb,routes:a.filter(e=>e.breadcrumbName),params:l,itemRender:this.itemRender}):location&&location.pathname?this.conversionFromLocation(i,s):null}),this.itemRender=((e,t,a,l)=>{var i=this.props.linkElement,s=void 0===i?"a":i,r=a.indexOf(e)===a.length-1;return r||!e.component?A.default.createElement("span",null,e.breadcrumbName):(0,A.createElement)(s,{href:l.join("/")||"/",to:l.join("/")||"/"},e.breadcrumbName)}),this.state={back:""}}render(){var e,t=this.props,a=t.title,l=t.logo,i=t.action,n=t.content,o=t.extraContent,d=t.tabList,c=t.className,p=t.tabActiveKey,u=t.isSvg,m=(this.state.back,g.default.fetchSvg("appmarket"),(0,I.default)(v.default.pageHeader,c));void 0!==p&&d&&(e=d.filter(e=>e.default)[0]||d[0]);this.conversionBreadcrumbList();var h={defaultActiveKey:e&&e.key};return void 0!==p&&(h.activeKey=p),A.default.createElement("div",{className:m},A.default.createElement("div",{className:v.default.detail},l&&A.default.createElement("div",{className:v.default.logo},l),A.default.createElement("div",{className:v.default.main},A.default.createElement("div",{className:v.default.row},a&&A.default.createElement("h1",{className:v.default.title},a),i&&A.default.createElement("div",{className:v.default.action},i)),A.default.createElement("div",{className:v.default.row},n&&A.default.createElement("div",{className:v.default.content},n),o&&A.default.createElement("div",{className:v.default.extraContent},o)))),A.default.createElement("div",{style:{display:"flex"}},d.map(e=>{var t=e.key,a=e.tab;return A.default.createElement(s.default,(0,r.default)({style:{width:"20%"}},h,{className:v.default.ServiceDiv,onClick:this.handleTitleList.bind(this,e)}),u&&g.default.fetchSvg("localApplication"===t?"appComponent":t.indexOf("Helm-")>-1?"HelmSvg":"appmarket"),A.default.createElement("p",{className:v.default.ServiceSmallTitle},a))})))}},p.contextTypes={routes:C.default.array,params:C.default.object,location:C.default.object,breadcrumbNameMap:C.default.object},c=u))||c);t.default=y},F5Il:function(e,t,a){e.exports={yaml_container:"yaml_container___-buxD",update:"update___ZT1cg",delete:"delete___qWQPJ",fileName:"fileName___3OnVC"}},"Gl/x":function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("fOrg");var s=l(a("+KLJ"));a("2qtc");var r=l(a("kLXV"));a("7Kak");var n=l(a("9yH6"));a("+L6B");var o=l(a("2/Rp"));a("T2oS");var d=l(a("W9HT"));a("5NDa");var c=l(a("5rEg"));a("Mwp2");var p=l(a("VXEj")),u=l(a("jehZ"));a("IzEo");var m=l(a("bx4M"));a("5Dmo");var g=l(a("3S7+"));a("+BJd");var I=l(a("mr32")),h=l(a("p0pE"));a("y8nQ");var f=l(a("Vl3Y"));a("Znn+");var C=l(a("ZTPi"));a("OaEy");var A,v,M,y,N=l(a("2fM7")),b=a("MuoO"),S=a("7DNP"),D=i(a("q1tI")),w=a("LLXN"),E=l(a("/VoG")),Z=l(a("d5pB")),T=l(a("lEF+")),j=l(a("e6Ls")),G=l(a("xNuS")),k=l(a("hH+r")),P=l(a("iPMB")),x=l(a("jWJt")),_=a("34ay"),z=a("vSx2"),L=l(a("QDog")),R=l(a("hMqj")),V=l(a("ZgmS")),W=l(a("yxQP")),B=N.default.Option,O=C.default.TabPane,X=(A=(0,b.connect)(e=>{var t=e.global,a=e.loading,l=e.teamControl,i=e.enterprise;return{loading:a,enterprise:t.enterprise,currentTeam:l.currentTeam,currentRegionName:l.currentRegionName,currentEnterprise:i.currentEnterprise,currentTeamPermissionsInfo:l.currentTeamPermissionsInfo}},null,null,{pure:!1}),v=f.default.create(),A(M=v((y=class extends D.PureComponent{constructor(e){super(e),this.onCancelCreate=(()=>{this.setState({showCreate:null,helmCreate:null,addAppLoading:!1})}),this.getCloudRecommendApps=(e=>{var t=this.state.currentKey,a=this.props.currentEnterprise;this.props.dispatch({type:"market/fetchMarkets",payload:{name:t,enterprise_id:a.enterprise_id,query:e?"":this.state.cloudApp_name||"",pageSize:e?9:this.state.cloudPageSize,page:e?1:this.state.cloudPage},callback:e=>{e?this.setState({cloudList:e.list||[],cloudTotal:e.total},()=>{e._code&&210===e.status_code&&e._condition&&10503===e._condition?this.setState({isSpincloudList:-1,networkText:e.msg_show}):this.setState({isSpincloudList:!1})}):this.setState({isSpincloudList:!1})}})}),this.getApps=(e=>{var t=this.props,a=t.currentEnterprise,l=t.dispatch,i=this.state.scopeMax;if(i&&"localApplication"!==i)return null;l({type:"market/fetchAppModels",payload:{enterprise_id:a.enterprise_id,app_name:e?"":this.state.app_name||"",scope:e?"":this.state.scope,page_size:e?9:this.state.pageSize,page:e?1:this.state.page,need_install:!0,is_complete:1},callback:e=>{e?this.setState({list:e.list||[],total:e.total},()=>{this.setState({isSpinList:!1})}):this.setState({isSpinList:!1})}})}),this.getMarketsTab=(()=>{var e=this.props,t=e.dispatch,a=e.currentEnterprise,l=this.state.scopeMax;t({type:"market/fetchMarketsTab",payload:{enterprise_id:a.enterprise_id},callback:e=>{var t=e&&e.list||[],a=[];t&&t.length>0&&t.map(e=>{var t=e.name,l=e.status,i=e.alias;1===l&&a.push(Object.assign({},e,{tab:i||t,key:t}))}),this.setState({rainStoreTab:a}),l&&"localApplication"!==l&&this.handleTabMaxChange(l)}})}),this.getHelmMarketsTab=(()=>{var e=this.props,t=e.dispatch,a=e.currentEnterprise,l=e.isHelm,i=void 0===l||l;i&&t({type:"market/fetchHelmMarketsTab",payload:{enterprise_id:a.enterprise_id},callback:e=>{if(e&&200===e.status_code){var t=[];Array.isArray(e)&&e.map(e=>{t.push(Object.assign({},e,{tab:e.name,key:"Helm-".concat(e.name)}))}),this.setState({helmStoreTab:t})}}})}),this.getHelmAppStore=(e=>{var t=this.props,a=t.dispatch,l=t.currentEnterprise,i=this.state.helmPag,s=Object.assign({},{name:e,enterprise_id:l.enterprise_id},i);a({type:"market/fetchHelmAppStore",payload:s,callback:e=>{if(e&&200===e.status_code){var t=Object.assign({},i,{total:e&&e.length||0}),a=[];if(Array.isArray(e)){var l=i.query,s=i.page;if(l){var r=[],n=l.length;e.map(e=>{if(n<=e.name.length){var t=e.name.substring(0,n);t.indexOf(l)>-1&&r.push(e)}}),t.total=r.length,a=r.length>9?r.splice(9*(s-1),9):r}else a=e.splice(s>1?9*(s-1):0,9)}this.setState({helmLoading:!1,helmList:a,helmPag:t})}}})}),this.handleSearch=(e=>{var t=this.state.scopeMax;if("localApplication"===t)this.setState({app_name:e,page:1},()=>{this.getApps()});else if(t.indexOf("Helm-")>-1){var a=this.state.helmPag,l=Object.assign({},a,{page:1,query:e});this.setState({helmPag:l},()=>{this.getHelmAppStore(t.slice(5))})}else this.setState({cloudApp_name:e,cloudPage:1},()=>{this.getCloudRecommendApps()})}),this.hanldePageChange=(e=>{this.setState({page:e},()=>{this.getApps()})}),this.hanldeCloudPageChange=(e=>{this.setState({cloudPage:e},()=>{this.getCloudRecommendApps()})}),this.hanldeHelmPageChange=(e=>{var t=this.state,a=t.helmPag,l=t.scopeMax,i=Object.assign({},a,{page:e});this.setState({helmPag:i},()=>{this.getHelmAppStore(l.slice(5))})}),this.handleTabChange=(e=>{this.setState({scope:e,page:1},()=>{this.getApps()})}),this.handleTabMaxChange=(e=>{this.setState({page:1,cloudPage:1,currentKey:e,scopeMax:e,isSpinList:!0,isSpincloudList:!0,app_name:"",cloudApp_name:""},()=>{"localApplication"===e?this.getApps("reset"):e.indexOf("Helm-")>-1?this.getHelmAppStore(e.slice(5)):this.getCloudRecommendApps("reset")}),this.loadMore(e)}),this.showCreate=(e=>{var t=this.state.handleType;t?this.setState({installBounced:e}):this.setState({showCreate:e})}),this.handleHelmIntall=(e=>{var t=this.state,a=t.scopeMax,l=t.helmStoreTab,i={};l.map(e=>{e.key===a&&(i=e)}),this.setState({helmCreate:Object.assign({},e,i,{app_store_name:a.slice(5)})})}),this.handleInstallBounced=(e=>{e.preventDefault();var t=this.props,a=t.form,l=t.dispatch,i=t.groupId,s=t.refreshCurrent,r=this.state,n=r.installBounced,o=r.is_deploy,d=r.scopeMax,c=r.handleType,p=r.currentKey,u=L.default.getCurrTeamName();a.validateFields((e,t)=>{e||l({type:"createApp/installApp",payload:{team_name:u,group_id:i||0,app_id:n.app_id,is_deploy:o,group_key:n.ID,app_version:t.group_version,marketName:p,install_from_cloud:"localApplication"!==d},callback:()=>{l({type:"global/fetchGroups",payload:{team_name:u}}),this.setState({installBounced:!1,is_deploy:!0}),c&&s&&s(),l(S.routerRedux.push("/team/".concat(u,"/region/").concat(L.default.getCurrRegionName(),"/apps/").concat(i||0)))}})})}),this.handleCreate=((e,t)=>{this.setState({addAppLoading:!0});var a=this.props.dispatch,l=this.state,i=l.showCreate,s=l.currentKey,r=L.default.getCurrTeamName();a({type:"createApp/installApp",payload:(0,h.default)({team_name:r},e,{app_id:i.app_id,is_deploy:t,group_key:i.group_key,app_version:e.group_version,marketName:s}),callback:()=>{a({type:"global/fetchGroups",payload:{team_name:r},callback:()=>{this.onCancelCreate(),a(S.routerRedux.push("/team/".concat(r,"/region/").concat(L.default.getCurrRegionName(),"/apps/").concat(e.group_id)))}})}})}),this.handleCreateHelm=((e,t)=>{var a=this.props.dispatch,l=L.default.getCurrTeamName();this.setState({helmInstallLoading:!0}),a({type:"createApp/installHelmApp",payload:(0,h.default)({team_name:l},e,{is_deploy:t}),callback:e=>{a({type:"global/fetchGroups",payload:{team_name:l},callback:()=>{e&&200===e.status_code&&e.bean&&e.bean.ID&&(this.onCancelCreate(),a(S.routerRedux.push("/team/".concat(l,"/region/").concat(L.default.getCurrRegionName(),"/apps/").concat(e.bean.ID)))),this.setState({helmInstallLoading:!1})},renderError:()=>{this.setState({helmInstallLoading:!1})}})}})}),this.handleCloudCreate=((e,t)=>{this.setState({addAppLoading:!0});var a=this.state,l=a.scopeMax,i=a.currentKey,s=this.state.showCreate;this.props.dispatch({type:"createApp/installApp",payload:(0,h.default)({app_id:s.app_id,team_name:L.default.getCurrTeamName()},e,{is_deploy:t,app_versions:s.app_versions,group_key:s.app_key_id,app_version:e.group_version,install_from_cloud:"localApplication"!==l,marketName:i}),callback:()=>{this.props.dispatch({type:"global/fetchGroups",payload:{team_name:L.default.getCurrTeamName()},callback:()=>{this.onCancelCreate(),this.setState({is_deploy:!0}),this.props.dispatch(S.routerRedux.push("/team/".concat(L.default.getCurrTeamName(),"/region/").concat(L.default.getCurrRegionName(),"/apps/").concat(e.group_id)))}})}})}),this.handleVisibleChange=((e,t)=>{var a=this.state.visiblebox,l=e.ID;a[l]=t,this.setState({visiblebox:a}),this.queryExport(e)}),this.showMarketAppDetail=(e=>{e&&e.app_detail_url?window.open(e.app_detail_url,"_blank"):this.setState({showApp:e,showMarketAppDetail:!0})}),this.hideMarketAppDetail=(()=>{this.setState({showApp:{},showMarketAppDetail:!1})}),this.loadMore=(e=>{this.props.handleServiceComponent(e)}),this.handleTabs=((e,t)=>{var a=this.state.handleType;return D.default.createElement(C.default,{defaultActiveKey:"",onChange:this.handleTabChange,style:{background:"#fff",padding:a?"0 20px 20px":"20px "}},e.map(e=>{var a=e.key,l=e.tab;return D.default.createElement(O,{tab:l,key:a},D.default.createElement("div",{className:W.default.cardList,style:{paddingBottom:"20px"}},t))}))}),this.renderApp=((e,t,l)=>{var i=this.state,s=i.scopeMax,r=i.handleType,n="localApplication"!=s,o=e=>D.default.createElement("div",{title:e.app_name||e.name||"",style:{maxWidth:"200px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},D.default.createElement("a",{onClick:()=>{this.showMarketAppDetail(e)}},e.app_name||e.name)),d=D.default.createElement("div",{title:e.version,className:W.default.cardVersionStyle},D.default.createElement("span",null,"\u7248\u672c:"),D.default.createElement("div",{className:W.default.overScroll},D.default.createElement("div",null,e.versions_info&&e.versions_info.map((e,t)=>{return D.default.createElement(I.default,{title:e.version,className:W.default.cardVersionTagStyle,color:"green",size:"small",key:t},e.version)}),e.versions&&e.versions.map((e,t)=>{return D.default.createElement(I.default,{className:W.default.cardVersionTagStyle,color:"green",size:"small",title:e.app_version||e.version,key:t},e.app_version||e.version)})))),c=[D.default.createElement(g.default,{title:t?"\u70b9\u51fb\u5b89\u88c511":"\u4e0d\u53ef\u5b89\u88c5"},D.default.createElement("div",{onClick:()=>{t&&this.showCreate(e)}},D.default.createElement("div",{className:W.default.cardTitle},D.default.createElement("span",{title:e.app_name},e.app_name)),d))],p=t?[D.default.createElement("span",{onClick:()=>{"helm"===l?this.handleHelmIntall(e):this.showCreate(e)}},(0,w.formatMessage)({id:"button.install"}))]:[],u=a("Vkwn");return D.default.createElement(D.Fragment,null,(1==e.is_official||1==e.is_official)&&D.default.createElement(k.default,{style:{marginLeft:6,marginTop:6}}),D.default.createElement(m.default,{className:r?"".concat(W.default.cards," ").concat(W.default.clearAvatar):W.default.cards,actions:r?c:p},D.default.createElement(m.default.Meta,{className:W.default.cardsMetas,style:r&&{height:80,overflow:"hidden",display:"flex",justifyContent:"center",cursor:"pointer"},avatar:D.default.createElement("img",{style:r?{width:80,height:80,margin:" 0 auto"}:{width:110,height:110,margin:" 0 auto"},alt:e.title,src:n?e.logo||e.icon||u:e.pic||u,height:r?154:80,onClick:()=>{this.showMarketAppDetail(e)}}),title:r?"":o(e),description:r?"":D.default.createElement(D.Fragment,null,D.default.createElement("span",{style:{display:"block",color:"rgb(200, 200, 200)",marginBottom:2,fontSize:12}},d,!n&&D.default.createElement("div",{className:W.default.memoryStyle},D.default.createElement("span",null,"\u5185\u5b58: "),V.default.unit(e.min_memory||128,"MB"))),D.default.createElement(G.default,{className:W.default.item,lines:3},D.default.createElement("span",{title:e.describe||e.description},e.describe||e.description)))})))}),this.renderSuccessOnChange=(()=>{this.setState({is_deploy:!this.state.is_deploy})}),this.renderFormComponent=(()=>{var e={labelCol:{span:5},wrapperCol:{span:19}},t=this.props.form,a=t.getFieldDecorator,l=this.state.installBounced,i=l.versions_info||l.versions;return D.default.createElement(f.default,{onSubmit:this.handleInstallBounced,layout:"horizontal",hideRequiredMark:!0},D.default.createElement(f.default.Item,(0,u.default)({},e,{label:"\u9009\u62e9\u7248\u672c"}),a("group_version",{initialValue:i[0].version||i[0].app_version,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7248\u672c"}]})(D.default.createElement(N.default,{getPopupContainer:e=>e.parentNode,style:{width:"220px"}},i.map(e=>{return D.default.createElement(B,{key:e.version,value:e.version||e.app_version},e.version||e.app_version)})))))}),this.handleCertification=(e=>{this.setState({authorizations:e})});var t=this.props,l=t.handleType,i=void 0===l?"":l,s=t.match,r=t.scope,n=void 0===r?"":r,o=t.moreState,d=t.scopeMax,c=decodeURIComponent("Service"===i?"":s&&s.params&&s.params.keyword||"");this.state={helmInstallLoading:!1,list:[],authorizations:!1,app_name:c,page:1,pageSize:9,total:0,isSpinList:!0,isSpincloudList:!0,networkText:"",cloudList:[],cloudApp_name:"",cloudPage:1,cloudPageSize:9,cloudTotal:0,helmCreate:null,showCreate:null,scope:n,scopeMax:d||"localApplication",showApp:{},showMarketAppDetail:!1,installBounced:!1,handleType:i||null,moreState:o||null,is_deploy:!0,localAppTab:[{key:"localApplication",tab:(0,w.formatMessage)({id:"popover.applicationMarket.local"})}],rainStoreTab:[],helmStoreTab:[],currentKey:"",helmList:[],helmLoading:!0,helmPag:{pageSize:9,total:0,page:1,query:""},addAppLoading:!1},this.mount=!1}componentWillMount(){var e=this.props,t=e.currentTeamPermissionsInfo,a=e.dispatch;R.default.canCreateComponent(t,a)}componentDidMount(){this.mount=!0,this.getApps(),this.getMarketsTab(),this.getHelmMarketsTab()}componentWillUnmount(){this.mount=!1,this.mountquery=!1}render(){var e=this.props,t=e.loading,a=e.currentEnterprise,l=e.currentTeam,i=e.currentRegionName,u=e.isHelm,m=void 0===u||u,g=this.state,I=g.handleType,h=g.moreState,f=g.installBounced,C=g.list,A=g.scopeMax,v=g.cloudList,M=g.cloudPage,y=g.cloudPageSize,N=g.cloudTotal,b=g.isSpinList,S=g.isSpincloudList,G=g.networkText,k=g.page,R=g.pageSize,V=g.total,B=g.helmInstallLoading,O=g.currentKey,X=g.authorizations,Y=g.showCreate,J=g.showMarketAppDetail,U=g.showApp,H=g.is_deploy,Q=g.app_name,F=g.cloudApp_name,K=g.helmList,q=g.helmPag,$=g.helmLoading,ee=g.helmCreate,te=g.addAppLoading,ae=g.localAppTab,le=g.rainStoreTab,ie=g.helmStoreTab,se=(L.default.fetchSvg("dockerSvg"),!!h),re={current:h?1:k,pageSize:h?3:R,total:h?1:V,hideOnSinglePage:se,onChange:e=>{this.hanldePageChange(e)}},ne={current:h?1:M,pageSize:h?3:y,total:h?1:N,hideOnSinglePage:se,onChange:e=>{this.hanldeCloudPageChange(e)}},oe={current:h?1:q.page,pageSize:h?3:q.pageSize,total:h?1:q.total,hideOnSinglePage:se,onChange:e=>{this.hanldeHelmPageChange(e)}},de=!0,ce=[...ae,...le,...ie];if(ce&&ce.length>0){var pe=ce.filter(e=>{return e.name===O});pe&&pe.length>0&&(de=(0,_.fetchMarketAuthority)(pe[0],"ReadInstall"))}I&&h&&("localApplication"===A&&C&&C.length>0||"localApplication"!=A&&v&&v.length>0)&&this.loadMore,p.default,!b&&C&&C.length<=0&&((0,w.formatMessage)({id:"notification.market.hint.null_app1"}),(0,w.formatMessage)({id:"notification.market.hint.null_app2"}));var ue=D.default.createElement(p.default,{bordered:!1,grid:{gutter:24,lg:3,md:2,sm:1,xs:1},pagination:ne,dataSource:v,renderItem:e=>D.default.createElement(p.default.Item,{style:{border:"none"}},this.renderApp(e,de))}),me=D.default.createElement(p.default,{bordered:!1,grid:{gutter:24,lg:3,md:2,sm:1,xs:1},pagination:oe,dataSource:K,renderItem:e=>{var t=e;return e.versions&&e.versions.length>0&&(t=Object.assign({},e,e.versions[0])),D.default.createElement(p.default.Item,{style:{border:"none"}},this.renderApp(t,!0,"helm"))}}),ge="localApplication"==A?Q:F,Ie=D.default.createElement("div",{style:{textAlign:"center"}},D.default.createElement("span",{id:"searchWrap",style:{display:"inline-block"}},D.default.createElement(c.default.Search,{ref:"searchs",placeholder:(0,w.formatMessage)({id:"placeholder.group_name"}),enterButton:(0,w.formatMessage)({id:"button.search"}),size:"large",value:ge,onChange:e=>{this.setState({app_name:e.target.value,cloudApp_name:e.target.value})},defaultValue:ge,onSearch:this.handleSearch,style:{width:500}}))),he=[{key:"",tab:(0,w.formatMessage)({id:"popover.applicationMarket.all"})}],fe=[{key:"enterprise",tab:(0,w.formatMessage)({id:"popover.applicationMarket.company"})},{key:"team",tab:(0,w.formatMessage)({id:"popover.applicationMarket.team"})}],Ce=(he.concat(fe),[]);Ce=(0,z.createTeam)((0,z.createEnterprise)(Ce,a),l,i),Ce.push({title:"\u521b\u5efa\u7ec4\u4ef6"});var Ae=D.default.createElement("div",{style:{height:"255px",lineHeight:"255px",textAlign:"center"}},D.default.createElement(d.default,{size:"large"}));return D.default.createElement("div",null,X&&D.default.createElement(E.default,{eid:a.enterprise_id,marketName:X,title:"\u83b7\u53d6\u4e91\u5e94\u7528\u5546\u5e97\u6388\u6743",onCancel:()=>{this.setState({authorizations:!1})},currStep:2}),ee&&D.default.createElement(Z.default,{installLoading:B,data:ee,onSubmit:this.handleCreateHelm,onCancel:this.onCancelCreate}),Y&&D.default.createElement(T.default,{disabled:t.effects["createApp/installApp"],onSubmit:I?this.handleCreate:"localApplication"==A?this.handleCreate:this.handleCloudCreate,onCancel:this.onCancelCreate,showCreate:Y,addAppLoading:te}),J&&D.default.createElement(P.default,{onOk:this.hideMarketAppDetail,onCancel:this.hideMarketAppDetail,app:U}),I&&f&&D.default.createElement(r.default,{title:(0,w.formatMessage)({id:"confirmModal.install.app.desc"}),className:j.default.TelescopicModal,visible:f,onOk:this.handleInstallBounced,onCancel:()=>{this.setState({installBounced:!1})},footer:D.default.createElement("div",null,D.default.createElement(o.default,{onClick:()=>{this.setState({installBounced:!1,is_deploy:!0})}},(0,w.formatMessage)({id:"button.cancel"})),D.default.createElement(o.default,{onClick:this.handleInstallBounced,type:"primary",style:{marginRight:"5px"},loading:t.effects["createApp/installApp"]},(0,w.formatMessage)({id:"button.install"})),D.default.createElement(n.default,{size:"small",onClick:this.renderSuccessOnChange,checked:H},(0,w.formatMessage)({id:"button.build_start"})))},f.describe&&D.default.createElement("p",{style:{background:"rgba(22, 184, 248, 0.1)",padding:"8px"}},f.describe),this.renderFormComponent()),ce&&ce.length>0&&D.default.createElement("div",null,D.default.createElement(x.default,{isSvg:!0,breadcrumbList:Ce,content:I&&h?"":Ie,tabList:ce,tabActiveKey:A,onTabChange:this.handleTabMaxChange,isFooter:!!I},"localApplication"!==A&&!de&&D.default.createElement(s.default,{message:D.default.createElement("div",null,(0,w.formatMessage)({id:"notification.market.hint.null_app5"}),D.default.createElement("a",{onClick:()=>{this.handleCertification(A)}},(0,w.formatMessage)({id:"notification.market.hint.null_app6"}))),type:"success",style:{margin:"-10px 0 15px 0"}}),A.indexOf("Helm-")>-1&&m?D.default.createElement("div",null,$?Ae:me):"localApplication"===A?D.default.createElement("div",{style:{marginBottom:!h&&I&&"Service"===I&&"40px"}}):D.default.createElement("div",null,S&&-1!==S?Ae:D.default.createElement("div",null,D.default.createElement("div",{className:W.default.cardList,style:{paddingBottom:"20px",marginBottom:h?"0px":"40px"}},-1!==S&&ue,G&&D.default.createElement(s.default,{style:{textAlign:"center",marginBottom:16},message:G,type:"warning"})))))))}},M=y))||M)||M);t.default=X},IkpK:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODRweCIgaGVpZ2h0PSIxMDVweCIgdmlld0JveD0iMCAwIDg0IDEwNSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTIuNSAoNjc0NjkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkdyb3VwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPHBhdGggZD0iTTQwLjcwOTM3NDgsMC45ODc1MzAyNzUgTDczLjcwOTM3NDgsMjIuMjYzODQ2MSBDNzUuMTM3MjgxMSwyMy4xODQ0Njk5IDc2LDI0Ljc2NzE4MTggNzYsMjYuNDY2MTQxNyBMNzYsNTkuODMyMDMxMiBMNzYsNzAuMDE1MjUxNCBDNzYsNzEuNzE0MjExMyA3NS4xMzcyODExLDczLjI5NjkyMzIgNzMuNzA5Mzc0OCw3NC4yMTc1NDcgTDQwLjcwOTM3NDgsOTUuNDkzODYyOCBDMzkuMDU5NzAwNCw5Ni41NTc0Njg3IDM2Ljk0MDI5OTYsOTYuNTU3NDY4NyAzNS4yOTA2MjUyLDk1LjQ5Mzg2MjggTDIuMjkwNjI1MjEsNzQuMjE3NTQ3IEMwLjg2MjcxODg3LDczLjI5NjkyMzIgOS44OTE5Nzg3NGUtMTUsNzEuNzE0MjExMyAxLjQyMTA4NTQ3ZS0xNCw3MC4wMTUyNTE0IEwtMS43NzYzNTY4NGUtMTUsMjYuNDY2MTQxNyBDLTMuNDkzMzk4OTRlLTE1LDI0Ljc2NzE4MTggMC44NjI3MTg4NywyMy4xODQ0Njk5IDIuMjkwNjI1MjEsMjIuMjYzODQ2MSBMMzUuMjkwNjI1MiwwLjk4NzUzMDI3NSBDMzYuOTQwMjk5NiwtMC4wNzYwNzU2MDE0IDM5LjA1OTcwMDQsLTAuMDc2MDc1NjAxNCA0MC43MDkzNzQ4LDAuOTg3NTMwMjc1IFoiIGlkPSJwYXRoLTEiPjwvcGF0aD4KICAgICAgICA8ZmlsdGVyIHg9Ii03LjklIiB5PSItNC4yJSIgd2lkdGg9IjExNS44JSIgaGVpZ2h0PSIxMTIuNSUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dTcHJlYWRPdXRlcjEiPjwvZmVNb3JwaG9sb2d5PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIyIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJlcm9kZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49InNoYWRvd0lubmVyIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldE91dGVyMSIgaW4yPSJzaGFkb3dJbm5lciIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuOTAzNjY3ODIxICAgMCAwIDAgMCAwLjkwMDU0MDc5MiAgIDAgMCAwIDAgMC45MDQ3MzUzMzIgIDAgMCAwIDEgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxmaWx0ZXIgeD0iLTkuMiUiIHk9Ii01LjIlIiB3aWR0aD0iMTE4LjQlIiBoZWlnaHQ9IjExNC42JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTMiPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIzIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93Qmx1cklubmVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMCIgaW49InNoYWRvd0JsdXJJbm5lcjEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0SW5uZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldElubmVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9ImFyaXRobWV0aWMiIGsyPSItMSIgazM9IjEiIHJlc3VsdD0ic2hhZG93SW5uZXJJbm5lcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjkwMzY2NzgyMSAgIDAgMCAwIDAgMC45MDA1NDA3OTIgICAwIDAgMCAwIDAuOTA0NzM1MzMyICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgPC9maWx0ZXI+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuMDAwMDAwLCAyLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iUG9seWdvbiI+CiAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTMpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2Ugc3Ryb2tlPSIjMDBGRjRBIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiMwMDAwMDAiIGN4PSIzOCIgY3k9IjQ4IiByPSI4Ij48L2NpcmNsZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},JI99:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODRweCIgaGVpZ2h0PSIxMDVweCIgdmlld0JveD0iMCAwIDg0IDEwNSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTIuNSAoNjc0NjkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkdyb3VwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPHBhdGggZD0iTTQwLjcwOTM3NDgsMC45ODc1MzAyNzUgTDczLjcwOTM3NDgsMjIuMjYzODQ2MSBDNzUuMTM3MjgxMSwyMy4xODQ0Njk5IDc2LDI0Ljc2NzE4MTggNzYsMjYuNDY2MTQxNyBMNzYsNTkuODMyMDMxMiBMNzYsNzAuMDE1MjUxNCBDNzYsNzEuNzE0MjExMyA3NS4xMzcyODExLDczLjI5NjkyMzIgNzMuNzA5Mzc0OCw3NC4yMTc1NDcgTDQwLjcwOTM3NDgsOTUuNDkzODYyOCBDMzkuMDU5NzAwNCw5Ni41NTc0Njg3IDM2Ljk0MDI5OTYsOTYuNTU3NDY4NyAzNS4yOTA2MjUyLDk1LjQ5Mzg2MjggTDIuMjkwNjI1MjEsNzQuMjE3NTQ3IEMwLjg2MjcxODg3LDczLjI5NjkyMzIgOS44OTE5Nzg3NGUtMTUsNzEuNzE0MjExMyAxLjQyMTA4NTQ3ZS0xNCw3MC4wMTUyNTE0IEwtMS43NzYzNTY4NGUtMTUsMjYuNDY2MTQxNyBDLTMuNDkzMzk4OTRlLTE1LDI0Ljc2NzE4MTggMC44NjI3MTg4NywyMy4xODQ0Njk5IDIuMjkwNjI1MjEsMjIuMjYzODQ2MSBMMzUuMjkwNjI1MiwwLjk4NzUzMDI3NSBDMzYuOTQwMjk5NiwtMC4wNzYwNzU2MDE0IDM5LjA1OTcwMDQsLTAuMDc2MDc1NjAxNCA0MC43MDkzNzQ4LDAuOTg3NTMwMjc1IFoiIGlkPSJwYXRoLTEiPjwvcGF0aD4KICAgICAgICA8ZmlsdGVyIHg9Ii03LjklIiB5PSItNC4yJSIgd2lkdGg9IjExNS44JSIgaGVpZ2h0PSIxMTIuNSUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dTcHJlYWRPdXRlcjEiPjwvZmVNb3JwaG9sb2d5PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIyIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJlcm9kZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49InNoYWRvd0lubmVyIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldE91dGVyMSIgaW4yPSJzaGFkb3dJbm5lciIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuOTAzNjY3ODIxICAgMCAwIDAgMCAwLjkwMDU0MDc5MiAgIDAgMCAwIDAgMC45MDQ3MzUzMzIgIDAgMCAwIDEgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxmaWx0ZXIgeD0iLTkuMiUiIHk9Ii01LjIlIiB3aWR0aD0iMTE4LjQlIiBoZWlnaHQ9IjExNC42JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTMiPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIzIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93Qmx1cklubmVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMCIgaW49InNoYWRvd0JsdXJJbm5lcjEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0SW5uZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldElubmVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9ImFyaXRobWV0aWMiIGsyPSItMSIgazM9IjEiIHJlc3VsdD0ic2hhZG93SW5uZXJJbm5lcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjkwMzY2NzgyMSAgIDAgMCAwIDAgMC45MDA1NDA3OTIgICAwIDAgMCAwIDAuOTA0NzM1MzMyICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgPC9maWx0ZXI+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuMDAwMDAwLCAyLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iUG9seWdvbiI+CiAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTMpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2Ugc3Ryb2tlPSIjQ0QwMjAwIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiMwMDAwMDAiIGN4PSIzOCIgY3k9IjQ4IiByPSI4Ij48L2NpcmNsZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},Kia0:function(e,t,a){e.exports={tabTitle:"tabTitle___2CONk",tabTr:"tabTr___3iaGW",w500:"w500___orTyB",w300:"w300___1jikJ",w380:"w380___OrUuz",over:"over___3at-n"}},Mw2C:function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,r,n,o=l(a("jehZ")),d=i(a("q1tI")),c=a("MuoO"),p=i(a("U8JG")),u=l(a("ZIYD")),m=l(a("SSRH")),g=l(a("yCR+")),I=l(a("TbCP")),h=l(a("cYkQ")),f=l(a("aiW3")),C=l(a("bKuN")),A=l(a("JI99")),v=l(a("IkpK")),M=l(a("oWzr")),y=l(a("SHsa")),N=(s=(0,c.connect)(),s((n=class extends d.PureComponent{constructor(e){super(e),this.config=(e=>{var t="The Internet"==e?[[.5,2.5]]:[[.5,-2.5],[.5,3.5]];return{draw(t){var a=t.getGraphicGroup(),l=t.getModel(),i=10,s=10,r=-i/2,n=-s/2,o=3,d="The Internet"==e?23:16,c="The Internet"==e?22:20,p=a.addShape("rect",{attrs:{x:r+d,y:n+c,width:6,height:6,radius:o,stroke:"#000000",fill:"#000000"}});a.addShape("image",{attrs:{img:"third_party"==e?y.default:"The Internet"==e?m.default:"running"==e?g.default:"succeeded"==e?g.default:"closed"==e?h.default:"undeploy"==e?I.default:"starting"==e?f.default:"checking"==e?f.default:"stoping"==e?f.default:"creating"==e?M.default:"upgrade"==e?v.default:"unusual"==e?A.default:"Owed"==e?A.default:"expired"==e?A.default:"Expired"==e?A.default:"Unknown"==e?A.default:"unknown"==e?A.default:"Unknow"==e?A.default:"unknow"==e?A.default:"stopping"==e?C.default:"abnormal"==e?A.default:"some_abnormal"==e?A.default:"building"==e?M.default:"build_failure"==e?A.default:"",x:r,y:n,width:"The Internet"==e?53:38,height:"The Internet"==e?45:48}});var u=l.label?l.label:this.label,N=u.length>=3?0:10;return a.addShape("text",{attrs:{text:u,x:r+N,y:n+46,textAlign:"left",textBaseline:"top",fill:"rgba(0,0,0,0.65)"}}),p},anchor:t}}),this.state={colorDataType:["The Internet","Unknow","Unknown","unknown","running","closed","undeploy","starting","checking","stoping","upgrade","unusual","Owed","expired","Expired","internet","unknow","stopping","abnormal","some_abnormal","building","build_failure","creating","third_party","succeeded"]}}render(){var e=this.state.colorDataType,t=this.props,a=(t.flagHeight,t.iframeHeight);return d.default.createElement("div",{style:{height:a,background:"#fff"},bordered:!1},d.default.createElement(p.default,null,e.map((t,a)=>{return d.default.createElement(p.RegisterNode,{key:a,name:e[a],config:this.config(e[a])})}),d.default.createElement(u.default,(0,o.default)({iframeHeight:a},this.props))))}},r=n))||r),b=N;t.default=b},PKy1:function(e,t,a){e.exports={yaml_container:"yaml_container___2l40d",update:"update___lAF9J",delete:"delete___wpCYi",fileName:"fileName___2TOVl"}},SHsa:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODRweCIgaGVpZ2h0PSIxMDVweCIgdmlld0JveD0iMCAwIDg0IDEwNSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTIuNSAoNjc0NjkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkdyb3VwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPHBhdGggZD0iTTQwLjcwOTM3NDgsMC45ODc1MzAyNzUgTDczLjcwOTM3NDgsMjIuMjYzODQ2MSBDNzUuMTM3MjgxMSwyMy4xODQ0Njk5IDc2LDI0Ljc2NzE4MTggNzYsMjYuNDY2MTQxNyBMNzYsNTkuODMyMDMxMiBMNzYsNzAuMDE1MjUxNCBDNzYsNzEuNzE0MjExMyA3NS4xMzcyODExLDczLjI5NjkyMzIgNzMuNzA5Mzc0OCw3NC4yMTc1NDcgTDQwLjcwOTM3NDgsOTUuNDkzODYyOCBDMzkuMDU5NzAwNCw5Ni41NTc0Njg3IDM2Ljk0MDI5OTYsOTYuNTU3NDY4NyAzNS4yOTA2MjUyLDk1LjQ5Mzg2MjggTDIuMjkwNjI1MjEsNzQuMjE3NTQ3IEMwLjg2MjcxODg3LDczLjI5NjkyMzIgOS44OTE5Nzg3NGUtMTUsNzEuNzE0MjExMyAxLjQyMTA4NTQ3ZS0xNCw3MC4wMTUyNTE0IEwtMS43NzYzNTY4NGUtMTUsMjYuNDY2MTQxNyBDLTMuNDkzMzk4OTRlLTE1LDI0Ljc2NzE4MTggMC44NjI3MTg4NywyMy4xODQ0Njk5IDIuMjkwNjI1MjEsMjIuMjYzODQ2MSBMMzUuMjkwNjI1MiwwLjk4NzUzMDI3NSBDMzYuOTQwMjk5NiwtMC4wNzYwNzU2MDE0IDM5LjA1OTcwMDQsLTAuMDc2MDc1NjAxNCA0MC43MDkzNzQ4LDAuOTg3NTMwMjc1IFoiIGlkPSJwYXRoLTEiPjwvcGF0aD4KICAgICAgICA8ZmlsdGVyIHg9Ii03LjklIiB5PSItNC4yJSIgd2lkdGg9IjExNS44JSIgaGVpZ2h0PSIxMTIuNSUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dTcHJlYWRPdXRlcjEiPjwvZmVNb3JwaG9sb2d5PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIyIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJlcm9kZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49InNoYWRvd0lubmVyIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldE91dGVyMSIgaW4yPSJzaGFkb3dJbm5lciIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuOTAzNjY3ODIxICAgMCAwIDAgMCAwLjkwMDU0MDc5MiAgIDAgMCAwIDAgMC45MDQ3MzUzMzIgIDAgMCAwIDEgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxmaWx0ZXIgeD0iLTkuMiUiIHk9Ii01LjIlIiB3aWR0aD0iMTE4LjQlIiBoZWlnaHQ9IjExNC42JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTMiPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIzIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93Qmx1cklubmVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMCIgaW49InNoYWRvd0JsdXJJbm5lcjEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0SW5uZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldElubmVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9ImFyaXRobWV0aWMiIGsyPSItMSIgazM9IjEiIHJlc3VsdD0ic2hhZG93SW5uZXJJbm5lcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjkwMzY2NzgyMSAgIDAgMCAwIDAgMC45MDA1NDA3OTIgICAwIDAgMCAwIDAuOTA0NzM1MzMyICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgPC9maWx0ZXI+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuMDAwMDAwLCAyLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iUG9seWdvbiI+CiAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTMpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2Ugc3Ryb2tlPSIjNUJCMUZBIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiMwMDAwMDAiIGN4PSIzOCIgY3k9IjQ4IiByPSI4Ij48L2NpcmNsZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},SSRH:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTEycHgiIGhlaWdodD0iODZweCIgdmlld0JveD0iMCAwIDExMiA4NiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNDkuMyAoNTExNjcpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkdyb3VwIDI8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz4KICAgICAgICA8cGF0aCBkPSJNODEuNzcyNTc5NCwzNC4wNjM3NDA4IEM4Mi4yMjEzMDU4LDM0LjAyMTUxNjQgODIuNjc0Mzg0NywzNCA4My4xMzEwNzIzLDM0IEM5Mi40NDc1MjQzLDM0IDEwMCw0Mi45NTQzMDQ1IDEwMCw1NCBDMTAwLDY1LjA0NTY5NTUgOTIuNDQ3NTI0Myw3NCA4My4xMzEwNzIzLDc0IEw3OCw3NCBMNjAuMTc2NTc4LDc0IEwxOC4yNzI3NDYsNzQgQzguMTgwOTg2NTQsNzQgMCw2NC4xNTAyNjUxIDAsNTIgQzAsNDEuNjE2NTE0MSA1Ljk3NDc2MDgsMzIuOTEzMTU3OSAxNC4wMTA4NzkxLDMwLjYwMTU4NjEgQzE0LjAwMzY1MDcsMzAuNDAyMTA4OSAxNCwzMC4yMDE1NTE4IDE0LDMwIEMxNCwyMi4yNjgwMTMxIDE5LjM3MjU4MjcsMTYgMjYsMTYgQzI4LjkxMjYxNjYsMTYgMzEuNTgyODcxMywxNy4yMTA2MjAyIDMzLjY2MTI0MDEsMTkuMjI0MDgyOCBDMzcuMjY5MDgzOSw3Ljk3OTI0NjM2IDQ2LjM1ODAxOTUsMCA1NywwIEM3MC44MDcxMTk0LDAgODIsMTMuNDMxNDU2NyA4MiwzMCBDODIsMzEuMzc4MjYzNiA4MS45MjI1NDcxLDMyLjczNDgxOTEgODEuNzcyNTc5NCwzNC4wNjM3NDA4IFoiIGlkPSJwYXRoLTEiPjwvcGF0aD4KICAgICAgICA8ZmlsdGVyIHg9Ii05LjAlIiB5PSItOS41JSIgd2lkdGg9IjExOC4wJSIgaGVpZ2h0PSIxMjQuMyUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dTcHJlYWRPdXRlcjEiPjwvZmVNb3JwaG9sb2d5PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIyIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJlcm9kZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49InNoYWRvd0lubmVyIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldE91dGVyMSIgaW4yPSJzaGFkb3dJbm5lciIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjIiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuOTAzNjY3ODIxICAgMCAwIDAgMCAwLjkwMDU0MDc5MiAgIDAgMCAwIDAgMC45MDQ3MzUzMzIgIDAgMCAwIDEgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxmaWx0ZXIgeD0iLTkuMCUiIHk9Ii05LjUlIiB3aWR0aD0iMTE4LjAlIiBoZWlnaHQ9IjEyNC4zJSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTMiPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIzIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93Qmx1cklubmVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMCIgaW49InNoYWRvd0JsdXJJbm5lcjEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0SW5uZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldElubmVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9ImFyaXRobWV0aWMiIGsyPSItMSIgazM9IjEiIHJlc3VsdD0ic2hhZG93SW5uZXJJbm5lcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjkwMzY2NzgyMSAgIDAgMCAwIDAgMC45MDA1NDA3OTIgICAwIDAgMCAwIDAuOTA0NzM1MzMyICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgPC9maWx0ZXI+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAtMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNi4wMDAwMDAsIDQuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJPdmFsLTEiPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTIpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2UgZmlsbD0iYmxhY2siIGZpbGwtb3BhY2l0eT0iMSIgZmlsdGVyPSJ1cmwoI2ZpbHRlci0zKSIgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgICAgICA8dXNlIHN0cm9rZT0iIzVCQjFGQSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsIiBmaWxsPSIjMDAwMDAwIiBjeD0iNTAiIGN5PSI0NSIgcj0iOCI+PC9jaXJjbGU+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},Sp8k:function(e,t,a){e.exports={headerBox:"headerBox___Bdnma",icons:"icons___R3LPa",verticalCen:"verticalCen___1P_Da",pageHeader:"pageHeader___2fFnz",detail:"detail____dhkg",row:"row___3BugX",breadcrumb:"breadcrumb___9Niy0",tabs:"tabs___IFWEi",logo:"logo___3AfRG",title:"title___sCJkV",action:"action___3Mhs5",content:"content___2y83l",extraContent:"extraContent___1z2nb",main:"main___dIWGW",ServiceTitle:"ServiceTitle___MH7wW",ServiceBox:"ServiceBox___2oMA_",ServiceDivs:"ServiceDivs___aQP1o",ServiceDiv:"ServiceDiv___1D9yv",ServiceSmallTitle:"ServiceSmallTitle___15zpy"}},T0wR:function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("q1tI")),r=l(a("8vpL"));class n extends s.PureComponent{render(){var e=this.props,t=e.group_id,a=e.iframeHeight;return s.default.createElement("div",{style:{height:a,background:"#fff"},bordered:!1},s.default.createElement(r.default,{iframeHeight:a,group_id:t}))}}t.default=n},TbCP:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODRweCIgaGVpZ2h0PSIxMDVweCIgdmlld0JveD0iMCAwIDg0IDEwNSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTIuNSAoNjc0NjkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkdyb3VwIENvcHk8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz4KICAgICAgICA8cGF0aCBkPSJNNDAuNzA5Mzc0OCwwLjk4NzUzMDI3NSBMNzMuNzA5Mzc0OCwyMi4yNjM4NDYxIEM3NS4xMzcyODExLDIzLjE4NDQ2OTkgNzYsMjQuNzY3MTgxOCA3NiwyNi40NjYxNDE3IEw3Niw3MC4wMTUyNTE0IEM3Niw3MS43MTQyMTEzIDc1LjEzNzI4MTEsNzMuMjk2OTIzMiA3My43MDkzNzQ4LDc0LjIxNzU0NyBMNDAuNzA5Mzc0OCw5NS40OTM4NjI4IEMzOS4wNTk3MDA0LDk2LjU1NzQ2ODcgMzYuOTQwMjk5Niw5Ni41NTc0Njg3IDM1LjI5MDYyNTIsOTUuNDkzODYyOCBMMi4yOTA2MjUyMSw3NC4yMTc1NDcgQzAuODYyNzE4ODcsNzMuMjk2OTIzMiAyLjI0MTI1MjMxZS0xNCw3MS43MTQyMTEzIDIuMjIwNDQ2MDVlLTE0LDcwLjAxNTI1MTQgTC04Ljg4MTc4NDJlLTE2LDI2LjQ2NjE0MTcgQy0yLjYwNTIyMDUyZS0xNSwyNC43NjcxODE4IDAuODYyNzE4ODcsMjMuMTg0NDY5OSAyLjI5MDYyNTIxLDIyLjI2Mzg0NjEgTDM1LjI5MDYyNTIsMC45ODc1MzAyNzUgQzM2Ljk0MDI5OTYsLTAuMDc2MDc1NjAxNCAzOS4wNTk3MDA0LC0wLjA3NjA3NTYwMTQgNDAuNzA5Mzc0OCwwLjk4NzUzMDI3NSBaIiBpZD0icGF0aC0xIj48L3BhdGg+CiAgICAgICAgPGZpbHRlciB4PSItNy45JSIgeT0iLTMuOSUiIHdpZHRoPSIxMTUuOCUiIGhlaWdodD0iMTEyLjAlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItMiI+CiAgICAgICAgICAgIDxmZU1vcnBob2xvZ3kgcmFkaXVzPSIyIiBvcGVyYXRvcj0iZGlsYXRlIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93U3ByZWFkT3V0ZXIxIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49InNoYWRvd1NwcmVhZE91dGVyMSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVPZmZzZXQ+CiAgICAgICAgICAgIDxmZU1vcnBob2xvZ3kgcmFkaXVzPSIyIiBvcGVyYXRvcj0iZXJvZGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dJbm5lciI+PC9mZU1vcnBob2xvZ3k+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9IjIiIGluPSJzaGFkb3dJbm5lciIgcmVzdWx0PSJzaGFkb3dJbm5lciI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlQ29tcG9zaXRlIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIGluMj0ic2hhZG93SW5uZXIiIG9wZXJhdG9yPSJvdXQiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIj48L2ZlQ29tcG9zaXRlPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIxIiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjkwMzY2NzgyMSAgIDAgMCAwIDAgMC45MDA1NDA3OTIgICAwIDAgMCAwIDAuOTA0NzM1MzMyICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVDb2xvck1hdHJpeD4KICAgICAgICA8L2ZpbHRlcj4KICAgICAgICA8ZmlsdGVyIHg9Ii05LjIlIiB5PSItNS4wJSIgd2lkdGg9IjExOC40JSIgaGVpZ2h0PSIxMTQuMSUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0zIj4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMyIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0JsdXJJbm5lcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9IjAiIGluPSJzaGFkb3dCbHVySW5uZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldElubmVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlQ29tcG9zaXRlIGluPSJzaGFkb3dPZmZzZXRJbm5lcjEiIGluMj0iU291cmNlQWxwaGEiIG9wZXJhdG9yPSJhcml0aG1ldGljIiBrMj0iLTEiIGszPSIxIiByZXN1bHQ9InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29tcG9zaXRlPgogICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMC45MDM2Njc4MjEgICAwIDAgMCAwIDAuOTAwNTQwNzkyICAgMCAwIDAgMCAwLjkwNDczNTMzMiAgMCAwIDAgMSAwIiB0eXBlPSJtYXRyaXgiIGluPSJzaGFkb3dJbm5lcklubmVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgPC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Ikdyb3VwLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuMDAwMDAwLCAyLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iUG9seWdvbiI+CiAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTMpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2Ugc3Ryb2tlPSIjNzA4MDkwIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiMwMDAwMDAiIGN4PSIzOCIgY3k9IjQ4IiByPSI4Ij48L2NpcmNsZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},VJda:function(e,t,a){e.exports={nameID:"nameID___neYJ7",icon:"icon___10buC",iconm:"iconm___rowBO",tableList:"tableList___3kkUe",tableListOperator:"tableListOperator___C1LIL"}},Z0Jj:function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV"));a("7Kak");var r=l(a("9yH6"));a("jCWc");var n=l(a("kPKH"));a("14J3");var o=l(a("BMrR"));a("T2oS");var d=l(a("W9HT"));a("5Dmo");var c=l(a("3S7+"));a("/zsF");var p=l(a("PArb"));a("+L6B");var u=l(a("2/Rp"));a("Pwec");var m=l(a("CtXQ"));a("/xke");var g,I,h,f=l(a("TeRw")),C=l(a("jehZ")),A=l(a("qCJ4")),v=l(a("4SMx")),M=l(a("ri62")),y=l(a("18gR")),N=a("RBnf"),b=a("MuoO"),S=a("7DNP"),D=l(a("wd/R")),w=i(a("q1tI")),E=a("LLXN"),Z=l(a("Jxxo")),T=l(a("q76B")),j=l(a("3jFV")),G=l(a("YCtL")),k=a("xpXo"),P=l(a("8+Sn")),x=l(a("QDog")),_=l(a("mWxT")),z=l(a("ZgmS")),L=l(a("i+gw")),R=l(a("T0wR")),V=l(a("Zob5")),W=l(a("0fGy")),B=l(a("Mw2C")),O=l(a("puIC")),X=(g=(0,b.connect)(e=>{var t=e.user,a=e.application,l=e.teamControl,i=e.enterprise,s=e.loading,r=e.global;return{buildShapeLoading:s.effects["global/buildShape"],editGroupLoading:s.effects["application/editGroup"],deleteLoading:s.effects["application/delete"],currUser:t.currentUser,apps:a.apps,groupDetail:a.groupDetail||{},currentTeam:l.currentTeam,currentRegionName:l.currentRegionName,currentEnterprise:i.currentEnterprise,novices:r.novices}}),g((h=class extends w.PureComponent{constructor(e){var t;super(e),t=this,this.onCancel=(()=>{this.setState({customSwitch:!1})}),this.closeTimer=(()=>{this.timer&&clearInterval(this.timer)}),this.loading=(()=>{this.fetchAppDetail(),this.loadTopology(!0),this.fetchAppDetailState()}),this.handleNewbieGuiding=(e=>{var t=e.nextStep;return w.default.createElement(y.default,(0,C.default)({},e,{totals:2,handleClose:()=>{this.handleGuideStep("close")},handleNext:()=>{t&&(document.getElementById("scroll_div").scrollIntoView(),this.handleGuideStep(t))}}))}),this.handleGuideStep=(e=>{this.setState({guideStep:e})}),this.handleError=(e=>{var t=this.state.componentTimer;if(!t)return null;e&&e.data&&e.data.msg_show&&f.default.warning({message:(0,E.formatMessage)({id:"notification.warn.error"}),description:e.data.msg_show})}),this.handleTimers=((e,t,a)=>{var l=this.state.componentTimer;if(!l)return null;this[e]=setTimeout(()=>{t()},a)}),this.fetchAppDetail=(()=>{var e=this.props.dispatch,t=this.props.match.params,a=t.teamName,l=t.regionName,i=t.appID;e({type:"application/fetchGroupDetail",payload:{team_name:a,region_name:l,group_id:i},callback:e=>{e&&200===e.status_code&&this.setState({currApp:e.bean})},handleError:t=>{var a=this.state.componentTimer;if(!a)return null;t&&404===t.code&&e(S.routerRedux.push("/team/".concat(x.default.getCurrTeamName(),"/region/").concat(x.default.getCurrRegionName(),"/apps")))}})}),this.handleWaitLevel=(()=>{var e=this.props.dispatch,t=this.props.match.params,a=t.teamName,l=t.appID;e({type:"application/fetchToupgrade",payload:{team_name:a,group_id:l},callback:e=>{var t=e&&e.bean||{};this.setState({upgradableNumLoading:!1,upgradableNum:t&&t.upgradable_num||0})}})}),this.fetchAppDetailState=(()=>{var e=this.props.dispatch,t=this.props.match.params,a=t.teamName,l=t.appID;e({type:"application/fetchAppDetailState",payload:{team_name:a,group_id:l},callback:e=>{this.setState({resources:e.list,appStatusConfig:!0})}})}),this.handleFormReset=(()=>{var e=this.props.form;e.resetFields(),this.loadApps()}),this.handleSearch=(e=>{e.preventDefault(),this.loadApps()}),this.changeType=(e=>{this.setState({type:e})}),this.toDelete=(()=>{this.closeComponentTimer(),this.setState({toDelete:!0})}),this.cancelDelete=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.setState({toDelete:!1}),e&&t.openComponentTimer()},this.closeComponentTimer=(()=>{this.setState({componentTimer:!1}),this.closeTimer()}),this.openComponentTimer=(()=>{this.setState({componentTimer:!0},()=>{this.loadTopology(!0)})}),this.handleDelete=(()=>{var e=this.props.dispatch;e({type:"application/delete",payload:{team_name:x.default.getCurrTeamName(),group_id:this.getGroupId()},callback:t=>{t&&200===t.status_code&&(f.default.success({message:(0,E.formatMessage)({id:"notification.success.delete"})}),this.closeComponentTimer(),this.cancelDelete(!1),e(S.routerRedux.replace("/team/".concat(x.default.getCurrTeamName(),"/region/").concat(x.default.getCurrRegionName(),"/apps"))))}})}),this.newAddress=(e=>{this.props.dispatch({type:"global/fetchGroups",payload:{team_name:x.default.getCurrTeamName()},callback:t=>{t&&t.length?e==t[0].group_id?this.newAddress(e):this.props.dispatch(S.routerRedux.push("/team/".concat(x.default.getCurrTeamName(),"/region/").concat(x.default.getCurrRegionName(),"/apps/").concat(t[0].group_id))):this.props.dispatch(S.routerRedux.push("/team/".concat(x.default.getCurrTeamName(),"/region/").concat(x.default.getCurrRegionName(),"/index")))}})}),this.toEdit=(()=>{this.setState({toEdit:!0})}),this.cancelEdit=(()=>{this.setState({toEdit:!1})}),this.handleToEditAppDirector=(()=>{this.setState({toEditAppDirector:!0})}),this.cancelEditAppDirector=(()=>{this.setState({toEditAppDirector:!1})}),this.handleEdit=(e=>{var t=this.props.dispatch;t({type:"application/editGroup",payload:{team_name:x.default.getCurrTeamName(),group_id:this.getGroupId(),group_name:e.group_name,note:e.note,username:e.username,logo:e.logo,k8s_app:e.k8s_app},callback:e=>{e&&200===e.status_code&&(f.default.success({message:(0,E.formatMessage)({id:"notification.success.change"})}),t({type:"application/editGroups",payload:{team_name:x.default.getCurrTeamName(),group_id:this.getGroupId()},callback:e=>{f.default.success({message:(0,E.formatMessage)({id:"notification.success.takeEffect"})})}})),this.handleUpDataHeader(),this.cancelEdit(),this.cancelEditAppDirector(),this.fetchAppDetail(),t({type:"global/fetchGroups",payload:{team_name:x.default.getCurrTeamName()}})}})}),this.handleUpDataHeader=(()=>{var e=this.props.dispatch;e({type:"global/IsUpDataHeader",payload:{isUpData:!0}})}),this.handleTopology=(e=>{this.setState({promptModal:!0,code:e})}),this.handleOpenRapidCopy=(()=>{this.setState({rapidCopy:!0})}),this.handleCloseRapidCopy=(()=>{this.setState({rapidCopy:!1})}),this.handlePromptModalOpen=(()=>{var e=this.state,t=e.code,a=e.serviceIds,l=this.props.dispatch;"restart"===t?(0,k.batchOperation)({action:t,team_name:x.default.getCurrTeamName(),serviceIds:a&&a.join(",")}).then(e=>{e&&200===e.status_code&&(f.default.success({message:(0,E.formatMessage)({id:"notification.success.reboot_success"})}),this.handlePromptModalClose()),this.loadTopology(!1)}):l({type:"global/buildShape",payload:{tenantName:x.default.getCurrTeamName(),group_id:this.getGroupId(),action:t},callback:e=>{e&&200===e.status_code&&(f.default.success({message:e.msg_show||(0,E.formatMessage)({id:"notification.success.build_success"}),duration:"3"}),this.handlePromptModalClose()),this.loadTopology(!1)}})}),this.handlePromptModalClose=(()=>{this.setState({promptModal:!1,code:""})}),this.handleSizeChange=(e=>{this.setState({size:e.target.value})}),this.handleSwitch=(()=>{this.setState({customSwitch:!0})}),this.handleJump=(e=>{var t=this.props,a=t.dispatch,l=t.appID;a(S.routerRedux.push("/team/".concat(x.default.getCurrTeamName(),"/region/").concat(x.default.getCurrRegionName(),"/apps/").concat(l,"/").concat(e)))}),this.heightOnchage=(e=>{e?this.setState({flagHeight:!1,iframeHeight:"500px"}):this.setState({flagHeight:!0,iframeHeight:"70vh"})}),this.state={type:"shape",toDelete:!1,toEdit:!1,toEditAppDirector:!1,service_alias:[],serviceIds:[],linkList:[],jsonDataLength:0,promptModal:!1,code:"",size:"large",currApp:{},rapidCopy:!1,componentTimer:!0,customSwitch:!1,resources:{},upgradableNum:0,upgradableNumLoading:!0,appStatusConfig:!1,guideStep:1,aggregation:!1,common:!0,compile:!1,flagHeight:!1,iframeHeight:"500px",language:"zh-CN"===P.default.get("language")}}componentDidMount(){this.loading(),this.handleWaitLevel()}componentWillUnmount(){this.closeTimer();var e=this.props.dispatch;e({type:"application/clearGroupDetail"})}getGroupId(){return this.props.appID}loadTopology(e){var t=this.props.dispatch,a=x.default.getCurrTeamName(),l=x.default.getCurrRegionName();P.default.set("team_name",a),P.default.set("region_name",l),t({type:"global/fetAllTopology",payload:{region_name:l,team_name:a,groupId:this.getGroupId()},callback:t=>{if(t&&200===t.status_code){var a=t.bean;if("{}"===JSON.stringify(a))return;var l=[],i=[],s=a.json_data;Object.keys(s).map(e=>{l.push(e),"running"==s[e].cur_status&&1==s[e].is_internet&&i.push(s[e].service_alias)}),this.setState({jsonDataLength:Object.keys(s).length,service_alias:i,serviceIds:l},()=>{this.loadLinks(i.join("-"),e)})}}})}loadLinks(e,t){var a=this.props.dispatch;a({type:"global/queryLinks",payload:{service_alias:e,team_name:x.default.getCurrTeamName()},callback:e=>{e&&200===e.status_code&&this.setState({linkList:e.list||[]},()=>{t&&this.handleTimers("timer",()=>{this.fetchAppDetailState(),this.fetchAppDetail(),this.loadTopology(!0)},1e4)})},handleError:e=>{this.handleError(e),this.handleTimers("timer",()=>{this.fetchAppDetailState(),this.fetchAppDetail(),this.loadTopology(!0)},2e4)}})}render(){var e=this.props,t=e.groupDetail,a=e.appPermissions,l=a.isShare,i=a.isBackup,g=a.isUpgrade,I=a.isEdit,h=a.isDelete,f=a.isStart,C=a.isStop,y=a.isUpdate,b=a.isConstruct,S=a.isCopy,k=e.buildShapeLoading,P=e.editGroupLoading,X=e.deleteLoading,Y=e.novices,J=e.appConfigGroupPermissions.isAccess,U=e.componentPermissions,H=e.operationPermissions.isAccess,Q=e.componentPermissions,F=Q.isAccess,K=Q.isCreate,q=Q.isConstruct,$=Q.isRestart,ee=this.state,te=ee.currApp,ae=ee.resources,le=ee.rapidCopy,ie=ee.jsonDataLength,se=ee.linkList,re=ee.code,ne=ee.promptModal,oe=ee.toEdit,de=ee.toEditAppDirector,ce=ee.toDelete,pe=ee.type,ue=ee.customSwitch,me=ee.serviceIds,ge=ee.upgradableNumLoading,Ie=ee.upgradableNum,he=ee.appStatusConfig,fe=ee.guideStep,Ce=ee.aggregation,Ae=ee.common,ve=ee.compile,Me=ee.flagHeight,ye=ee.iframeHeight,Ne=ee.language,be={start:(0,E.formatMessage)({id:"appOverview.btn.start"}),restart:(0,E.formatMessage)({id:"appOverview.list.table.restart"}),stop:(0,E.formatMessage)({id:"appOverview.btn.stop"}),deploy:(0,E.formatMessage)({id:"appOverview.btn.build"})},Se=!(ie>0),De={marginRight:"10px"},we=w.default.createElement("div",{className:O.default.pageHeaderContent},w.default.createElement("div",{className:O.default.contentl},w.default.createElement("div",{className:O.default.conBoxt},w.default.createElement("div",{className:O.default.contentTitle},w.default.createElement("span",null,te.group_name||"-"),w.default.createElement(m.default,{style:{cursor:"pointer",marginLeft:"5px"},onClick:this.toEdit,type:"edit"})),ae.status&&w.default.createElement("div",{className:O.default.extraContent},"CLOSED"!==ae.status&&y&&w.default.createElement(u.default,{style:De,onClick:()=>{this.handleTopology("upgrade")},disabled:Se},(0,E.formatMessage)({id:"appOverview.btn.update"})),b&&q&&w.default.createElement(u.default,{style:De,disabled:Se,onClick:()=>{this.handleTopology("deploy")}},(0,E.formatMessage)({id:"appOverview.btn.build"})),S&&w.default.createElement(u.default,{style:De,disabled:Se,onClick:this.handleOpenRapidCopy},(0,E.formatMessage)({id:"appOverview.btn.copy"})),se.length>0&&w.default.createElement(G.default,{linkList:se}))),w.default.createElement("div",{className:O.default.content_Box},he&&w.default.createElement(Z.default,{AppStatus:ae.status}),ae.status&&f&&w.default.createElement("span",null,w.default.createElement("a",{onClick:()=>{this.handleTopology("start")},disabled:Se},(0,E.formatMessage)({id:"appOverview.btn.start"})),w.default.createElement(p.default,{type:"vertical"})),ae.status&&("ABNORMAL"===ae.status||"PARTIAL_ABNORMAL"===ae.status)&&me&&me.length>0&&$&&w.default.createElement("span",null,w.default.createElement("a",{onClick:()=>{this.handleTopology("restart")},disabled:Se},(0,E.formatMessage)({id:"appOverview.list.table.restart"})),w.default.createElement(p.default,{type:"vertical"})),h&&"RUNNING"!==ae.status&&w.default.createElement("a",{onClick:this.toDelete},(0,E.formatMessage)({id:"appOverview.list.table.delete"})),ae.status&&"CLOSED"!==ae.status&&C&&w.default.createElement("span",null,"RUNNING"!==ae.status&&w.default.createElement(p.default,{type:"vertical"}),w.default.createElement("a",{onClick:()=>{this.handleTopology("stop")}},(0,E.formatMessage)({id:"appOverview.btn.stop"})))),w.default.createElement("div",{className:O.default.connect_Bot},w.default.createElement("div",{className:O.default.connect_Box},w.default.createElement("div",{className:O.default.connect_Boxs},w.default.createElement("div",null,(0,E.formatMessage)({id:"appOverview.memory"})),w.default.createElement("div",null,"".concat(z.default.unit(ae.memory||0,"MB")))),w.default.createElement("div",{className:O.default.connect_Boxs},w.default.createElement("div",null,(0,E.formatMessage)({id:"appOverview.cpu"})),w.default.createElement("div",null,ae.cpu&&ae.cpu/1e3||0,"Core"))),w.default.createElement("div",{className:O.default.connect_Box},w.default.createElement("div",{className:O.default.connect_Boxs},w.default.createElement("div",null,(0,E.formatMessage)({id:"appOverview.disk"})),w.default.createElement("div",null,"".concat(z.default.unit(ae.disk||0,"KB")))),w.default.createElement("div",{className:O.default.connect_Boxs},w.default.createElement("div",null,(0,E.formatMessage)({id:"appOverview.componentNum"})),w.default.createElement("div",null,te.service_num||0))))),w.default.createElement("div",{className:O.default.contentr},w.default.createElement("div",{className:O.default.conrHeader},w.default.createElement("div",null,w.default.createElement("span",null,(0,E.formatMessage)({id:"appOverview.createTime"})),w.default.createElement("span",null,te.create_time?(0,D.default)(te.create_time).locale("zh-cn").format("YYYY-MM-DD HH:mm:ss"):"-")),w.default.createElement("div",null,w.default.createElement("span",null,(0,E.formatMessage)({id:"appOverview.updateTime"})),w.default.createElement("span",null,te.update_time?(0,D.default)(te.update_time).locale("zh-cn").format("YYYY-MM-DD HH:mm:ss"):"-"))),w.default.createElement("div",{className:O.default.conrHeader},w.default.createElement("div",{style:{display:"flex",alignItems:"center"}},w.default.createElement("span",null,(0,E.formatMessage)({id:"appOverview.govern"})),w.default.createElement("span",{style:Ne?{}:{display:"inline-block"}},te.governance_mode?x.default.fetchGovernanceMode(te.governance_mode):"-"),te.governance_mode&&I&&w.default.createElement("a",{style:{marginLeft:"5px"},onClick:this.handleSwitch},(0,E.formatMessage)({id:"appOverview.btn.change"}))),w.default.createElement("div",null,w.default.createElement("span",null,(0,E.formatMessage)({id:"appOverview.principal"})),w.default.createElement("span",null,te.principal?w.default.createElement(c.default,{placement:"top",title:w.default.createElement("div",null,w.default.createElement("div",null,(0,E.formatMessage)({id:"appOverview.principal.username"}),te.username),w.default.createElement("div",null,(0,E.formatMessage)({id:"appOverview.principal.principal"}),te.principal),w.default.createElement("div",null,(0,E.formatMessage)({id:"appOverview.principal.email"}),te.email))},w.default.createElement("span",{style:{color:"rgba(0, 0, 0, 0.85)"}},te.principal)):"-",I&&w.default.createElement(m.default,{style:{cursor:"pointer",marginLeft:"5px"},onClick:this.handleToEditAppDirector,type:"edit"})))),w.default.createElement("div",{className:Ne?O.default.conrBot:O.default.en_conrBot},w.default.createElement("div",{className:O.default.conrBox},w.default.createElement("div",null,(0,E.formatMessage)({id:"appOverview.backups"})),w.default.createElement("div",{onClick:()=>{i&&this.handleJump("backup")}},w.default.createElement("a",null,te.backup_num||0))),w.default.createElement("div",{className:O.default.conrBox},w.default.createElement("div",null,(0,E.formatMessage)({id:"appOverview.modelRelease"})),w.default.createElement("div",{onClick:()=>{l&&this.handleJump("publish")}},w.default.createElement("a",null,te.share_num||0))),w.default.createElement("div",{className:O.default.conrBox},w.default.createElement("div",null,(0,E.formatMessage)({id:"appOverview.gateway"})),w.default.createElement("div",{onClick:()=>{H&&this.handleJump("gateway")}},w.default.createElement("a",null,te.ingress_num||0))),w.default.createElement("div",{className:O.default.conrBox},w.default.createElement("div",null,(0,E.formatMessage)({id:"appOverview.upgrade"})),w.default.createElement("div",{onClick:()=>{!ge&&g&&this.handleJump("upgrade")}},w.default.createElement("a",null,ge?w.default.createElement(d.default,null):Ie))),w.default.createElement("div",{className:O.default.conrBox},w.default.createElement("div",null,(0,E.formatMessage)({id:"appOverview.config"})),w.default.createElement("div",{onClick:()=>{J&&this.handleJump("configgroups")}},w.default.createElement("a",null,te.config_group_num||0)))))),Ee=w.default.createElement("div",{className:O.default.pageHeaderContents},w.default.createElement("div",{className:O.default.contentl},w.default.createElement("div",{className:O.default.conBoxt},w.default.createElement("div",{className:O.default.contentTitle},w.default.createElement("span",null,te.group_name||"-"),w.default.createElement(m.default,{style:{cursor:"pointer",marginLeft:"5px"},onClick:this.toEdit,type:"edit"})),w.default.createElement("div",{className:O.default.content_Box},he&&w.default.createElement(Z.default,{AppStatus:ae.status}),ae.status&&f&&w.default.createElement("span",null,w.default.createElement("a",{onClick:()=>{this.handleTopology("start")},disabled:Se},(0,E.formatMessage)({id:"appOverview.btn.start"})),w.default.createElement(p.default,{type:"vertical"})),ae.status&&("ABNORMAL"===ae.status||"PARTIAL_ABNORMAL"===ae.status)&&me&&me.length>0&&$&&w.default.createElement("span",null,w.default.createElement("a",{onClick:()=>{this.handleTopology("restart")},disabled:Se},(0,E.formatMessage)({id:"appOverview.list.table.restart"})),w.default.createElement(p.default,{type:"vertical"})),h&&"RUNNING"!==ae.status&&w.default.createElement("a",{onClick:this.toDelete},(0,E.formatMessage)({id:"appOverview.list.table.delete"})),ae.status&&"CLOSED"!==ae.status&&C&&w.default.createElement("span",null,"RUNNING"!==ae.status&&w.default.createElement(p.default,{type:"vertical"}),w.default.createElement("a",{onClick:()=>{this.handleTopology("stop")}},(0,E.formatMessage)({id:"appOverview.btn.stop"})))),ae.status&&w.default.createElement("div",{className:O.default.extraContent},"CLOSED"!==ae.status&&y&&w.default.createElement(u.default,{style:De,onClick:()=>{this.handleTopology("upgrade")},disabled:Se},(0,E.formatMessage)({id:"appOverview.btn.update"})),b&&q&&w.default.createElement(u.default,{style:De,disabled:Se,onClick:()=>{this.handleTopology("deploy")}},(0,E.formatMessage)({id:"appOverview.btn.build"})),S&&w.default.createElement(u.default,{style:De,disabled:Se,onClick:this.handleOpenRapidCopy},(0,E.formatMessage)({id:"appOverview.btn.copy"})),se.length>0&&w.default.createElement(G.default,{linkList:se})))),w.default.createElement("div",{className:O.default.contentr},w.default.createElement("div",{className:O.default.conrHeader},w.default.createElement("div",null,w.default.createElement("span",null,(0,E.formatMessage)({id:"appOverview.createTime"})),w.default.createElement("span",null,te.create_time?(0,D.default)(te.create_time).locale("zh-cn").format("YYYY-MM-DD HH:mm:ss"):"-")),w.default.createElement("div",null,w.default.createElement("span",null,(0,E.formatMessage)({id:"appOverview.updateTime"})),w.default.createElement("span",null,te.update_time?(0,D.default)(te.update_time).locale("zh-cn").format("YYYY-MM-DD HH:mm:ss"):"-"))))),Ze=x.default.getCurrTeamName(),Te=x.default.getCurrRegionName(),je={position:"relative",zIndex:1e3,padding:"0 16px",margin:"0 -16px",background:"#fff"},Ge=_.default.handleNewbie(Y,"applicationInfo");return w.default.createElement(w.Fragment,null,w.default.createElement(o.default,{style:Ge&&1===fe?je:{}},Me?Ee:we),1===fe&&this.handleNewbieGuiding({tit:(0,E.formatMessage)({id:"teamOther.Group.tit"}),showSvg:!1,showArrow:!0,send:!1,configName:"applicationInfo",desc:(0,E.formatMessage)({id:"teamOther.Group.desc"}),nextStep:2,conPosition:{top:"336px",left:"42%"}}),ue&&w.default.createElement(M.default,{mode:te&&te.governance_mode,appID:this.getGroupId(),onCancel:this.onCancel,onOk:this.fetchAppDetail}),w.default.createElement(o.default,{className:O.default.rowArrow,style:2===fe?je:{}},w.default.createElement("div",{className:O.default.iconBox,onClick:()=>{this.heightOnchage(Me)}},Me?w.default.createElement("div",{className:O.default.showOrhide},w.default.createElement(N.DownOutlined,null)):w.default.createElement("div",{className:O.default.showOrhide},w.default.createElement(N.UpOutlined,null))),w.default.createElement(o.default,{style:{display:"flex",background:"#FFFFFF",height:"60px",alignItems:"center",borderBottom:"1px solid #e8e8e8"}},w.default.createElement(n.default,{span:5,style:{paddingleft:"12px"}},w.default.createElement("a",{onClick:()=>{this.changeType("shape"),this.setState({aggregation:!1,common:!0,compile:!1})},style:{marginLeft:"30px",color:"list"!==pe?"#1890ff":"rgba(0, 0, 0, 0.65)"}},(0,E.formatMessage)({id:"appOverview.topology"})),F&&w.default.createElement("a",{onClick:()=>{this.changeType("list")},style:{marginLeft:"30px",color:"list"===pe?"#1890ff":"rgba(0, 0, 0, 0.65)"}},(0,E.formatMessage)({id:"appOverview.list"}))),w.default.createElement(n.default,{className:O.default.topoBtn,span:11,style:{paddingleft:"12px"}},"list"!==pe&&K&&w.default.createElement(r.default.Group,null,Ae?w.default.createElement(r.default.Button,{style:{textAlign:"center",height:"32px",lineHeight:"32px",fontSize:"13px",padding:"0px 5px",background:"#4C73B0",color:"#F6F7FA",borderColor:"#4C73B0"},onClick:()=>{this.changeType("shape"),this.setState({aggregation:!1,common:!0,compile:!1})},disabled:!0},(0,E.formatMessage)({id:"appOverview.btn.ordinary"})):w.default.createElement(r.default.Button,{style:{textAlign:"center",height:"32px",lineHeight:"32px",fontSize:"13px",padding:"0px 5px",background:"#fff",color:"#595959",borderColor:"#D9D9D9"},onClick:()=>{this.changeType("shape"),this.setState({aggregation:!1,common:!0,compile:!1})}},(0,E.formatMessage)({id:"appOverview.btn.ordinary"})),Ce?w.default.createElement(r.default.Button,{style:{textAlign:"center",height:"32px",lineHeight:"32px",fontSize:"13px",padding:"0px 5px",background:"#4C73B0",color:"#F6F7FA",borderColor:"#4C73B0"},onClick:()=>{this.changeType("aggregation"),this.setState({aggregation:!0,common:!1,compile:!1})},disabled:!0},(0,E.formatMessage)({id:"appOverview.btn.aggregation"})):w.default.createElement(r.default.Button,{style:{textAlign:"center",height:"32px",lineHeight:"32px",fontSize:"13px",padding:"0px 5px",background:"#fff",color:"#595959",borderColor:"#D9D9D9"},onClick:()=>{this.changeType("aggregation"),this.setState({aggregation:!0,common:!1,compile:!1})}},(0,E.formatMessage)({id:"appOverview.btn.aggregation"})),ve?w.default.createElement(r.default.Button,{style:{textAlign:"center",height:"32px",lineHeight:"32px",fontSize:"13px",padding:"0px 5px",background:"#4C73B0",color:"#F6F7FA",borderColor:"#4C73B0"},onClick:()=>{this.changeType("shapes"),this.setState({aggregation:!1,common:!1,compile:!0})},disabled:!0},(0,E.formatMessage)({id:"appOverview.btn.arrange"})):w.default.createElement(r.default.Button,{style:{textAlign:"center",height:"32px",lineHeight:"32px",fontSize:"13px",padding:"0px 5px",background:"#fff",color:"#595959",borderColor:"#D9D9D9"},onClick:()=>{this.changeType("shapes"),this.setState({aggregation:!1,common:!1,compile:!0})}},(0,E.formatMessage)({id:"appOverview.btn.arrange"})))),w.default.createElement(n.default,{span:4,style:{textAlign:"right"}}),w.default.createElement(n.default,{span:4,style:{textAlign:"center"}},K&&q&&w.default.createElement(L.default,{groupId:this.getGroupId(),refreshCurrent:()=>{this.loading()},onload:()=>{this.setState({type:"spin"},()=>{this.setState({type:"large"==this.state.size?"shape":"list"})})}}))),le&&w.default.createElement(j.default,{copyFlag:!0,on:this.handleCloseRapidCopy,onCancel:this.handleCloseRapidCopy,title:(0,E.formatMessage)({id:"confirmModal.app.title.copy"})}),"list"===pe&&w.default.createElement(W.default,{componentPermissions:U,groupId:this.getGroupId()}),"shape"===pe&&w.default.createElement(V.default,{style:{height:ye},group_id:this.getGroupId(),flagHeight:Me,iframeHeight:ye}),"aggregation"===pe&&w.default.createElement(R.default,{group_id:this.getGroupId(),flagHeight:Me,iframeHeight:ye}),"spin"===pe&&w.default.createElement(d.default,null),"shapes"===pe&&w.default.createElement(B.default,{changeType:e=>{this.changeType(e)},key:ye,iframeHeight:ye,group_id:this.getGroupId(),flagHeight:Me})),2===fe&&this.handleNewbieGuiding({tit:(0,E.formatMessage)({id:"teamOther.Group.app"}),btnText:(0,E.formatMessage)({id:"teamOther.Group.know"}),showSvg:!1,showArrow:!0,send:!0,configName:"applicationInfo",desc:(0,E.formatMessage)({id:"teamOther.Group.Topological"}),nextStep:3,conPosition:{bottom:"-16px",left:"45%"}}),Ge&&w.default.createElement("div",{id:"scroll_div",style:{marginTop:"180px"}}),ce&&w.default.createElement(T.default,{title:(0,E.formatMessage)({id:"confirmModal.app.title.delete"}),desc:(0,E.formatMessage)({id:"confirmModal.app.delete.desc"}),subDesc:(0,E.formatMessage)({id:"confirmModal.delete.strategy.subDesc"}),loading:X,onOk:this.handleDelete,onCancel:this.cancelDelete}),oe&&w.default.createElement(A.default,{isAddGroup:!1,group_name:t.group_name,logo:t.logo,note:t.note,loading:P,k8s_app:t.k8s_app,title:(0,E.formatMessage)({id:"confirmModal.app.title.edit"}),onCancel:this.cancelEdit,onOk:this.handleEdit,isEditEnglishName:te.can_edit}),de&&w.default.createElement(v.default,{teamName:Ze,regionName:Te,group_name:t.group_name,note:t.note,loading:P,principal:te.username,onCancel:this.cancelEditAppDirector,onOk:this.handleEdit}),ne&&w.default.createElement(s.default,{title:(0,E.formatMessage)({id:"confirmModal.friendly_reminder.title"}),confirmLoading:k,visible:ne,onOk:this.handlePromptModalOpen,onCancel:this.handlePromptModalClose},w.default.createElement("p",null,(0,E.formatMessage)({id:"confirmModal.friendly_reminder.pages.desc"},{codeObj:be[re]}))))}},I=h))||I);t.default=X},ZIYD:function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=l(a("jehZ"));a("2qtc");var r=l(a("kLXV"));a("/xke");var n=l(a("TeRw")),o=l(a("p0pE"));a("y8nQ");var d=l(a("Vl3Y"));a("sRBo");var c=l(a("kaz8"));a("7Kak");var p,u,m,g,I=l(a("9yH6")),h=l(a("409L")),f=a("MuoO"),C=a("U8JG"),A=i(a("q1tI")),v=a("LLXN"),M=a("xpXo"),y=l(a("8+Sn")),N=l(a("QDog")),b=(l(a("puIC")),I.default.Group),S=(c.default.Group,{labelCol:{span:5},wrapperCol:{span:19}}),D=(p=d.default.create(),u=(0,f.connect)(),p(m=u((g=class extends A.PureComponent{constructor(e){super(e),this.changeType=(()=>{this.props.changeType("shape")}),this.loadTopology=(()=>{var e=this.props,t=e.dispatch,a=e.group_id,l=N.default.getCurrTeamName(),i=N.default.getCurrRegionName();y.default.set("team_name",l),y.default.set("region_name",i),t({type:"global/fetAllTopology",payload:{region_name:i,team_name:l,groupId:a},callback:e=>{if(e&&200===e.status_code){var t=this.goodrainData2scopeData(e.bean);this.setState({data:t,registerData:t.registerData,flag:!0})}}})}),this.handleLayout=(()=>{var e=this.editor.propsAPI.read,t=(new h.default.graphlib.Graph).setGraph({}).setDefaultEdgeLabel(()=>{return{}});data.nodes.forEach(e=>{var a=e.size.split("*"),l=Number(a[0]),i=Number(a[1]);t.setNode(e.id,{width:l,height:i})}),data.edges.forEach(e=>{t.setEdge(e.source,e.target)}),h.default.layout(t);var a=data.nodes.map(e=>{var a=t.node(e.id);return(0,o.default)({},e,{x:a.x,y:a.y})});e({nodes:a,edges:data.edges})}),this.handleOk=(()=>{var e=this.state,t=e.name,a=e.id,l=e.foreignType,i=e.shape,s=this.props.form;s.validateFields((e,s)=>{e||(0===l&&(0,M.addRelationedApp)({team_name:N.default.getCurrTeamName(),app_alias:t,dep_service_id:a,open_inner:!0,container_port:s.container_port}).then(e=>{if(e&&200===e.status_code)return this.loadTopology(),"undeploy"==i||"closed"==i||"stopping"==i?n.default.success({message:(0,v.formatMessage)({id:"notification.success.Depend_add"})}):this.handleUpdateConfirm(t,(0,v.formatMessage)({id:"notification.success.Depend_add_need_update"})),void this.setState({visible:!1,shape:""});this.setState({visible:!1,shape:""}),this.handleUndo()}),1===l&&this.props.dispatch({type:"appControl/openExternalPort",payload:{team_name:N.default.getCurrTeamName(),app_alias:t,container_port:s.container_port,open_outer:!0},callback:e=>{if(e&&200===e.status_code)return n.default.success({message:e.msg_show}),this.setState({visible:!1,shape:""}),void this.loadTopology();this.setState({visible:!1,shape:""}),this.handleUndo()}}))})}),this.handleCancel=(e=>{this.setState({visible:!1}),this.handleUndo()}),this.handleSubmitAddRelation=((e,t,a,l)=>{(0,M.addRelationedApp)({team_name:N.default.getCurrTeamName(),app_alias:e,dep_service_id:t}).then(i=>{return i&&212===i.status_code?"\u5f53\u524d\u5e94\u7528\u5df2\u88ab\u5173\u8054"==i.msg_show?void this.handleUndo():(this.loadTopology(),void n.default.success({message:i.msg_show})):i&&201===i.status_code?0==i.list.length?(this.handleUndo(),void n.default.warning({message:(0,v.formatMessage)({id:"notification.warn.port_null"})})):void this.setState({visible:!0,foreignType:0,foreignTypeName:a,list:i.list||[],name:e,shape:l,id:t}):i&&200===i.status_code?(this.loadTopology(),void("undeploy"==l||"closed"==l||"stopping"==l?n.default.success({message:(0,v.formatMessage)({id:"notification.success.Depend_add"})}):this.handleUpdateConfirm(e,(0,v.formatMessage)({id:"notification.success.Depend_add_need_update"})))):void this.handleUndo()})}),this.handleDeleteRelationedApp=(e=>{var t=this.state.edgeData;if(t){var a=t.source.model.service_alias,l=t.target.model.service_alias,i=(t.source.model.shape,t.target.model.shape,t.target.id);a?(0,M.removeRelationedApp)({team_name:N.default.getCurrTeamName(),app_alias:a,dep_service_id:i}).then(e=>{e&&200===e.status_code&&(n.default.success({message:e.msg_show}),this.loadTopology(),this.setState({edgeData:"",edgeVisible:!1}))}):this.props.dispatch({type:"appControl/openExternalPort",payload:{team_name:N.default.getCurrTeamName(),app_alias:l,close_outer:!0},callback:e=>{e&&200===e.status_code&&(n.default.success({message:e.msg_show}),this.loadTopology(),this.setState({edgeData:"",edgeVisible:!1}))}})}}),this.handleUndo=(()=>{setTimeout(()=>{this.props.propsAPI.executeCommand("undo")},100)}),this.handleSubmitOpenExternalPort=((e,t,a)=>{this.props.dispatch({type:"appControl/openExternalPort",payload:{team_name:N.default.getCurrTeamName(),app_alias:e,container_port:"",open_outer:""},callback:l=>{return l&&200===l.status_code?"\u8be5\u7ec4\u4ef6\u5df2\u5f00\u542f\u5bf9\u5916\u7aef\u53e3"==l.msg_show?void this.handleUndo():(n.default.success({message:l.msg_show}),void this.loadTopology()):l&&201===l.status_code?0==l.list.length?(this.handleUndo(),void n.default.warning({message:(0,v.formatMessage)({id:"notification.warn.port_null"})})):void this.setState({visible:!0,foreignType:1,foreignTypeName:t,list:l.list||[],name:e,shape:a}):void this.handleUndo()}})}),this.onSaveEdgeData=(e=>{this.setState({edgeData:e,edgeTitle:e.source.model.service_alias?A.default.createElement("div",null,"\u662f\u5426\u53d6\u6d88",A.default.createElement("a",null,e.source.model.label),"\u4f9d\u8d56",A.default.createElement("a",null,e.target.model.label)):A.default.createElement("div",null,"\u662f\u5426\u5173\u95ed",A.default.createElement("a",null,e.target.model.label),"\u7ec4\u4ef6\u7684\u6240\u6709\u5bf9\u5916\u7aef\u53e3")})}),this.onEdgeOpen=(()=>{this.state.edgeData&&this.setState({edgeVisible:!0})}),this.handleUpdateConfirm=((e,t)=>{r.default.confirm({title:t,content:"",okText:"\u66f4\u65b0",cancelText:"\u53d6\u6d88",onOk(){(0,M.updateRolling)({team_name:N.default.getCurrTeamName(),app_alias:e}).then(e=>{e&&n.default.success({message:(0,v.formatMessage)({id:"notification.success.operationUpdata"})})})}})}),this.state={data:{},visible:!1,edgeVisible:!1,list:[],name:"",id:"",foreignType:0,registerData:[],edgeData:"",edgeTitle:"",foreignTypeName:"",shape:"",flag:!1}}componentDidMount(){this.loadTopology()}componentDidUpdate(){this.state.data.nodes&&this.state.data.nodes.length>10&&this.props.propsAPI.executeCommand("autoZoom")}goodrainData2scopeData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e.json_data),a={},l={},i={},s={},r=t.length,n={nodes:[{type:"node",size:"60*60",shape:"The Internet",color:"#030303",label:"\u7f51\u5173",stack:!0,stackNum:1,linkable:!0,rank:"internet",cur_status:"running",x:document.body.clientWidth/2-(t.length>0?t.length/2*100:0),y:15,id:"The Internet",index:0}],edges:[],registerData:[]},d=[];function c(e){return"running"!==e.cur_status?1:(e.node_num=e.node_num||1,e.node_num>3?3:e.node_num)}t.length||window.parent&&window.parent.onNodesEmpty&&window.parent.onNodesEmpty(),t.forEach(t=>{if(Object.prototype.hasOwnProperty.call(e.json_data,t)){if(a={},i={style:{lineWidth:2,stroke:"#B6B6CD"}},l=e.json_data[t],a.type="node",a.size="75*75",a.shape=l.cur_status,a.color="#030303",a.label=l.service_cname,a.cur_status=l.cur_status,a.service_alias=l.service_alias,a.id=l.service_id,a.lineTip=l.lineTip,a.labelMinor="",a.rank=a.cur_status,a.stack=!0,a.stackNum=c(l),a.linkable="running"===l.cur_status?1:0,a.adjacency=e.json_svg[t]||[],l.is_internet&&(i.source="The Internet",i.target=t,n.edges.push(i)),e.json_svg[t]&&e.json_svg[t].length>0)for(var r=0;r<e.json_svg[t].length;r++)s={},s.source=l.service_id,s.target=e.json_svg[t][r],s.style={lineWidth:2,stroke:"#B6B6CD"},d.push(s);n.registerData.push(l.cur_status),n.nodes.push(a)}}),n.edges=Array.from(new Set(n.edges)),d=Array.from(new Set(d));var p=n.edges.concat(d);n.edges=p,n.nodes[0].x=Number((document.body.clientWidth-352-100*r/2)/2);var u=(new h.default.graphlib.Graph).setGraph({}).setDefaultEdgeLabel(()=>{return{}});n.nodes.forEach(e=>{var t=e.size.split("*"),a=Number(t[0]),l=Number(t[1]);u.setNode(e.id,{width:a,height:l})}),n.edges.forEach(e=>{u.setEdge(e.source,e.target)}),h.default.layout(u);var m=n.nodes.map(e=>{var t=u.node(e.id);return(0,o.default)({},e,{x:t.x+430,y:t.y})});return n.nodes=m,n}render(){var e=this.state,t=e.data,a=e.list,l=e.visible,i=e.foreignType,n=e.edgeVisible,o=(e.edgeData,e.edgeTitle),c=e.foreignTypeName,p=this.props,u=(p.flagHeight,p.iframeHeight),m=this.props.form,g=m.getFieldDecorator;m.getFieldValue;return A.default.createElement("div",{style:{height:u}},l&&A.default.createElement(r.default,{title:1===i?A.default.createElement("div",null,A.default.createElement("a",null,c),"\u7ec4\u4ef6\u672a\u5f00\u542f\u5bf9\u5916\u7aef\u53e3"):A.default.createElement("div",null,"\u8981\u5173\u8054\u7684",A.default.createElement("a",null,c),"\u7ec4\u4ef6\u6682\u672a\u5f00\u542f\u5bf9\u5185\u7aef\u53e3\uff0c\u662f\u5426\u6253\u5f00?"),visible:l,onOk:this.handleOk,onCancel:this.handleCancel},A.default.createElement(d.default,{onSubmit:this.handleOk,layout:"horizontal",hideRequiredMark:!0},A.default.createElement(d.default.Item,(0,s.default)({},S,{label:"\u9009\u62e9\u7aef\u53e3"}),g("container_port",{initialValue:a[0],rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7aef\u53e3"}]})(A.default.createElement(b,null,a.map((e,t)=>{return A.default.createElement(I.default,{key:t,value:e},e)})))))),n&&A.default.createElement(r.default,{title:"",visible:n,onOk:this.handleDeleteRelationedApp,onCancel:()=>{this.setState({edgeVisible:!1,edgeData:""})}},A.default.createElement("h3",null,o)),A.default.createElement(C.RegisterCommand,{name:"delete",config:{shortcutCodes:[]},extend:"delete"}),A.default.createElement(C.Flow,{style:{width:"100%",height:u},data:t,noEndEdge:!1,onKeyDown:e=>{"Backspace"==e.domEvent.key&&this.onEdgeOpen()},onEdgeClick:e=>{e.shape._attrs.stroke="#5BB1FA",e.shape._attrs.lineWidth=3,this.onSaveEdgeData(e.item)},onAfterChange:e=>{var t=e.action,a=e.item;if("add"==t){var l=a.source.model.service_alias,i=a.target.model.service_alias,s=a.source.model.shape,r=a.target.model.shape,n=a.source.id,o=a.target.id,d=a.target.model.label;"The Internet"==n?this.handleSubmitOpenExternalPort(i,d,r):"The Internet"==o?this.handleUndo():"The Internet"!=l&&this.handleSubmitAddRelation(l,o,d,s)}}}))}},m=g))||m)||m),w=(0,C.withPropsAPI)(D);t.default=w},Zob5:function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("q1tI")),r=l(a("Msyt"));class n extends s.PureComponent{render(){var e=this.props,t=e.group_id,a=e.iframeHeight;return s.default.createElement("div",{style:{height:a,background:"#fff"},bordered:!1},s.default.createElement(r.default,{iframeHeight:a,group_id:t}))}}t.default=n},aiW3:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODRweCIgaGVpZ2h0PSIxMDVweCIgdmlld0JveD0iMCAwIDg0IDEwNSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTIuNSAoNjc0NjkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkdyb3VwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPHBhdGggZD0iTTQwLjcwOTM3NDgsMC45ODc1MzAyNzUgTDczLjcwOTM3NDgsMjIuMjYzODQ2MSBDNzUuMTM3MjgxMSwyMy4xODQ0Njk5IDc2LDI0Ljc2NzE4MTggNzYsMjYuNDY2MTQxNyBMNzYsNTkuODMyMDMxMiBMNzYsNzAuMDE1MjUxNCBDNzYsNzEuNzE0MjExMyA3NS4xMzcyODExLDczLjI5NjkyMzIgNzMuNzA5Mzc0OCw3NC4yMTc1NDcgTDQwLjcwOTM3NDgsOTUuNDkzODYyOCBDMzkuMDU5NzAwNCw5Ni41NTc0Njg3IDM2Ljk0MDI5OTYsOTYuNTU3NDY4NyAzNS4yOTA2MjUyLDk1LjQ5Mzg2MjggTDIuMjkwNjI1MjEsNzQuMjE3NTQ3IEMwLjg2MjcxODg3LDczLjI5NjkyMzIgOS44OTE5Nzg3NGUtMTUsNzEuNzE0MjExMyAxLjQyMTA4NTQ3ZS0xNCw3MC4wMTUyNTE0IEwtMS43NzYzNTY4NGUtMTUsMjYuNDY2MTQxNyBDLTMuNDkzMzk4OTRlLTE1LDI0Ljc2NzE4MTggMC44NjI3MTg4NywyMy4xODQ0Njk5IDIuMjkwNjI1MjEsMjIuMjYzODQ2MSBMMzUuMjkwNjI1MiwwLjk4NzUzMDI3NSBDMzYuOTQwMjk5NiwtMC4wNzYwNzU2MDE0IDM5LjA1OTcwMDQsLTAuMDc2MDc1NjAxNCA0MC43MDkzNzQ4LDAuOTg3NTMwMjc1IFoiIGlkPSJwYXRoLTEiPjwvcGF0aD4KICAgICAgICA8ZmlsdGVyIHg9Ii03LjklIiB5PSItNC4yJSIgd2lkdGg9IjExNS44JSIgaGVpZ2h0PSIxMTIuNSUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dTcHJlYWRPdXRlcjEiPjwvZmVNb3JwaG9sb2d5PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIyIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJlcm9kZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49InNoYWRvd0lubmVyIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldE91dGVyMSIgaW4yPSJzaGFkb3dJbm5lciIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuOTAzNjY3ODIxICAgMCAwIDAgMCAwLjkwMDU0MDc5MiAgIDAgMCAwIDAgMC45MDQ3MzUzMzIgIDAgMCAwIDEgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxmaWx0ZXIgeD0iLTkuMiUiIHk9Ii01LjIlIiB3aWR0aD0iMTE4LjQlIiBoZWlnaHQ9IjExNC42JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTMiPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIzIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93Qmx1cklubmVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMCIgaW49InNoYWRvd0JsdXJJbm5lcjEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0SW5uZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldElubmVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9ImFyaXRobWV0aWMiIGsyPSItMSIgazM9IjEiIHJlc3VsdD0ic2hhZG93SW5uZXJJbm5lcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjkwMzY2NzgyMSAgIDAgMCAwIDAgMC45MDA1NDA3OTIgICAwIDAgMCAwIDAuOTA0NzM1MzMyICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgPC9maWx0ZXI+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuMDAwMDAwLCAyLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iUG9seWdvbiI+CiAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTMpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2Ugc3Ryb2tlPSIjRjY5RDRBIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiMwMDAwMDAiIGN4PSIzOCIgY3k9IjQ4IiByPSI4Ij48L2NpcmNsZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},bKuN:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODRweCIgaGVpZ2h0PSIxMDVweCIgdmlld0JveD0iMCAwIDg0IDEwNSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTIuNSAoNjc0NjkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkdyb3VwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPHBhdGggZD0iTTQwLjcwOTM3NDgsMC45ODc1MzAyNzUgTDczLjcwOTM3NDgsMjIuMjYzODQ2MSBDNzUuMTM3MjgxMSwyMy4xODQ0Njk5IDc2LDI0Ljc2NzE4MTggNzYsMjYuNDY2MTQxNyBMNzYsNTkuODMyMDMxMiBMNzYsNzAuMDE1MjUxNCBDNzYsNzEuNzE0MjExMyA3NS4xMzcyODExLDczLjI5NjkyMzIgNzMuNzA5Mzc0OCw3NC4yMTc1NDcgTDQwLjcwOTM3NDgsOTUuNDkzODYyOCBDMzkuMDU5NzAwNCw5Ni41NTc0Njg3IDM2Ljk0MDI5OTYsOTYuNTU3NDY4NyAzNS4yOTA2MjUyLDk1LjQ5Mzg2MjggTDIuMjkwNjI1MjEsNzQuMjE3NTQ3IEMwLjg2MjcxODg3LDczLjI5NjkyMzIgOS44OTE5Nzg3NGUtMTUsNzEuNzE0MjExMyAxLjQyMTA4NTQ3ZS0xNCw3MC4wMTUyNTE0IEwtMS43NzYzNTY4NGUtMTUsMjYuNDY2MTQxNyBDLTMuNDkzMzk4OTRlLTE1LDI0Ljc2NzE4MTggMC44NjI3MTg4NywyMy4xODQ0Njk5IDIuMjkwNjI1MjEsMjIuMjYzODQ2MSBMMzUuMjkwNjI1MiwwLjk4NzUzMDI3NSBDMzYuOTQwMjk5NiwtMC4wNzYwNzU2MDE0IDM5LjA1OTcwMDQsLTAuMDc2MDc1NjAxNCA0MC43MDkzNzQ4LDAuOTg3NTMwMjc1IFoiIGlkPSJwYXRoLTEiPjwvcGF0aD4KICAgICAgICA8ZmlsdGVyIHg9Ii03LjklIiB5PSItNC4yJSIgd2lkdGg9IjExNS44JSIgaGVpZ2h0PSIxMTIuNSUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dTcHJlYWRPdXRlcjEiPjwvZmVNb3JwaG9sb2d5PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIyIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJlcm9kZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49InNoYWRvd0lubmVyIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldE91dGVyMSIgaW4yPSJzaGFkb3dJbm5lciIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuOTAzNjY3ODIxICAgMCAwIDAgMCAwLjkwMDU0MDc5MiAgIDAgMCAwIDAgMC45MDQ3MzUzMzIgIDAgMCAwIDEgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxmaWx0ZXIgeD0iLTkuMiUiIHk9Ii01LjIlIiB3aWR0aD0iMTE4LjQlIiBoZWlnaHQ9IjExNC42JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTMiPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIzIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93Qmx1cklubmVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMCIgaW49InNoYWRvd0JsdXJJbm5lcjEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0SW5uZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldElubmVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9ImFyaXRobWV0aWMiIGsyPSItMSIgazM9IjEiIHJlc3VsdD0ic2hhZG93SW5uZXJJbm5lcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjkwMzY2NzgyMSAgIDAgMCAwIDAgMC45MDA1NDA3OTIgICAwIDAgMCAwIDAuOTA0NzM1MzMyICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgPC9maWx0ZXI+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuMDAwMDAwLCAyLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iUG9seWdvbiI+CiAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTMpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2Ugc3Ryb2tlPSIjMjAxMjRBIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiMwMDAwMDAiIGN4PSIzOCIgY3k9IjQ4IiByPSI4Ij48L2NpcmNsZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},cYkQ:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODRweCIgaGVpZ2h0PSIxMDVweCIgdmlld0JveD0iMCAwIDg0IDEwNSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTIuNSAoNjc0NjkpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkdyb3VwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPHBhdGggZD0iTTQwLjcwOTM3NDgsMC45ODc1MzAyNzUgTDczLjcwOTM3NDgsMjIuMjYzODQ2MSBDNzUuMTM3MjgxMSwyMy4xODQ0Njk5IDc2LDI0Ljc2NzE4MTggNzYsMjYuNDY2MTQxNyBMNzYsNTkuODMyMDMxMiBMNzYsNzAuMDE1MjUxNCBDNzYsNzEuNzE0MjExMyA3NS4xMzcyODExLDczLjI5NjkyMzIgNzMuNzA5Mzc0OCw3NC4yMTc1NDcgTDQwLjcwOTM3NDgsOTUuNDkzODYyOCBDMzkuMDU5NzAwNCw5Ni41NTc0Njg3IDM2Ljk0MDI5OTYsOTYuNTU3NDY4NyAzNS4yOTA2MjUyLDk1LjQ5Mzg2MjggTDIuMjkwNjI1MjEsNzQuMjE3NTQ3IEMwLjg2MjcxODg3LDczLjI5NjkyMzIgOS44OTE5Nzg3NGUtMTUsNzEuNzE0MjExMyAxLjQyMTA4NTQ3ZS0xNCw3MC4wMTUyNTE0IEwtMS43NzYzNTY4NGUtMTUsMjYuNDY2MTQxNyBDLTMuNDkzMzk4OTRlLTE1LDI0Ljc2NzE4MTggMC44NjI3MTg4NywyMy4xODQ0Njk5IDIuMjkwNjI1MjEsMjIuMjYzODQ2MSBMMzUuMjkwNjI1MiwwLjk4NzUzMDI3NSBDMzYuOTQwMjk5NiwtMC4wNzYwNzU2MDE0IDM5LjA1OTcwMDQsLTAuMDc2MDc1NjAxNCA0MC43MDkzNzQ4LDAuOTg3NTMwMjc1IFoiIGlkPSJwYXRoLTEiPjwvcGF0aD4KICAgICAgICA8ZmlsdGVyIHg9Ii03LjklIiB5PSItNC4yJSIgd2lkdGg9IjExNS44JSIgaGVpZ2h0PSIxMTIuNSUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0yIj4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dTcHJlYWRPdXRlcjEiPjwvZmVNb3JwaG9sb2d5PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIyIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJlcm9kZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49InNoYWRvd0lubmVyIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldE91dGVyMSIgaW4yPSJzaGFkb3dJbm5lciIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuOTAzNjY3ODIxICAgMCAwIDAgMCAwLjkwMDU0MDc5MiAgIDAgMCAwIDAgMC45MDQ3MzUzMzIgIDAgMCAwIDEgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxmaWx0ZXIgeD0iLTkuMiUiIHk9Ii01LjIlIiB3aWR0aD0iMTE4LjQlIiBoZWlnaHQ9IjExNC42JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTMiPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIzIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93Qmx1cklubmVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMCIgaW49InNoYWRvd0JsdXJJbm5lcjEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0SW5uZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldElubmVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9ImFyaXRobWV0aWMiIGsyPSItMSIgazM9IjEiIHJlc3VsdD0ic2hhZG93SW5uZXJJbm5lcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjkwMzY2NzgyMSAgIDAgMCAwIDAgMC45MDA1NDA3OTIgICAwIDAgMCAwIDAuOTA0NzM1MzMyICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgPC9maWx0ZXI+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuMDAwMDAwLCAyLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iUG9seWdvbiI+CiAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTMpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2Ugc3Ryb2tlPSIjMDAwMDIxIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiMwMDAwMDAiIGN4PSIzOCIgY3k9IjQ4IiByPSI4Ij48L2NpcmNsZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},gNmc:function(e,t,a){e.exports={antd_form:"antd_form___2qDMM",description:"description___2KDe5",ulStyle:"ulStyle___jl4kp",over_hr:"over_hr___md_Og"}},hJtr:function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var s,r,n,o=l(a("bx4M")),d=l(a("jehZ")),c=l(a("p0pE")),p=i(a("q1tI")),u=a("MuoO"),m=a("7DNP"),g=l(a("51sS")),I=l(a("QDog")),h=l(a("wNA6")),f=l(a("/BFj")),C=(s=(0,u.connect)(e=>{var t=e.user,a=e.global;return{currUser:t.currentUser,groups:a.groups}}),s((n=class extends p.PureComponent{constructor(e){super(e),this.onAddGroup=(()=>{this.setState({addGroup:!0})}),this.cancelAddGroup=(()=>{this.setState({addGroup:!1})}),this.handleAddGroup=(e=>{var t=this.props.form.setFieldsValue;this.props.dispatch({type:"application/addGroup",payload:(0,c.default)({team_name:I.default.getCurrTeamName()},e),callback:e=>{e&&this.props.dispatch({type:"global/fetchGroups",payload:{team_name:I.default.getCurrTeamName(),region_name:I.default.getCurrRegionName()},callback:()=>{t({group_id:e.group_id}),this.cancelAddGroup()}})}})}),this.hideShowKey=(()=>{this.setState({showKey:!1})}),this.handleSubmit=((e,t)=>{var a=t,l=e.group_id,i=this.props,s=(i.form,i.dispatch),r=I.default.getCurrTeamName(),n=I.default.getCurrRegionName();s({type:"createApp/createJarWarFormSubmit",payload:(0,c.default)({region_name:n,team_name:r,event_id:t},e),callback:e=>{s(m.routerRedux.push("/team/".concat(r,"/region/").concat(n,"/importMessageYaml?event_id=").concat(a,"&group_id=").concat(l)))}})}),this.state={codeType:"Git",showUsernameAndPass:!1,showKey:!1,addGroup:!1}}render(){var e=decodeURIComponent(this.props.handleType&&"Service"===this.props.handleType?"":this.props.match.params.image||"");return p.default.createElement(o.default,null,p.default.createElement(f.default,null),p.default.createElement("div",{className:g.default.formWrap,style:{width:this.props.handleType&&"Service"===this.props.handleType?"auto":"500px"}},p.default.createElement(h.default,(0,d.default)({data:{docker_cmd:e||""},onSubmit:this.handleSubmit},this.props))))}},r=n))||r);t.default=C},"i+gw":function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var s=l(a("/wGt")),r=l(a("jehZ"));a("jCWc");var n=l(a("kPKH"));a("14J3");var o=l(a("BMrR"));a("+L6B");var d=l(a("2/Rp"));a("Pwec");var c,p,u,m=l(a("CtXQ")),g=l(a("p0pE")),I=a("MuoO"),h=i(a("q1tI")),f=a("LLXN"),C=l(a("I3bc")),A=l(a("QDog")),v=l(a("tH/r")),M=(l(a("mWxT")),a("+n12"),l(a("zNpR"))),y=l(a("9Y44")),N=l(a("vOCT")),b=l(a("sXRX")),S=l(a("CNGZ")),D=l(a("06/0")),w=l(a("hJtr")),E=l(a("2Hi/")),Z=l(a("Gl/x")),T=l(a("puIC")),j=(c=(0,I.connect)(e=>{var t=e.user,a=e.application,l=e.global,i=e.enterprise;return{currUser:t.currentUser,apps:a.apps,groupDetail:a.groupDetail||{},groups:l.groups||[],rainbondInfo:l.rainbondInfo,enterprise:l.enterprise,currentEnterprise:i.currentEnterprise}}),c((u=class extends h.PureComponent{constructor(e){var t;super(e),t=this,this.getGitServerName=(e=>{var t=e.oauth_type,a=e.name,l=void 0===a?"":a,i={github:"Github",gitlab:"Gitlab",gitee:"Gitee"},s=i[t]||"",r=s?"".concat(s," ").concat(l&&"(".concat(l,")")):"".concat(l," ").concat((0,f.formatMessage)({id:"appOverview.list.btn.addComponent.project"}));return r}),this.toAddService=(()=>{this.setState({toAddService:!0,isDrawer:!0})}),this.toAddThirdParty=(()=>{this.setState({flagThirdParty:!this.state.flagThirdParty})}),this.cancelAddService=(()=>{this.setState({toAddService:!1},()=>{this.setState({ServiceComponentTwoPage:null,ServiceComponentOnePage:!0,moreState:!0,ButtonGroup:!1,ServiceComponentThreePage:!1,scopeProMax:!1})})}),this.handleServiceComponent=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;t.setState({ServiceComponentOnePage:e,ServiceComponentTwoPage:a,ServiceComponentThreePage:l,[i]:s}),!1!==e&&null!==a&&null!==l||t.setState({ButtonGroup:null,ButtonGroupState:!0}),a&&t.setState({BackType:a}),"market"!==a&&t.setState({moreState:!0})},this.setJwar=(e=>{this.setState({event_id:e})}),this.setYaml=(e=>{this.setState({event_id:e})}),this.handleBackEvents=(()=>{var e=this.state,t=e.ServiceComponentTwoPage,a=e.ServiceComponentThreePage,l=e.BackType;t?this.setState({ServiceComponentTwoPage:null,ServiceComponentOnePage:!0,ButtonGroup:null,ButtonGroupState:!0}):a&&this.setState({ServiceComponentThreePage:null,ServiceComponentTwoPage:l,ButtonGroup:null,ButtonGroupState:!0}),"market"===t&&this.setState({moreState:!0})}),this.handleServiceBotton=((e,t,a)=>{this.setState({ButtonGroup:e,ButtonGroupState:t,errState:a})}),this.refreshCurrent=(()=>{this.setState({CustomButton:!1,toAddService:!1,ServiceComponentOnePage:!0,ServiceComponentTwoPage:null,ServiceComponentThreePage:null,ServiceGetData:null,ButtonGroup:!1,ButtonGroupState:!0,handleType:null,moreState:!0},()=>{this.props.refreshCurrent()})}),this.getValue=(e=>{this.setState({isDrawer:e})}),this.handleScopeMax=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.setState({scopeProMax:e})},this.state={CustomButton:!1,toAddService:!1,flagThirdParty:!1,ServiceComponentOnePage:!0,ServiceComponentTwoPage:null,ServiceComponentThreePage:null,ServiceGetData:null,ButtonGroup:!1,ButtonGroupState:!0,handleType:null,moreState:!0,BackType:null,errState:!0,isDrawer:!0,scopeProMax:"",event_id:""}}render(){var e=this.props,t=(e.rainbondInfo,e.enterprise),a=e.groupId,l=e.onload,i=this.state,c=i.ButtonGroup,p=i.moreState,u=i.ServiceComponentOnePage,I=i.ServiceComponentTwoPage,j=i.ServiceComponentThreePage,G=i.ServiceGetData,k=i.ButtonGroupState,P=i.gitType,x=i.gitServiceID,_=i.scopeProMax,z=i.errState,L=i.toAddService,R=(i.flagThirdParty,i.localAppTab,i.rainStoreTab,i.helmStoreTab,i.isDrawer),V=i.event_id,W=A.default.fetchSvg("codeSvg"),B=A.default.fetchSvg("dockerSvg"),O=A.default.fetchSvg("uploadYaml"),X=A.default.fetchSvg("uploadJarWar"),Y=(A.default.fetchSvg("third_party"),v.default.getEnableGitOauthServer(t)),J={handleType:"Service",ButtonGroupState:k,refreshCurrent:this.refreshCurrent,handleServiceBotton:this.handleServiceBotton},U=(0,g.default)({groupId:a},J,{handleServiceGetData:e=>{this.handleServiceComponent(!1,null,"check","ServiceGetData",e)}}),H=(0,g.default)({},U,{scopeProMax:_,moreState:p}),Q={marginRight:8};return h.default.createElement("div",null,h.default.createElement(d.default,{type:"primary",onClick:this.toAddService,style:{marginLeft:"12px",color:"#595959",borderColor:"#D9D9D9",background:"#fff"}},h.default.createElement(m.default,{type:"plus"}),(0,f.formatMessage)({id:"appOverview.btn.addComponent"})),h.default.createElement(s.default,{title:(0,f.formatMessage)({id:"appOverview.btn.addComponent"}),placement:"right",onClose:this.cancelAddService,visible:L,maskClosable:!1,width:550,style:{display:R?"block":"none"}},u&&h.default.createElement("div",{style:{marginTop:"-12px"}},h.default.createElement("div",{className:T.default.ServiceBox},h.default.createElement(o.default,null,h.default.createElement("p",{className:T.default.ServiceTitle},(0,f.formatMessage)({id:"menu.team.create.code"}))),h.default.createElement(o.default,{type:"flex"},h.default.createElement(n.default,{span:4,className:T.default.ServiceDiv,onClick:()=>{this.handleServiceComponent(!1,"custom")}},W,h.default.createElement("p",{className:T.default.ServiceSmallTitle,style:{margin:"5px"}},(0,f.formatMessage)({id:"appOverview.list.btn.addComponent.custom"}))),h.default.createElement(n.default,{span:4,className:T.default.ServiceDiv,onClick:()=>{this.handleServiceComponent(!1,"jwar")}},X,h.default.createElement("p",{className:T.default.ServiceSmallTitle,style:{margin:"5px"}},(0,f.formatMessage)({id:"appOverview.list.btn.addComponent.jwar"}))),Y&&Y.length>0&&Y.map(e=>{var t=e.service_id,a=e.oauth_type;return h.default.createElement(n.default,{key:t,span:4,className:T.default.ServiceDiv,onClick:()=>{this.setState({gitType:a,gitServiceID:t},()=>{this.handleServiceComponent(!1,"gitrepostory")})}},v.default.getIcon(e,"40px"),h.default.createElement("p",{className:T.default.ServiceSmallTitle},this.getGitServerName(e)))}))),h.default.createElement("div",{className:T.default.ServiceBox},h.default.createElement(o.default,null,h.default.createElement("p",{className:T.default.ServiceTitle,style:{marginBottom:"20px"}},(0,f.formatMessage)({id:"menu.team.create.market"}))),h.default.createElement(o.default,null,h.default.createElement(Z.default,(0,r.default)({},H,{isHelm:!1,handleServiceComponent:e=>{this.handleServiceComponent(!1,"market",null,"moreState",!1),this.handleScopeMax(e)}})))),h.default.createElement("div",{className:T.default.ServiceBox},h.default.createElement(o.default,null,h.default.createElement("p",{className:T.default.ServiceTitle},(0,f.formatMessage)({id:"menu.team.create.image"}))),h.default.createElement(o.default,{style:{marginTop:"-8px"}},h.default.createElement(n.default,{span:8,className:T.default.ServiceDiv,onClick:()=>{this.handleServiceComponent(!1,"imageName")}},B,h.default.createElement("p",{className:T.default.ServiceSmallTitle},(0,f.formatMessage)({id:"appOverview.list.btn.addComponent.image"}))),h.default.createElement(n.default,{span:8,className:T.default.ServiceDiv,onClick:()=>{this.handleServiceComponent(!1,"imageCmd")}},B,h.default.createElement("p",{className:T.default.ServiceSmallTitle,style:{whiteSpace:"nowrap"}},(0,f.formatMessage)({id:"appOverview.list.btn.addComponent.dockerRun"}))))),h.default.createElement("div",{className:T.default.ServiceBox},h.default.createElement(o.default,null,h.default.createElement("p",{className:T.default.ServiceTitle},(0,f.formatMessage)({id:"menu.team.create.upload"}))),h.default.createElement(o.default,null,h.default.createElement(n.default,{span:8,className:T.default.ServiceDiv,onClick:()=>{this.handleServiceComponent(!1,"yaml")}},O,h.default.createElement("p",{className:T.default.ServiceSmallTitle},(0,f.formatMessage)({id:"appOverview.list.btn.addComponent.yaml"}))))),h.default.createElement("div",{className:T.default.ServiceBox,style:{marginBottom:"60px"}},h.default.createElement(M.default,{content:this.getValue.bind(this),groupId:a}))),"custom"===I&&h.default.createElement(y.default,U),"gitrepostory"===I&&h.default.createElement(C.default,(0,r.default)({},U,{type:x,gitType:P})),"check"===j&&G&&h.default.createElement(N.default,(0,r.default)({},J,{event_id:V,ServiceGetData:G,ErrState:z,handleServiceDataState:(e,t,a,i)=>{this.handleServiceComponent(e,t,a,"ServiceGetData",i),l&&l()}})),"imageName"===I&&h.default.createElement(S.default,U),"imageCmd"===I&&h.default.createElement(b.default,U),"jwar"===I&&h.default.createElement(D.default,(0,r.default)({},U,{setPare:this.setJwar})),"yaml"===I&&h.default.createElement(w.default,(0,r.default)({},U,{setPare:this.setYaml})),"market"===I&&h.default.createElement(E.default,(0,r.default)({},H,{isHelm:!1,isAddMarket:!0,scopeMax:_||"localApplication",handleServiceComponent:()=>{this.handleServiceComponent(!1,"market",null)}})),h.default.createElement("div",{style:{position:"absolute",bottom:0,width:"100%",borderTop:"1px solid #e8e8e8",padding:"10px 16px",left:0,background:"#fff",borderRadius:"0 0 4px 4px",display:"flex",justifyContent:"flex-end",zIndex:99999}},!u&&"check"!==j&&h.default.createElement(d.default,{style:Q,onClick:this.handleBackEvents},(0,f.formatMessage)({id:"popover.back"})),c&&h.default.createElement("span",{style:Q},c),h.default.createElement(d.default,{style:Q,onClick:this.cancelAddService},(0,f.formatMessage)({id:"popover.cancel"})))))}},p=u))||p);t.default=j},jWJt:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a("jehZ")),s=l(a("Y/ft")),r=a("7DNP"),n=l(a("q1tI")),o=l(a("ZShK")),d=l(a("EhCg")),c=l(a("fxZG")),p=l(a("8+Sn")),u=e=>{var t=e.isFooter,a=e.children,l=e.wrapperClassName,u=e.top,m=(0,s.default)(e,["isFooter","children","wrapperClassName","top"]);return n.default.createElement("div",{style:{margin:"-20px"},className:l},u,n.default.createElement(d.default,(0,i.default)({key:"pageheader"},m,{linkElement:r.Link})),a?n.default.createElement("div",{className:c.default.content},a):null,!t&&"false"===p.default.get("enterprise_edition")&&n.default.createElement(o.default,null))};t.default=u},movk:function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV"));a("14J3");var r=l(a("BMrR"));a("jCWc");var n=l(a("kPKH"));a("g9YV");var o=l(a("wCAj"));a("+L6B");var d,c,p,u=l(a("2/Rp")),m=i(a("q1tI")),g=a("LLXN"),I=a("MuoO"),h=a("xpXo"),f=l(a("QDog")),C=(d=(0,I.connect)(e=>{var t=e.loading;return{batchDeleteLoading:t.effects["appControl/putBatchDelete"]}},null,null,{pure:!1}),d((p=class extends m.PureComponent{constructor(e){super(e),this.handleDelete=(()=>{this.setState({confirm:!0});var e=this.props,t=e.dispatch,a=e.batchDeleteApps,l=a.map(e=>{return e.service_id});t({type:"appControl/putBatchDelete",payload:{team_name:f.default.getCurrTeamName(),serviceIds:l.join(",")},callback:e=>{e&&this.setState({apps:e.list})}})}),this.reDelete=(e=>{(0,h.reDelete)({team_name:f.default.getCurrTeamName(),service_id:e}).then(t=>{if(t){var a=[];this.state.apps.map(t=>{t.service_id==e&&(t.status=200,t.msg=(0,g.formatMessage)({id:"notification.success.delete"})),a.push(t)}),this.setState({apps:a})}})});var t=this.props.batchDeleteApps;this.state={batchDeleteApps:t,apps:t.map(e=>{if(e)return{service_id:e.service_id,service_cname:e.service_cname,msg:"\u6b63\u5728\u5220\u9664",status:0}}),confirm:!1}}render(){var e=this.props,t=e.batchDeleteLoading,a=e.onCancel,l=this.state,i=l.confirm,d=l.apps;return m.default.createElement(s.default,{title:"\u786e\u8ba4\u6279\u91cf\u5220\u9664",visible:!0,width:600,onCancel:a,footer:m.default.createElement(u.default,{onClick:a},"\u5b8c\u6210")},i?m.default.createElement(o.default,{dataSource:d||[],columns:[{title:"\u7ec4\u4ef6\u540d\u79f0",dataIndex:"service_cname"},{title:"\u53cd\u9988\u4fe1\u606f",dataIndex:"msg",render:e=>{var t={success:(0,g.formatMessage)({id:"notification.success.delete"})};return m.default.createElement("span",null,t[e]||e)}},{title:"\u64cd\u4f5c",dataIndex:"action",render:(e,t)=>{return 412==t.status?m.default.createElement("a",{target:"_blank",onClick:()=>{this.reDelete(t.service_id)}},"\u786e\u8ba4\u5220\u9664"):409==t.status?"\u8bf7\u5148\u5173\u95ed\u7ec4\u4ef6":200==t.status?"\u5df2\u5220\u9664":void 0}}]}):m.default.createElement("div",{style:{textAlign:"center"}},m.default.createElement("p",null,d&&d.length&&void 0!=d[0]?"\u5373\u5c06\u5220\u9664\u4ee5\u4e0b\u7ec4\u4ef6":"\u8bf7\u5237\u65b0\u6570\u636e\u540e\u5220\u9664"),m.default.createElement(r.default,null,d.map(e=>{return void 0==e?null:m.default.createElement(n.default,{span:8,key:"col".concat(e.service_id),style:{overflow:"auto"}},m.default.createElement("p",{key:e.service_id},e.service_cname))})),d&&d.length&&void 0!==d[0]&&m.default.createElement(u.default,{type:"primary",loading:t,onClick:this.handleDelete},"\u786e\u5b9a\u6279\u91cf\u5220\u9664")))}},c=p))||c);t.default=C},oWzr:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjcwcHgiIGhlaWdodD0iNDA3cHgiIHZpZXdCb3g9IjAgMCAyNzAgNDA3IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1Mi41ICg2NzQ2OSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+R3JvdXA8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz4KICAgICAgICA8ZmlsdGVyIHg9Ii04MTEuOCUiIHk9Ii02MzQuMCUiIHdpZHRoPSIxNzIzLjclIiBoZWlnaHQ9IjEzNzIuMiUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0xIj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMjE1IiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSI1OS41IiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwICAgMCAwIDAgMCAwLjQ2NjY2NjY2NyAgIDAgMCAwIDAgMSAgMCAwIDAgMSAwIiB0eXBlPSJtYXRyaXgiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIiByZXN1bHQ9InNoYWRvd01hdHJpeE91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgICAgICA8ZmVNZXJnZT4KICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0ic2hhZG93TWF0cml4T3V0ZXIxIj48L2ZlTWVyZ2VOb2RlPgogICAgICAgICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPSJTb3VyY2VHcmFwaGljIj48L2ZlTWVyZ2VOb2RlPgogICAgICAgICAgICA8L2ZlTWVyZ2U+CiAgICAgICAgPC9maWx0ZXI+CiAgICAgICAgPHBhdGggZD0iTTQwLjcwOTM3NDgsMC45ODc1MzAyNzUgTDczLjcwOTM3NDgsMjIuMjYzODQ2MSBDNzUuMTM3MjgxMSwyMy4xODQ0Njk5IDc2LDI0Ljc2NzE4MTggNzYsMjYuNDY2MTQxNyBMNzYsNTkuODMyMDMxMiBMNzYsNzAuMDE1MjUxNCBDNzYsNzEuNzE0MjExMyA3NS4xMzcyODExLDczLjI5NjkyMzIgNzMuNzA5Mzc0OCw3NC4yMTc1NDcgTDQwLjcwOTM3NDgsOTUuNDkzODYyOCBDMzkuMDU5NzAwNCw5Ni41NTc0Njg3IDM2Ljk0MDI5OTYsOTYuNTU3NDY4NyAzNS4yOTA2MjUyLDk1LjQ5Mzg2MjggTDIuMjkwNjI1MjEsNzQuMjE3NTQ3IEMwLjg2MjcxODg3LDczLjI5NjkyMzIgOS44OTE5Nzg3NGUtMTUsNzEuNzE0MjExMyAxLjQyMTA4NTQ3ZS0xNCw3MC4wMTUyNTE0IEwtMS43NzYzNTY4NGUtMTUsMjYuNDY2MTQxNyBDLTMuNDkzMzk4OTRlLTE1LDI0Ljc2NzE4MTggMC44NjI3MTg4NywyMy4xODQ0Njk5IDIuMjkwNjI1MjEsMjIuMjYzODQ2MSBMMzUuMjkwNjI1MiwwLjk4NzUzMDI3NSBDMzYuOTQwMjk5NiwtMC4wNzYwNzU2MDE0IDM5LjA1OTcwMDQsLTAuMDc2MDc1NjAxNCA0MC43MDkzNzQ4LDAuOTg3NTMwMjc1IFoiIGlkPSJwYXRoLTIiPjwvcGF0aD4KICAgICAgICA8ZmlsdGVyIHg9Ii03LjklIiB5PSItNC4yJSIgd2lkdGg9IjExNS44JSIgaGVpZ2h0PSIxMTIuNSUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0zIj4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dTcHJlYWRPdXRlcjEiPjwvZmVNb3JwaG9sb2d5PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIyIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjIiIG9wZXJhdG9yPSJlcm9kZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49InNoYWRvd0lubmVyIiByZXN1bHQ9InNoYWRvd0lubmVyIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldE91dGVyMSIgaW4yPSJzaGFkb3dJbm5lciIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAuOTAzNjY3ODIxICAgMCAwIDAgMCAwLjkwMDU0MDc5MiAgIDAgMCAwIDAgMC45MDQ3MzUzMzIgIDAgMCAwIDEgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxmaWx0ZXIgeD0iLTkuMiUiIHk9Ii01LjIlIiB3aWR0aD0iMTE4LjQlIiBoZWlnaHQ9IjExNC42JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTQiPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIzIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93Qmx1cklubmVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMCIgaW49InNoYWRvd0JsdXJJbm5lcjEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0SW5uZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVDb21wb3NpdGUgaW49InNoYWRvd09mZnNldElubmVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9ImFyaXRobWV0aWMiIGsyPSItMSIgazM9IjEiIHJlc3VsdD0ic2hhZG93SW5uZXJJbm5lcjEiPjwvZmVDb21wb3NpdGU+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjkwMzY2NzgyMSAgIDAgMCAwIDAgMC45MDA1NDA3OTIgICAwIDAgMCAwIDAuOTA0NzM1MzMyICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgPC9maWx0ZXI+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAiIGZpbHRlcj0idXJsKCNmaWx0ZXItMSkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk3LjAwMDAwMCwgMi4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlBvbHlnb24iPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTMpIiB4bGluazpocmVmPSIjcGF0aC0yIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2UgZmlsbD0iYmxhY2siIGZpbGwtb3BhY2l0eT0iMSIgZmlsdGVyPSJ1cmwoI2ZpbHRlci00KSIgeGxpbms6aHJlZj0iI3BhdGgtMiI+PC91c2U+CiAgICAgICAgICAgICAgICA8dXNlIHN0cm9rZT0iIzAwNzcxMCIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjcGF0aC0yIj48L3VzZT4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsIiBmaWxsPSIjMDAwMDAwIiBjeD0iMzgiIGN5PSI0OCIgcj0iOCI+PC9jaXJjbGU+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},ogb6:function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var s=l(a("BMrR"));a("giR+");var r=l(a("fyUT"));a("7Kak");var n=l(a("9yH6"));a("5NDa");var o=l(a("5rEg")),d=l(a("jehZ"));a("jCWc");var c=l(a("kPKH"));a("OaEy");var p,u,m,g=l(a("2fM7")),I=a("MuoO"),h=i(a("q1tI")),f=l(a("gNmc")),C=g.default.Option,A=(p=(0,I.connect)(e=>{var t=e.user,a=e.loading;return{currUser:t.currentUser,addHttpStrategyLoading:a.effects["gateWay/addHttpStrategy"],editHttpStrategyLoading:a.effects["gateWay/editHttpStrategy"]}}),p((m=class extends h.PureComponent{constructor(e){super(e),this.onChangeSwitch=((e,t)=>{var a=this.props,l=a.upDateQuestions,i=a.data;i.map(a=>{a.variable===t.variable&&(a.default=e)}),l&&l(i)}),this.handleOk=(e=>{e.preventDefault();var t=this.props,a=t.onOk,l=t.form;l.validateFields((e,t)=>{!e&&a&&a(t)})}),this.handleIsNext=(e=>{var t=this.props.getFieldValue;if(e&&e.indexOf("=")>-1){var a=e.split("=")[0],l=a.replace(new RegExp("\\.","g"),"#-#"),i=t(l)||!1,s="".concat(a,"=").concat(i);return!(e.indexOf(s)<0)}return!0}),this.handleFormItem=(e=>{var t=[];return e.map((a,l)=>{var i=a.type,s=a.subquestions,r=a.default,n=a.group,o=a.show_subquestion_if,d=a.showSubquestionIf,p=a.show_if,u=a.showIf,m=s&&s.length>0,g=d||o,I=p||u||!1,C=this.handleIsNext(I),A=h.default.createElement(h.Fragment,null,C&&this.FormItemBox(a),m&&("boolean"!==i||"".concat(r)=="".concat(g))&&C&&s.map(e=>{var t=e.show_if||e.showIf||!1;return this.handleIsNext(t)&&this.FormItemBox(e)})),v=l<1?0:l-1;return l>0&&t.push(e[v].group),h.default.createElement(h.Fragment,null,t.includes(n)?A:h.default.createElement(h.Fragment,null,h.default.createElement(c.default,{span:24},h.default.createElement("div",{className:f.default.over_hr},h.default.createElement("span",null,n))),A))})}),this.FormItemBox=(e=>{var t=this.props,a=t.Form,l=t.getFieldDecorator,i=a.Item,s={labelCol:{xs:{span:24},sm:{span:24}},wrapperCol:{xs:{span:23},sm:{span:23}}},r=e.variable,n=e.required,o=void 0!==n&&n,p=e.default,u=e.description,m=e.label,g=e.type,I=e.min,C=void 0===I?"":I,A=this.handleBox(e,g,p),v=r.replace(new RegExp("\\.","g"),"#-#");return A?h.default.createElement(c.default,{span:12},h.default.createElement(i,(0,d.default)({},s,{label:m,className:f.default.antd_form}),l(v,{rules:[{required:o,message:"".concat(m,"\u5fc5\u987b\u8bbe\u7f6e")}],initialValue:p&&"".concat(p)||C})(A),h.default.createElement("div",{className:f.default.description},u))):null}),this.handleBox=((e,t,a)=>{return"string"===t?h.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165"}):"boolean"===t?h.default.createElement(n.default.Group,{defaultChecked:"".concat(a),onChange:t=>{this.onChangeSwitch(t.target.value,e)}},h.default.createElement(n.default,{value:"true"},"\u662f"),h.default.createElement(n.default,{value:"false"},"\u5426")):"int"===t?h.default.createElement(r.default,{style:{width:"100%"},min:e.min||1,max:e.max||255,placeholder:"\u8282\u70b9\u6570\u91cf"}):"enum"===t?h.default.createElement(g.default,{placeholder:"\u8bf7\u9009\u62e9"},e.options&&e.options.map(e=>{return h.default.createElement(C,{key:e,value:e},e)})):"password"===t?h.default.createElement(o.default,{autoComplete:"new-password",type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"}):null}),this.state={}}render(){var e=this.props.data;return h.default.createElement(h.Fragment,null,h.default.createElement(s.default,null,this.handleFormItem(e)))}},u=m))||u),v=A;t.default=v},ri62:function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV"));a("g9YV");var r=l(a("wCAj"));a("5NDa");var n=l(a("5rEg"));a("fOrg");var o=l(a("+KLJ"));a("+L6B");var d=l(a("2/Rp"));a("/xke");var c=l(a("TeRw"));a("OaEy");var p=l(a("2fM7"));a("y8nQ");var u,m,g,I,h=l(a("Vl3Y")),f=a("MuoO"),C=i(a("q1tI")),A=a("LLXN"),v=l(a("QDog")),M=h.default.Item,y=p.default.Option,N=(u=h.default.create(),m=(0,f.connect)(e=>{var t=e.loading;return{checkK8sLoading:t.effects["application/setCheckK8sServiceName"],governanceLoading:t.effects["application/setgovernancemode"]}}),u(g=m((I=class extends C.PureComponent{constructor(e){super(e),this.setK8sServiceNames=(e=>{var t=this.props,a=t.dispatch,l=t.appID,i=t.onCancel,s=this.state.ServiceNameList,r=[];s.map(t=>{var a=t.service_id,l=t.port_alias,i=t.service_cname,s=t.k8s_service_name,n=t.port,o="".concat(a,"/").concat(l),d="".concat(a,"/").concat(s);o&&d&&r.push({service_cname:i,service_id:a,port:n,port_alias:e[o],k8s_service_name:e[d]})}),a({type:"application/setCheckK8sServiceName",payload:{tenantName:v.default.getCurrTeamName(),group_id:l,arr:r},callback:e=>{e&&200===e.status_code&&(this.handleNotification(),i())}})}),this.handleSubmit=(e=>{e.preventDefault();var t=this.props.form,a=this.state.step;t.validateFields((e,t)=>{e||(a?this.setK8sServiceNames(t):this.handleGovernancemode(t))})}),this.handleGovernancemode=(e=>{var t=this.props,a=t.dispatch,l=t.appID,i=t.onCancel,s=t.onOk;a({type:"application/setgovernancemode",payload:{tenantName:v.default.getCurrTeamName(),group_id:l,governance_mode:e.governance_mode},callback:()=>{s(),"BUILD_IN_SERVICE_MESH"===e.governance_mode?(this.handleNotification(),i()):this.fetchServiceNameList()}})}),this.handleNotification=(()=>{c.default.success({message:(0,A.formatMessage)({id:"notification.hint.component.change"}),duration:"3"})}),this.fetchServiceNameList=(()=>{var e=this.props,t=e.dispatch,a=e.appID,l=e.onCancel;t({type:"application/fetchServiceNameList",payload:{tenantName:v.default.getCurrTeamName(),group_id:a},callback:e=>{e&&e.bean&&(e.list&&e.list.length>0?this.setState({step:!0,ServiceNameList:e.list}):(this.handleNotification(),l()))}})}),this.checkK8sServiceName=(e=>{var t=this.props,a=t.dispatch,l=t.appID;a({type:"application/checkK8sServiceName",payload:{tenantName:v.default.getCurrTeamName(),group_id:l,service_alias:e.service_alias,k8s_service_name:e.k8s_service_name},callback:e=>{e&&e.bean&&!e.bean.is_valid&&this.setK8sServiceNames()}})}),this.checkServiceName=((e,t,a)=>{var l=this.props,i=l.dispatch,s=l.appID,r=this.stata.ServiceNameList;try{i({type:"application/checkK8sServiceName",payload:{tenantName:v.default.getCurrTeamName(),group_id:s,service_alias:r[0].service_alias,k8s_service_name:r[0].k8s_service_name},callback:e=>{if(!e||!e.bean||e.bean.is_valid)throw new Error((0,A.formatMessage)({id:"placeholder.govern.is_valid"}));a()}})}catch(e){return void a(e)}a()}),this.rowKey=((e,t)=>t),this.handleOnCancel=(()=>{var e=this.props.onCancel;this.state.step&&this.handleNotification(),e()}),this.handleChange=(e=>{var t=this.props,a=t.dispatch,l=t.appID;a({type:"application/checkoutGovernanceModel",payload:{team_name:v.default.getCurrTeamName(),app_id:l,governance_mode:e},callback:e=>{e&&this.setState({btnConfig:!1})},handleError:e=>{e&&e.data&&11009===e.data.code&&(c.default.warning({message:(0,A.formatMessage)({id:"placeholder.govern.change"})}),this.setState({btnConfig:!0}))}})}),this.state={step:!1,ServiceNameList:[],btnConfig:!1}}render(){var e=[{key:"KUBERNETES_NATIVE_SERVICE",name:(0,A.formatMessage)({id:"global.fetchGovernanceMode.KUBERNETES_NATIVE_SERVICE"})},{key:"BUILD_IN_SERVICE_MESH",name:(0,A.formatMessage)({id:"global.fetchGovernanceMode.BUILD_IN_SERVICE_MESH"})},{key:"ISTIO_SERVICE_MESH",name:(0,A.formatMessage)({id:"global.fetchGovernanceMode.ISTIO_SERVICE_MESH"})}],t=this.props,a=t.loading,l=void 0!==a&&a,i=(t.onCancel,t.form),c=t.checkK8sLoading,u=t.governanceLoading,m=t.mode,g=this.state,I=g.step,f=g.ServiceNameList,v=g.btnConfig,N=i.getFieldDecorator,b=i.getFieldValue,S=b("governance_mode")||m||"KUBERNETES_NATIVE_SERVICE";return C.default.createElement(s.default,{title:(0,A.formatMessage)({id:"confirmModal.app.govern.title"}),visible:!0,confirmLoading:l||c||u,onOk:this.handleSubmit,onCancel:this.handleOnCancel,width:800,footer:[C.default.createElement(d.default,{onClick:this.handleOnCancel},(0,A.formatMessage)({id:"popover.cancel"})),C.default.createElement(d.default,{type:"primary",disabled:v,loading:l||c||u,onClick:this.handleSubmit},(0,A.formatMessage)({id:"popover.confirm"}))]},C.default.createElement(o.default,{style:{marginBottom:"20px"},message:(0,A.formatMessage)({id:"confirmModal.app.govern.alert.msg"}),type:"info",showIcon:!0}),C.default.createElement(h.default,{onSubmit:this.handleSubmit},I?C.default.createElement(r.default,{size:"middle",rowKey:this.rowKey,pagination:!1,dataSource:f||[],columns:[{title:(0,A.formatMessage)({id:"confirmModal.app.govern.label.name_port"}),dataIndex:"service_alias",width:200,render:(e,t)=>C.default.createElement("div",null,t.service_cname,"/",t.port)},{title:(0,A.formatMessage)({id:"confirmModal.app.govern.label.alias"}),dataIndex:"port_alias",width:200,render:(e,t)=>C.default.createElement(M,{style:{marginBottom:0}},N("".concat(t.service_id,"/").concat(t.port_alias),{initialValue:e||"",rules:[{required:!0,message:(0,A.formatMessage)({id:"placeholder.copy.not_null"})}]})(C.default.createElement(n.default,{size:"small"})))},{title:(0,A.formatMessage)({id:"confirmModal.app.govern.label.DNS"}),dataIndex:"k8s_service_name",width:200,render:(e,t)=>C.default.createElement(M,{style:{marginBottom:0}},N("".concat(t.service_id,"/").concat(t.k8s_service_name),{initialValue:e||"",rules:[{required:!0,message:(0,A.formatMessage)({id:"placeholder.copy.not_null"})},{max:63,message:(0,A.formatMessage)({id:"placeholder.max63"})},{pattern:/^[a-z]([-a-z0-9]*[a-z0-9])?$/,message:(0,A.formatMessage)({id:"placeholder.k8s_service_name.msg"})}]})(C.default.createElement(n.default,{size:"small"})))}]}):C.default.createElement("div",null,C.default.createElement(M,{labelCol:{xs:{span:14},sm:{span:8}},wrapperCol:{xs:{span:14,offset:0},sm:{span:8}},label:(0,A.formatMessage)({id:"confirmModal.app.govern.label.change"})},N("governance_mode",{initialValue:m||"KUBERNETES_NATIVE_SERVICE",rules:[{required:!0,message:(0,A.formatMessage)({id:"placeholder.copy.not_null"})}]})(C.default.createElement(p.default,{style:{width:"357px"},onChange:this.handleChange,getPopupContainer:e=>e.parentNode},e.map(e=>{return C.default.createElement(y,{key:e.key,value:e.key},e.name)})))),C.default.createElement("div",{style:{width:"468px",margin:"0 auto",border:"1px solid #ccc",padding:"10px",borderRadius:"8px"}},C.default.createElement("label",{htmlFor:"governance_mode",className:"ant-form-item-required",title:(0,A.formatMessage)({id:"confirmModal.app.govern.label.mode"})},(0,A.formatMessage)({id:"confirmModal.app.govern.label.mode"})),C.default.createElement("div",{style:{marginTop:"10px"}},"KUBERNETES_NATIVE_SERVICE"===S?(0,A.formatMessage)({id:"confirmModal.app.govern.label.service"}):"BUILD_IN_SERVICE_MESH"===S?(0,A.formatMessage)({id:"confirmModal.app.govern.label.serviceMesh"}):(0,A.formatMessage)({id:"confirmModal.app.govern.label.istio"}))))))}},g=I))||g)||g);t.default=N},t3BL:function(e,t,a){"use strict";(function(e){var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var s=l(a("kLXV"));a("Q9mQ");var r=l(a("diRs"));a("5Dmo");var n=l(a("3S7+"));a("IzEo");var o=l(a("bx4M"));a("Awhp");var d=l(a("KrTs"));a("Pwec");var c=l(a("CtXQ"));a("14J3");var p=l(a("BMrR"));a("fOrg");var u=l(a("+KLJ"));a("jCWc");var m=l(a("kPKH")),g=l(a("jehZ"));a("cWXX");var I=l(a("/ezw"));a("+L6B");var h=l(a("2/Rp"));a("/xke");var f=l(a("TeRw"));a("y8nQ");var C=l(a("Vl3Y"));a("OaEy");var A=l(a("2fM7"));a("FJo9");var v=l(a("L41K"));a("fu2T");var M=l(a("gK9i"));a("Znn+");var y,N,b,S,D=l(a("ZTPi")),w=l(a("qCJ4")),E=l(a("4SMx")),Z=l(a("ZNrE")),T=l(a("YABy")),j=l(a("ogb6")),G=l(a("gNmc")),k=a("RBnf"),P=a("MuoO"),x=a("7DNP"),_=l(a("wd/R")),z=i(a("q1tI")),L=a("LLXN"),R=l(a("IujW")),V=a("ArA+"),W=l(a("q76B")),B=l(a("ALo4")),O=l(a("YCtL")),X=a("xpXo"),Y=l(a("QDog")),J=l(a("ZgmS")),U=l(a("ruXZ")),H=l(a("VZuE")),Q=l(a("puIC")),F=D.default.TabPane,K=M.default.Panel,q=v.default.Step,$=A.default.Option,ee=C.default.Item,te=(y=(0,P.connect)(e=>{var t=e.user,a=e.application,l=e.teamControl,i=e.enterprise,s=e.loading,r=e.global;return{buildShapeLoading:s.effects["global/buildShape"],editGroupLoading:s.effects["application/editGroup"],deleteLoading:s.effects["application/delete"],currUser:t.currentUser,collapsed:r.collapsed,apps:a.apps,groupDetail:a.groupDetail||{},currentTeam:l.currentTeam,currentRegionName:l.currentRegionName,currentEnterprise:i.currentEnterprise}}),N=C.default.create(),y(b=N((S=class extends z.PureComponent{constructor(t){var a;super(t),a=this,this.onChangeSteps=(e=>{this.setState({currentSteps:e})}),this.closeTimer=(()=>{this.timer&&clearInterval(this.timer)}),this.loading=(()=>{this.fetchAppDetail(!0)}),this.handleError=(e=>{var t=this.state.componentTimer;if(!t)return null;e&&e.data&&e.data.msg_show&&f.default.warning({message:(0,L.formatMessage)({id:"notification.warn.error"}),description:e.data.msg_show})}),this.handleTimers=((e,t,a)=>{var l=this.state.componentTimer;if(!l)return null;this[e]=setTimeout(()=>{t()},a)}),this.fetchAppDetail=(e=>{var t=this.props.dispatch,a=this.fetchParameter(),l=a.team_name,i=a.region_name,s=a.group_id;t({type:"application/fetchGroupDetail",payload:{team_name:l,region_name:i,group_id:s},callback:t=>{t&&200===t.status_code&&this.setState({currApp:t.bean||{}},()=>{e&&this.fetchAppDetailState(e)})},handleError:a=>{var l=this.state.componentTimer;if(!l)return null;e&&this.fetchAppDetailState(e),a&&404===a.code&&t(x.routerRedux.push("".concat(this.fetchPrefixUrl(),"apps")))}})}),this.fetchAppDetailState=(e=>{var t=this.props,a=t.dispatch,l=t.form,i=this.props.match.params,s=i.teamName,r=i.appID,n=l.getFieldValue,o=n("templateFile"),d=this.state,c=d.appStateMap,p=d.currentSteps,u=d.isScrollToBottom;a({type:"application/fetchAppDetailState",payload:{team_name:s,group_id:r},callback:t=>{var a=t.list||{},l=a&&a.phase&&c[a.phase]||0;this.setState({resources:a,appStateLoading:!1,currentSteps:l>p?l:p},()=>{2===l&&u&&this.scrollToBottom(),l>=2?(e&&this.setState({versionInfoLoading:e}),this.getHelmApplication(!o||e)):this.handleAppInfoLoading(),l>=4&&(this.fetchHelmComponents(),this.fetchAppAccess())}),this.handleTimers("timer",()=>{this.fetchAppDetailState(),this.fetchAppDetail(),this.closeTimer()},5e3)},handleError:e=>{this.setState({appStateLoading:!1}),this.handleAppInfoLoading(),this.handleError(e),this.handleTimers("timer",()=>{this.fetchAppDetailState(),this.fetchAppDetail()},2e4)}})}),this.fetchHelmAppStoresVersions=(e=>{var t=this.props,a=t.dispatch,l=t.currentEnterprise,i=this.state.currApp;a({type:"application/fetchHelmAppStoresVersions",payload:{enterprise_id:l.enterprise_id,version:e,appStoreName:i.app_store_name,templateName:i.app_template_name},callback:e=>{e&&200===e.status_code&&this.setState({versionInfo:e,versionInfoLoading:!1,formData:e&&e.questions&&e.questions.length>0&&e.questions||[]},()=>{e&&e.values&&this.handleTemplateFile(Object.keys(e.values).reverse()[0])})},handleError:e=>{this.handleErrPrompt(e)}})}),this.handleFormReset=(()=>{var e=this.props.form;e.resetFields(),this.loadApps()}),this.handleSearch=(e=>{e.preventDefault(),this.loadApps()}),this.toDelete=(()=>{this.closeComponentTimer(),this.setState({toDelete:!0})}),this.cancelDelete=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a.setState({toDelete:!1}),e&&a.openComponentTimer()},this.closeComponentTimer=(()=>{this.setState({componentTimer:!1}),this.closeTimer()}),this.openComponentTimer=(()=>{this.setState({componentTimer:!0},()=>{this.fetchAppDetailState()})}),this.handleDelete=(()=>{var e=this.props.dispatch,t=this.fetchParameter(),a=t.team_name,l=t.group_id;e({type:"application/delete",payload:{team_name:a,group_id:l},callback:t=>{t&&200===t.status_code&&(f.default.success({message:(0,L.formatMessage)({id:"notification.success.delete"})}),this.closeComponentTimer(),this.cancelDelete(!1),e(x.routerRedux.push("".concat(this.fetchPrefixUrl(),"apps"))))}})}),this.newAddress=(e=>{var t=this.props.dispatch,a=this.fetchParameter(),l=a.team_name;t({type:"global/fetchGroups",payload:{team_name:l},callback:a=>{a&&a.length?e===a[0].group_id?this.newAddress(e):t(x.routerRedux.push("".concat(this.fetchPrefixUrl(),"apps/").concat(a[0].group_id))):t(x.routerRedux.push("".concat(this.fetchPrefixUrl(),"index")))}})}),this.toEdit=(()=>{this.setState({toEdit:!0})}),this.cancelEdit=(()=>{this.setState({toEdit:!1})}),this.handleToEditAppDirector=(()=>{this.setState({toEditAppDirector:!0})}),this.cancelEditAppDirector=(()=>{this.setState({toEditAppDirector:!1})}),this.handleEdit=(e=>{var t=this.props.dispatch,a=this.fetchParameter(),l=a.team_name,i=a.group_id;t({type:"application/editGroup",payload:{team_name:l,group_id:i,group_name:e.group_name,note:e.note,username:e.username},callback:e=>{e&&200===e.status_code&&f.default.success({message:(0,L.formatMessage)({id:"notification.success.change"})}),this.handleUpDataHeader(),this.cancelEdit(),this.cancelEditAppDirector(),this.fetchAppDetail(),t({type:"global/fetchGroups",payload:{team_name:l}})}})}),this.handleUpDataHeader=(()=>{var e=this.props.dispatch;e({type:"global/IsUpDataHeader",payload:{isUpData:!0}})}),this.handlePromptModalOpen=(()=>{var e=this.state,t=e.code,a=e.serviceIds,l=this.props.dispatch,i=this.fetchParameter(),s=i.team_name,r=i.group_id;"restart"===t?(0,X.batchOperation)({action:t,team_name:s,serviceIds:a&&a.join(",")}).then(e=>{e&&200===e.status_code&&(f.default.success({message:(0,L.formatMessage)({id:"notification.success.reboot_success"})}),this.handlePromptModalClose()),this.fetchAppDetailState(!1)}):l({type:"global/buildShape",payload:{tenantName:s,group_id:r,action:t},callback:e=>{e&&200===e.status_code&&(f.default.success({message:e.msg_show||(0,L.formatMessage)({id:"notification.success.build_success"}),duration:"3"}),this.handlePromptModalClose()),this.fetchAppDetailState(!1)}})}),this.handlePromptModalClose=(()=>{this.setState({promptModal:!1,code:""})}),this.handleJump=(e=>{var t=this.props,a=t.dispatch,l=t.appID;a(x.routerRedux.push("".concat(this.fetchPrefixUrl(),"apps/").concat(l,"/").concat(e)))}),this.handleJumpStore=(e=>{var t=this.props.dispatch,a=this.fetchParameter(),l=a.enterprise_id;t(x.routerRedux.push("/enterprise/".concat(l,"/shared/").concat(e)))}),this.beforeUpload=((e,t)=>{var a=e.name.split("."),l=a.length,i="yaml"===a[l-1]||"yml"===a[l-1];return!!i||(t&&f.default.warning({message:(0,L.formatMessage)({id:"notification.warn.yaml_file"})}),!1)}),this.encodeBase64Content=(t=>{var a=t&&e.from(t).toString("base64")||"";return a}),this.decodeBase64Content=(t=>{var a=t&&t.replace(/\s/g,"+")||"";return a&&(a=e.from(a,"base64").toString()),a}),this.handleSubmit=(e=>{var t=this.props.form,a=t.validateFields,l=t.setFields;a((t,a)=>{if(!t){this.setState({submitLoading:!0});var i=this.encodeBase64Content(a.yamls),s=!1,r={};if(a.overrides&&a.overrides.length>0?a.overrides.map(e=>{var t=e.item_key,a=e.item_value;t&&a&&""!==t&&""!==a?r[t]=a:s=!0}):r=void 0,s)return l({overrides:{errors:[new Error("\u8bf7\u586b\u5199\u914d\u7f6e\u9879")]}}),this.setState({submitLoading:!1}),null;Object.keys(a).forEach(e=>{if("templateFile"!==e&&"version"!==e&&"yamls"!==e&&"overrides"!==e){"[Object Object]"!==!Object.prototype.toString.call(r)&&void 0!==r||(r={});var t=e.replace(new RegExp("\\#-#","g"),"."),l=a[e];r[t]="".concat(l)}});var n=Object.assign({},a,{yamls:i,overrides:r});"Create"===e?this.handleInstallHelmApp(n):this.handleEditHelmApp(n)}})}),this.fetchHelmComponents=(()=>{var e=this.props.dispatch,t=this.fetchParameter(),a=t.team_name,l=t.group_id;e({type:"application/fetchHelmComponents",payload:{tenantName:a,groupId:l},callback:e=>{e&&200===e.status_code&&this.setState({components:e.list||[]})}})}),this.fetchAppAccess=(()=>{var e=this.props.dispatch,t=this.fetchParameter(),a=t.team_name,l=t.group_id;e({type:"application/fetchAppAccess",payload:{tenantName:a,groupId:l},callback:e=>{e&&200===e.status_code&&this.setState({linkList:e.list||[]})}})}),this.handleThird=(e=>{var t=this.props.dispatch;t(x.routerRedux.push("".concat(this.fetchPrefixUrl(),"components/").concat(e,"/thirdPartyServices")))}),this.handleComponent=(e=>{var t=this.props.dispatch;t(x.routerRedux.push("".concat(this.fetchPrefixUrl(),"components/").concat(e,"/overview")))}),this.handleInstallHelmApp=(e=>{var t=this.props.dispatch,a=this.fetchParameter(),l=a.team_name,i=a.group_id;t({type:"application/installHelmApp",payload:{team_name:l,group_id:i,overrides:e.overrides,values:e.yamls},callback:e=>{e&&200===e.status_code&&this.setState({currentSteps:3,submitLoading:!1})}})}),this.handleEditHelmApp=(e=>{var t=this.props.dispatch,a=this.state.currApp,l=this.fetchParameter(),i=l.team_name,s=l.group_id;t({type:"application/editHelmApp",payload:{team_name:i,group_id:s,overrides:e.overrides,values:e.yamls,username:a.username,app_name:a.group_name,app_note:a.note,version:e.version},callback:e=>{e&&200===e.status_code&&(this.fetchAppDetailState(),f.default.success({message:(0,L.formatMessage)({id:"notification.success.wait_patiently"})})),this.setState({submitLoading:!1})}})}),this.scrollToBottom=(()=>{var e=document.getElementById("messagesEndRef");e&&(e.scrollIntoView({behavior:"smooth"}),this.setState({isScrollToBottom:!1}))}),this.handleOperationBtn=(e=>{var t=this.state,a=t.submitLoading,l=t.errPrompt,i=t.noVersion,s=t.upDataVersion;return z.default.createElement("div",{style:{textAlign:"center"},id:"messagesEndRef"},z.default.createElement(h.default,{onClick:()=>{this.handleSubmit(e)},disabled:s||l||i,loading:a,type:"primary"},"Create"===e?(0,L.formatMessage)({id:"button.install"}):"\u66f4\u65b0"))}),this.getHelmApplication=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.props.dispatch,l=a.fetchParameter(),i=l.enterprise_id,s=l.team_name,r=l.group_id,n=a.state.currApp;t({type:"global/fetchHelmApplication",payload:{enterprise_id:i,app_name:n.app_template_name,team_name:s,group_id:r,appStoreName:n.app_store_name},callback:t=>{t&&200===t.status_code?a.setState({versions:t.versions||[]},()=>{a.handleAppVersion(n.version,e,!1)}):a.handleAppInfoLoading()},handleError:e=>{a.handleErrPrompt(e)}})},this.fetchParameter=(()=>{var e=this.props,t=e.currentEnterprise,a=e.appID;return{enterprise_id:t.enterprise_id,team_name:Y.default.getCurrTeamName(),region_name:Y.default.getCurrRegionName(),group_id:a}}),this.fetchPrefixUrl=(()=>{var e=this.fetchParameter(),t=e.team_name,a=e.region_name;return"/team/".concat(t,"/region/").concat(a,"/")}),this.handleErrPrompt=(e=>{if(e&&e.data&&e.data.code){var t=this.state.promptMap,a=t[e.data.code]||!1;8004===e.data.code?this.setState({noVersion:!0}):a&&this.setState({errPrompt:a,noVersion:!1})}this.handleAppInfoLoading(),this.handleUpDataVersionLoading()}),this.handleAppVersion=((e,t,a)=>{var l=this.state.versions,i={};l.map(t=>{t.version===e&&(i=t)}),i.version&&(this.setState({appInfo:i}),t&&(a&&this.setState({upDataVersion:"\u7248\u672c\u4fe1\u606f\u66f4\u65b0\u4e2d\u3001\u8bf7\u8010\u5fc3\u7b49\u5f85",noVersion:!1}),this.fetchHelmAppStoresVersions(e))),this.handleAppInfoLoading()}),this.handleTemplateFile=(e=>{var t=this.props.form,a=t.setFieldsValue,l=this.state.versionInfo,i=this.CodeMirrorRef;if(l.values){var s=l.values[e]&&this.decodeBase64Content(l.values[e])||"";if(a({yamls:s}),a({templateFile:e}),i){var r=i.getCodeMirror();r.setValue(s)}}this.handleUpDataVersionLoading()}),this.handleUpDataVersionLoading=(()=>{this.setState({upDataVersion:!1})}),this.handleAppInfoLoading=(()=>{this.setState({appInfoLoading:!1})}),this.handleConfing=(()=>{var e=this.props.form,t=e.getFieldDecorator,a=e.setFieldsValue,l=e.getFieldValue,i=this.state,s=i.versionInfo,r=i.versionInfoLoading,n=i.resources,o=i.currentSteps,d=i.versions,c=i.errPrompt,h=i.noVersion,f=i.upDataVersion,v=i.formData,y={labelCol:{xs:{span:24}},wrapperCol:{xs:{span:24}}},N=n.overrides||"";if(N&&N.length>0){var b=[];N.map(e=>{Object.keys(e).forEach(t=>{b.push({item_key:t,item_value:e[t]})})}),N=b}var S=s.values?Object.keys(s.values).reverse():[];return z.default.createElement(C.default,{labelAlign:"left"},z.default.createElement(M.default,{bordered:!1,defaultActiveKey:["2"]},z.default.createElement(K,{header:z.default.createElement("div",{className:Q.default.customPanelHeader},z.default.createElement("h6",null,(0,L.formatMessage)({id:"appOverview.helm.pages.appIntroduce"})),z.default.createElement("p",null,(0,L.formatMessage)({id:"appOverview.helm.pages.explain"}))),key:"1",className:Q.default.customPanel},z.default.createElement("div",{style:{padding:"15px 30px"}},z.default.createElement(I.default,{loading:r},z.default.createElement(R.default,{className:Q.default.customMD,source:s.readme&&this.decodeBase64Content(s.readme)||""})))),z.default.createElement(K,{header:z.default.createElement("div",{className:Q.default.customPanelHeader},z.default.createElement("h6",null,(0,L.formatMessage)({id:"appOverview.helm.pages.option"})),z.default.createElement("p",null,(0,L.formatMessage)({id:"appOverview.helm.pages.standard"}))),key:"2",className:Q.default.customPanel},z.default.createElement(I.default,{loading:r},z.default.createElement("div",{style:{padding:"15px 30px"}},v&&v.length>0&&z.default.createElement(j.default,{Form:C.default,data:v,upDateQuestions:e=>{this.setState({formData:e})},setFieldsValue:a,formItemLayout:y,getFieldValue:l,getFieldDecorator:t}),z.default.createElement("div",{className:G.default.over_hr},z.default.createElement("span",null,(0,L.formatMessage)({id:"appOverview.helm.pages.over_hr"}))),z.default.createElement(ee,(0,g.default)({},y,{label:(0,L.formatMessage)({id:"appOverview.helm.pages.overrides"})}),t("overrides",{initialValue:N||[],rules:[{required:!1,message:(0,L.formatMessage)({id:"placeholder.helm.overrides"})}]})(z.default.createElement(T.default,{disableds:f||c||h,isHalf:!0,editInfo:N||""}))),z.default.createElement(p.default,null,o>3&&z.default.createElement(m.default,{span:12},z.default.createElement(ee,(0,g.default)({},y,{label:(0,L.formatMessage)({id:"appOverview.helm.pages.version"})}),t("version",{initialValue:n.version||void 0,rules:[{required:!0,message:(0,L.formatMessage)({id:"placeholder.helm.version"})}]})(z.default.createElement(A.default,{placeholder:(0,L.formatMessage)({id:"placeholder.helm.version"}),style:{width:"95%"},disabled:f||c,onChange:e=>{this.handleAppVersion(e,!0,!0)}},d.map(e=>{var t=e.version;return z.default.createElement($,{key:t,value:t},n.version===t?(0,L.formatMessage)({id:"appOverview.helm.pages.current_version"},{version:t}):t)}))))),z.default.createElement(m.default,{span:12},(f||h)&&z.default.createElement(u.default,{style:{marginTop:"40px"},message:h?(0,L.formatMessage)({id:"appOverview.helm.pages.alert.message"}):f,type:"warning"}))),z.default.createElement(m.default,{span:24,style:{position:"relative",zIndex:1}},z.default.createElement(ee,(0,g.default)({},y,{label:(0,L.formatMessage)({id:"appOverview.helm.pages.yaml.templateFile"}),className:Q.default.clearStar}),t("templateFile",{initialValue:S.length>0&&S[0],rules:[{required:!0,message:(0,L.formatMessage)({id:"placeholder.templateFile"})}]})(z.default.createElement(A.default,{placeholder:(0,L.formatMessage)({id:"placeholder.templateFile"}),style:{width:"100%"},onChange:this.handleTemplateFile,disabled:f||c||h},S.map(e=>{return z.default.createElement($,{key:e,value:e},e)}))))),z.default.createElement(Z.default,{disabled:!0,data:"",bg:"151718",width:"100%",isUpload:!1,saveRef:e=>{this.CodeMirrorRef=e},marginTop:120,setFieldsValue:a,formItemLayout:y,Form:C.default,getFieldDecorator:t,beforeUpload:this.beforeUpload,mode:"yaml",name:"yamls",message:(0,L.formatMessage)({id:"appOverview.helm.pages.yaml.yamlMsg"})}),o>3&&this.handleOperationBtn("UpDate"))))),o<=2&&this.handleOperationBtn("Create"))}),this.state={linkList:[],versionInfoLoading:!0,versions:[],noVersion:!1,promptMap:{8000:"\u5546\u5e97\u5df2\u88ab\u5220\u9664\u3001\u65e0\u6cd5\u66f4\u65b0\u3002",8003:"\u5e94\u7528\u6a21\u677f\u4e0d\u5b58\u5728\u3001\u65e0\u6cd5\u66f4\u65b0\u3002"},formData:[],appStateLoading:!0,appInfoLoading:!0,appStates:[{key:"initailing",value:"\u521d\u59cb\u5316"},{key:"detecting",value:"\u68c0\u6d4b"},{key:"configuring",value:"\u914d\u7f6e"},{key:"installing",value:(0,L.formatMessage)({id:"button.install"})}],appType:{ChartReady:"\u62c9\u53d6\u5e94\u7528\u5305",PreInstalled:"\u6821\u9a8c\u5e94\u7528\u5305",ChartParsed:"\u89e3\u6790\u5e94\u7528\u5305"},appStateMap:{initailing:0,detecting:1,configuring:2,installing:3,installed:4},components:[],currentSteps:0,toDelete:!1,toEdit:!1,errPrompt:!1,toEditAppDirector:!1,serviceIds:[],promptModal:!1,code:"",currApp:{},componentTimer:!0,submitLoading:!1,resources:{},versionInfo:{},appInfo:{},isScrollToBottom:!0,upDataVersion:!1},this.CodeMirrorRef=""}componentDidMount(){this.loading()}componentWillUnmount(){this.closeTimer();var e=this.props.dispatch;e({type:"application/clearGroupDetail"})}render(){var e=this.props,t=e.appPermissions,a=t.isUpgrade,l=t.isEdit,i=t.isDelete,m=e.groupDetail,g=e.buildShapeLoading,I=e.editGroupLoading,h=e.deleteLoading,f=e.operationPermissions.isAccess,C=this.state,A=C.versions,M=C.currApp,y=C.resources,N=C.code,b=C.promptModal,S=C.toEdit,Z=C.toEditAppDirector,T=C.toDelete,j=C.currentSteps,G=C.appStates,P=C.appType,x=C.errPrompt,R=C.appStateLoading,X=C.components,Y=C.linkList,K=C.appInfo,$=C.appInfoLoading,ee={start:(0,L.formatMessage)({id:"appOverview.btn.start"}),restart:(0,L.formatMessage)({id:"appOverview.list.table.restart"}),stop:(0,L.formatMessage)({id:"appOverview.btn.stop"}),deploy:(0,L.formatMessage)({id:"appOverview.btn.build"})},te={deployed:"success","pending-install":"success","pending-upgrade":"success","pending-rollback":"success",superseded:"success",failed:"error"},ae=z.default.createElement("div",{className:Q.default.pageHeaderContent},z.default.createElement(o.default,{style:{padding:0},loading:R||$,className:Q.default.contentl},z.default.createElement("div",null,z.default.createElement("div",{className:Q.default.conBoxt,style:{justifyContent:"end",alignItems:"end",marginBottom:"42px"}},z.default.createElement("img",{style:{width:"60px",marginRight:"10px"},alt:"",src:K.icon||"https://gw.alipayobjects.com/zos/rmsportal/MjEImQtenlyueSmVEfUD.svg"}),z.default.createElement("div",{style:{width:"70%"}},z.default.createElement("div",{className:Q.default.contentTitle,style:{width:"100%"}},z.default.createElement("span",null,M.group_name||"-"),l&&z.default.createElement(c.default,{style:{cursor:"pointer",marginLeft:"5px"},onClick:this.toEdit,type:"edit"})),z.default.createElement("div",{title:K.description||M.note,className:Q.default.contentNote},K.description||M.note)),z.default.createElement("div",{className:Q.default.helmState},y.status&&z.default.createElement(d.default,{className:Q.default.states,status:te[y.status]||"default",text:H.default.getHelmStatus&&H.default.getHelmStatus([y.status]||!1)}),i&&z.default.createElement("a",{className:Q.default.operationState,onClick:this.toDelete},(0,L.formatMessage)({id:"appOverview.list.table.delete"})),Y.length>0&&z.default.createElement(O.default,{type:"link",linkList:Y}))),z.default.createElement("div",{className:Q.default.connect_Bot},z.default.createElement("div",{className:Q.default.connect_Box,style:{width:"100%",marginRight:"0"}},z.default.createElement("div",{className:Q.default.connect_Boxs},z.default.createElement("div",null,(0,L.formatMessage)({id:"appOverview.memory"})),z.default.createElement("div",null,y.memory?"".concat(J.default.unit(y.memory||0,"MB")):(0,L.formatMessage)({id:"appOverview.no_limit"}))),z.default.createElement("div",{className:Q.default.connect_Boxs},z.default.createElement("div",null,(0,L.formatMessage)({id:"appOverview.cpu"})),z.default.createElement("div",null,y.cpu?"".concat(y.cpu/1e3,"Core"):(0,L.formatMessage)({id:"appOverview.no_limit"}))),z.default.createElement("div",{className:Q.default.connect_Boxs},z.default.createElement("div",null,(0,L.formatMessage)({id:"appOverview.serviceNum"})),z.default.createElement("div",null,X&&X.length||0)))))),z.default.createElement(o.default,{style:{padding:0,marginRight:0},loading:R,className:Q.default.contentl},z.default.createElement("div",{className:Q.default.contentr},z.default.createElement("div",{className:Q.default.conrHeader},z.default.createElement("div",null,z.default.createElement("span",null,(0,L.formatMessage)({id:"appOverview.createTime"})),z.default.createElement("span",null,M.create_time?(0,_.default)(M.create_time).locale("zh-cn").format("YYYY-MM-DD HH:mm:ss"):"-")),z.default.createElement("div",null,z.default.createElement("span",null,(0,L.formatMessage)({id:"appOverview.updateTime"})),z.default.createElement("span",null,M.update_time?(0,_.default)(M.update_time).locale("zh-cn").format("YYYY-MM-DD HH:mm:ss"):"-"))),z.default.createElement("div",{className:Q.default.conrHeader},z.default.createElement("div",null,z.default.createElement("span",null,(0,L.formatMessage)({id:"appOverview.principal"})),z.default.createElement("span",null,M.principal?z.default.createElement(n.default,{placement:"top",title:z.default.createElement("div",null,z.default.createElement("div",null,(0,L.formatMessage)({id:"appOverview.principal.username"}),M.username),z.default.createElement("div",null,(0,L.formatMessage)({id:"appOverview.principal.principal"}),M.principal),z.default.createElement("div",null,(0,L.formatMessage)({id:"appOverview.principal.email"}),M.email))},z.default.createElement("span",{style:{color:"rgba(0, 0, 0, 0.85)"}},M.principal)):"-",l&&z.default.createElement(c.default,{style:{cursor:"pointer",marginLeft:"5px"},onClick:this.handleToEditAppDirector,type:"edit"}))),y.version&&z.default.createElement("div",null,z.default.createElement("span",null,(0,L.formatMessage)({id:"appOverview.versions"})),z.default.createElement("span",null,y.version))),z.default.createElement("div",{className:Q.default.conrBot},z.default.createElement("div",{className:Q.default.conrBox,style:{width:"33.3%"}},z.default.createElement("div",null,(0,L.formatMessage)({id:"appOverview.gateway"})),z.default.createElement("div",{onClick:()=>{f&&this.handleJump("gateway")}},z.default.createElement("a",null,M.ingress_num||0))),z.default.createElement("div",{className:Q.default.conrBox,style:{width:"33.3%"}},z.default.createElement("div",null,(0,L.formatMessage)({id:"appOverview.upgrade"})),z.default.createElement("div",{onClick:()=>{a&&this.handleJump("upgrade")}},z.default.createElement("a",null,A&&A.length>0&&A.length-1||0))),z.default.createElement("div",{className:Q.default.conrBox,style:{width:"33.3%"}},z.default.createElement("div",null,(0,L.formatMessage)({id:"appOverview.shop"})),z.default.createElement("div",{onClick:()=>{!x&&M.app_store_name&&this.handleJumpStore(M.app_store_name)}},z.default.createElement("a",{style:{color:x?"rgba(0, 0, 0, 0.45)":"#4d73b1"}},M.app_store_name||(0,L.formatMessage)({id:"appOverview.shopDelete"})))))))),le=this.fetchParameter(),ie=le.team_name,se=le.region_name,re=le.group_id;return z.default.createElement(z.Fragment,null,z.default.createElement(p.default,null,ae),x&&z.default.createElement(u.default,{message:x,type:"warning",style:{marginBottom:"20px"}}),j>3&&z.default.createElement(o.default,{type:"inner",loading:R,title:(0,L.formatMessage)({id:"appOverview.helm.title"}),bodyStyle:{padding:"0",background:"#F0F2F5"}},z.default.createElement("div",{style:{background:"#fff"}},X&&X.length>0?z.default.createElement(D.default,{style:{padding:"0 24px 24px"},defaultActiveKey:X[0].service_id},X.map(e=>{if(e.service){var t=e.service_alias,a=e.service_region,l=e.service,i=l.service_name,s=l.pods,n=l.oldPods,o=e.service_id,d=z.default.createElement(V.Link,{to:"/team/".concat(ie,"/region/").concat(a,"/components/").concat(t,"/thirdPartyServices")},(0,L.formatMessage)({id:"appOverview.helm.componentDetail"}));return z.default.createElement(F,{tab:z.default.createElement(r.default,{content:d},i),key:o},z.default.createElement(U.default,{isHelm:!0,key:o,runLoading:!1,new_pods:s,old_pods:n,appAlias:re}))}})):z.default.createElement("div",{style:{padding:"24px"}},(0,L.formatMessage)({id:"appOverview.helm.pages.desc.service"})))),j>3&&!x&&z.default.createElement("div",{className:Q.default.customCollapseBox},this.handleConfing()),j<4&&z.default.createElement(o.default,{style:{marginTop:16},loading:R},j<4&&z.default.createElement(v.default,{type:"navigation",current:j,className:"site-navigation-steps"},G.map((e,t)=>{var a=e.value,l=e.key;return z.default.createElement(q,{title:a,icon:"configuring"!==l&&t===j&&z.default.createElement(k.LoadingOutlined,null)})})),(j<1||3===j)&&z.default.createElement("div",{className:Q.default.process},z.default.createElement(B.default,{type:"ing",title:j<1?(0,L.formatMessage)({id:"appOverview.helm.pages.result.init"}):(0,L.formatMessage)({id:"appOverview.helm.pages.result.install"}),description:(0,L.formatMessage)({id:"appOverview.helm.pages.result.loading"}),style:{marginTop:48,marginBottom:16}})),j<2&&y.conditions&&y.conditions.length>0&&z.default.createElement("div",{className:Q.default.process},z.default.createElement(v.default,{direction:"vertical",style:{paddingLeft:"20%"}},y.conditions.map(e=>{var t=e.status,a=e.message,l=e.type;if(P[l])return z.default.createElement(q,{title:P[l],status:t?"finish":a?"error":"wait",description:z.default.createElement("div",{style:{color:"#ff4d4f"}},a)})}))),2===j&&!x&&z.default.createElement("div",{className:Q.default.customCollapse},this.handleConfing())),T&&z.default.createElement(W.default,{title:(0,L.formatMessage)({id:"confirmModal.app.title.delete"}),desc:(0,L.formatMessage)({id:"confirmModal.app.delete.desc"}),subDesc:(0,L.formatMessage)({id:"confirmModal.delete.strategy.subDesc"}),loading:h,onOk:this.handleDelete,onCancel:this.cancelDelete}),S&&z.default.createElement(w.default,{isNoEditName:!0,isAddGroup:!1,group_name:m.group_name,note:m.note,loading:I,title:(0,L.formatMessage)({id:"confirmModal.app.title.edit"}),onCancel:this.cancelEdit,onOk:this.handleEdit}),Z&&z.default.createElement(E.default,{teamName:ie,regionName:se,group_name:m.group_name,note:m.note,loading:I,principal:M.username,onCancel:this.cancelEditAppDirector,onOk:this.handleEdit}),b&&z.default.createElement(s.default,{title:(0,L.formatMessage)({id:"confirmModal.friendly_reminder.title"}),confirmLoading:g,visible:b,onOk:this.handlePromptModalOpen,onCancel:this.handlePromptModalClose},z.default.createElement("p",null,(0,L.formatMessage)({id:"confirmModal.friendly_reminder.pages.desc"},{codeObj:ee[N]}))))}},b=S))||b)||b);t.default=te}).call(this,a("tjlA").Buffer)},wNA6:function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Pwec");var s=l(a("CtXQ")),r=l(a("jehZ"));a("+L6B");var n=l(a("2/Rp"));a("/xke");var o=l(a("TeRw"));a("y8nQ");var d=l(a("Vl3Y"));a("DZo9");var c=l(a("8z0m"));a("OaEy");var p,u,m,g,I=l(a("2fM7")),h=a("MuoO"),f=i(a("q1tI")),C=a("LLXN"),A=l(a("qCJ4")),v=l(a("QDog")),M=(l(a("F5Il")),I.default.Option),y=c.default.Dragger,N={labelCol:{span:5},wrapperCol:{span:19}},b=(p=(0,h.connect)(e=>{var t=e.global,a=e.loading;return{groups:t.groups,createAppByDockerrunLoading:a.effects["createApp/createAppByDockerrun"]}},null,null,{withRef:!0}),u=d.default.create(),p(m=u((g=class extends f.PureComponent{constructor(e){super(e),this.onAddGroup=(()=>{this.setState({addGroup:!0})}),this.cancelAddGroup=(()=>{this.setState({addGroup:!1})}),this.handleAddGroup=(e=>{var t=this.props.form.setFieldsValue;t({group_id:e}),this.cancelAddGroup()}),this.handleJarWarUpload=(()=>{var e=this.props.dispatch,t=v.default.getCurrTeamName(),a=v.default.getCurrRegionName();e({type:"createApp/createJarWarServices",payload:{region:a,team_name:t,component_id:""},callback:e=>{e&&200===e.status_code&&this.setState({record:e.bean,event_id:e.bean.event_id,region_name:e.bean&&e.bean.region,team_name:e.bean&&e.bean.team_name},()=>{""!==e.bean.region&&(this.loop=!0,this.handleJarWarUploadStatus())})}})}),this.handleJarWarUploadRecord=(e=>{var t=this.props.dispatch;t({type:"createApp/createJarWarUploadRecord",payload:{region:v.default.getCurrRegionName(),team_name:v.default.getCurrTeamName(),component_id:"",file_type:e},callback:e=>{e.bean&&e.bean.source_dir&&e.bean.source_dir.length>0?this.setState({existFileList:e.bean.source_dir,event_id:e.bean.event_id}):this.handleJarWarUpload()},handleError:()=>{}})}),this.handleJarWarUploadStatus=(()=>{var e=this.props.dispatch,t=this.state.event_id;e({type:"createApp/createJarWarUploadStatus",payload:{region:v.default.getCurrRegionName(),team_name:v.default.getCurrTeamName(),event_id:t},callback:e=>{e&&e.bean.package_name.length>0&&(this.setState({existFileList:e.bean.package_name}),o.default.success({message:(0,C.formatMessage)({id:"notification.success.upload_file"})}),this.loop=!1),this.loop&&setTimeout(()=>{this.handleJarWarUploadStatus()},3e3)},handleError:()=>{}})}),this.handleJarWarUploadDelete=(()=>{var e=this.state.event_id,t=this.props.dispatch;t({type:"createApp/deleteJarWarUploadStatus",payload:{team_name:v.default.getCurrTeamName(),event_id:e},callback:e=>{"ok"==e.bean.res&&(this.setState({existFileList:[]}),o.default.success({message:(0,C.formatMessage)({id:"notification.success.delete_file"})}),this.handleJarWarUpload())}})}),this.onChangeUpload=(e=>{var t=e.fileList;t=t.filter(e=>{return!e.response||"success"===e.response.msg}),e&&e.event&&e.event.percent&&this.setState({percents:e.event.percent});var a=e.file.status;"done"===a&&this.setState({percents:!1}),this.setState({fileList:t})}),this.onRemove=(()=>{this.setState({fileList:[]})}),this.handleSubmit=(e=>{e.preventDefault();var t=this.props,a=t.form,l=t.onSubmit,i=this.state.event_id;a.validateFields((e,t)=>{!e&&l&&l(t,i)})}),this.handleValiateNameSpace=((e,t,a)=>{if(!t)return a(new Error((0,C.formatMessage)({id:"otherApp.UploadYaml.input_en_name"})));if(t&&t.length<=32){var l=/^[a-z]([-a-z0-9]*[a-z0-9])?$/;if(!l.test(t))return a(new Error((0,C.formatMessage)({id:"otherApp.UploadYaml.only"})));a()}return t.length>32?a(new Error((0,C.formatMessage)({id:"otherApp.UploadYaml.max"}))):void 0}),this.state={showUsernameAndPass:!1,addGroup:!1,fileList:[],isShowCom:!0,record:{},event_id:"",region_name:"",team_name:"",percents:!1,existFileList:[]}}componentWillMount(){this.loop=!1}componentDidMount(){this.handleJarWarUploadRecord("yaml")}componentWillUnmount(){this.loop=!1}render(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.groups,l=t.createAppByDockerrunLoading,i=t.handleType,o=(t.ButtonGroupState,t.groupId),c=(t.showSubmitBtn,t.showCreateGroup),p=void 0===c||c,u=this.state,m=u.fileList,g=(u.defaultRadio,u.isShowCom,u.addGroup,u.record),h=(u.region_name,u.existFileList),v=this.props.data||{},b=(this.props.disableds,i&&"Service"===i);return f.default.createElement(f.Fragment,null,f.default.createElement(d.default,{onSubmit:this.handleSubmit,layout:"horizontal",hideRequiredMark:!0},f.default.createElement(d.default.Item,(0,r.default)({},N,{label:(0,C.formatMessage)({id:"otherApp.UploadYaml.name"})}),e("group_id",{initialValue:b?Number(o):v.group_id,rules:[{required:!0,message:(0,C.formatMessage)({id:"otherApp.UploadYaml.app"})}]})(f.default.createElement(I.default,{getPopupContainer:e=>e.parentNode,placeholder:(0,C.formatMessage)({id:"otherApp.UploadYaml.app"}),style:{display:"inline-block",width:b?"":292,marginRight:15},disabled:!!b},(a||[]).map(e=>f.default.createElement(M,{value:e.group_id},e.group_name)))),b?null:p?f.default.createElement(n.default,{onClick:this.onAddGroup},(0,C.formatMessage)({id:"popover.newApp.title"})):null),f.default.createElement(d.default.Item,(0,r.default)({label:(0,C.formatMessage)({id:"otherApp.UploadYaml.up"}),extra:(0,C.formatMessage)({id:"otherApp.UploadYaml.yaml"})},N),e("packageTarFile",{rules:[{required:!1,message:(0,C.formatMessage)({id:"otherApp.UploadYaml.placese_up"})}]})(f.default.createElement(y,{fileList:m,accept:".yaml,.yml",name:"packageTarFile",onChange:this.onChangeUpload,onRemove:this.onRemove,action:g.upload_url,multiple:!0},f.default.createElement("p",{className:"ant-upload-drag-icon"},f.default.createElement(s.default,{type:"inbox"}))))),f.default.createElement(d.default.Item,N,h.length>0&&h.map(e=>{return f.default.createElement("div",{style:{marginLeft:"100px"}},f.default.createElement(s.default,{style:{marginRight:"6px"},type:"inbox"}),e,f.default.createElement(s.default,{onClick:this.handleJarWarUploadDelete,style:{marginLeft:"12px",color:"red",cursor:"pointer"},type:"delete"}))})),f.default.createElement(d.default.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:N.wrapperCol.span,offset:N.labelCol.span}},label:""},f.default.createElement(n.default,{onClick:this.handleSubmit,type:"primary",loading:l},(0,C.formatMessage)({id:"otherApp.UploadYaml.creat"})))),this.state.addGroup&&f.default.createElement(A.default,{onCancel:this.cancelAddGroup,onOk:this.handleAddGroup}))}},m=g))||m)||m);t.default=b},"yCR+":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODRweCIgaGVpZ2h0PSIxMDVweCIgdmlld0JveD0iMCAwIDg0IDEwNSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNDkuMyAoNTExNjcpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPkdyb3VwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPHBhdGggZD0iTTQwLjcwOTM3NDgsMC45ODc1MzAyNzUgTDczLjcwOTM3NDgsMjIuMjYzODQ2MSBDNzUuMTM3MjgxMSwyMy4xODQ0Njk5IDc2LDI0Ljc2NzE4MTggNzYsMjYuNDY2MTQxNyBMNzYsNzAuMDE1MjUxNCBDNzYsNzEuNzE0MjExMyA3NS4xMzcyODExLDczLjI5NjkyMzIgNzMuNzA5Mzc0OCw3NC4yMTc1NDcgTDQwLjcwOTM3NDgsOTUuNDkzODYyOCBDMzkuMDU5NzAwNCw5Ni41NTc0Njg3IDM2Ljk0MDI5OTYsOTYuNTU3NDY4NyAzNS4yOTA2MjUyLDk1LjQ5Mzg2MjggTDIuMjkwNjI1MjEsNzQuMjE3NTQ3IEMwLjg2MjcxODg3LDczLjI5NjkyMzIgMy42NDE1MzE1MmUtMTQsNzEuNzE0MjExMyAzLjE5NzQ0MjMxZS0xNCw3MC4wMTUyNTE0IEw1LjMyOTA3MDUyZS0xNSwyNi40NjYxNDE3IEM1LjMyOTA3MDUyZS0xNSwyNC43NjcxODE4IDAuODYyNzE4ODcsMjMuMTg0NDY5OSAyLjI5MDYyNTIxLDIyLjI2Mzg0NjEgTDM1LjI5MDYyNTIsMC45ODc1MzAyNzUgQzM2Ljk0MDI5OTYsLTAuMDc2MDc1NjAxNCAzOS4wNTk3MDA0LC0wLjA3NjA3NTYwMTQgNDAuNzA5Mzc0OCwwLjk4NzUzMDI3NSBaIiBpZD0icGF0aC0xIj48L3BhdGg+CiAgICAgICAgPGZpbHRlciB4PSItNy45JSIgeT0iLTQuMSUiIHdpZHRoPSIxMTUuOCUiIGhlaWdodD0iMTEyLjQlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItMiI+CiAgICAgICAgICAgIDxmZU1vcnBob2xvZ3kgcmFkaXVzPSIyIiBvcGVyYXRvcj0iZGlsYXRlIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93U3ByZWFkT3V0ZXIxIj48L2ZlTW9ycGhvbG9neT4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMiIgaW49InNoYWRvd1NwcmVhZE91dGVyMSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVPZmZzZXQ+CiAgICAgICAgICAgIDxmZU1vcnBob2xvZ3kgcmFkaXVzPSIyIiBvcGVyYXRvcj0iZXJvZGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dJbm5lciI+PC9mZU1vcnBob2xvZ3k+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9IjIiIGluPSJzaGFkb3dJbm5lciIgcmVzdWx0PSJzaGFkb3dJbm5lciI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlQ29tcG9zaXRlIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIGluMj0ic2hhZG93SW5uZXIiIG9wZXJhdG9yPSJvdXQiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIj48L2ZlQ29tcG9zaXRlPgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIxIiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjkwMzY2NzgyMSAgIDAgMCAwIDAgMC45MDA1NDA3OTIgICAwIDAgMCAwIDAuOTA0NzM1MzMyICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVDb2xvck1hdHJpeD4KICAgICAgICA8L2ZpbHRlcj4KICAgICAgICA8ZmlsdGVyIHg9Ii05LjIlIiB5PSItNS4yJSIgd2lkdGg9IjExOC40JSIgaGVpZ2h0PSIxMTQuNSUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0zIj4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMyIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd0JsdXJJbm5lcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9IjAiIGluPSJzaGFkb3dCbHVySW5uZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldElubmVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlQ29tcG9zaXRlIGluPSJzaGFkb3dPZmZzZXRJbm5lcjEiIGluMj0iU291cmNlQWxwaGEiIG9wZXJhdG9yPSJhcml0aG1ldGljIiBrMj0iLTEiIGszPSIxIiByZXN1bHQ9InNoYWRvd0lubmVySW5uZXIxIj48L2ZlQ29tcG9zaXRlPgogICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMC45MDM2Njc4MjEgICAwIDAgMCAwIDAuOTAwNTQwNzkyICAgMCAwIDAgMCAwLjkwNDczNTMzMiAgMCAwIDAgMSAwIiB0eXBlPSJtYXRyaXgiIGluPSJzaGFkb3dJbm5lcklubmVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgPC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Ikdyb3VwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0LjAwMDAwMCwgMi4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlBvbHlnb24iPgogICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTIpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2UgZmlsbD0iYmxhY2siIGZpbGwtb3BhY2l0eT0iMSIgZmlsdGVyPSJ1cmwoI2ZpbHRlci0zKSIgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgICAgICA8dXNlIHN0cm9rZT0iIzAyRDc3NyIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsIiBmaWxsPSIjMDAwMDAwIiBjeD0iMzgiIGN5PSI0OCIgcj0iOCI+PC9jaXJjbGU+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},zNpR:function(e,t,a){"use strict";var l=a("g09b"),i=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var s=l(a("/wGt"));a("+L6B");var r=l(a("2/Rp"));a("jCWc");var n=l(a("kPKH"));a("14J3");var o,d,c,p=l(a("BMrR")),u=a("MuoO"),m=i(a("q1tI")),g=a("LLXN"),I=l(a("vOCT")),h=l(a("2Hi/")),f=l(a("QDog")),C=l(a("oqMN")),A=l(a("puIC")),v=(o=(0,u.connect)(e=>{var t=e.user,a=e.application,l=e.global;return{currUser:t.currentUser,apps:a.apps,groupDetail:a.groupDetail||{},groups:l.groups||[],rainbondInfo:l.rainbondInfo}}),o((c=class extends m.PureComponent{constructor(e){super(e),this.cancelDelete=(()=>{this.setState({toDelete:!1})}),this.toAdd=(()=>{this.setState({toAdd:!0})}),this.cancelAdd=(()=>{this.setState({toAdd:!1})}),this.toAddService=(()=>{this.setState({toAddService:!0}),this.props.content(this.state.toAddService)}),this.cancelAddService=(()=>{this.setState({toAddService:!1,canceThirdParty:!this.state.canceThirdParty},()=>{this.setState({ServiceComponentTwoPage:"outerCustom",ServiceComponentOnePage:!1,moreState:!0,ButtonGroup:!1,ButtonGroupState:!0,ServiceComponentThreePage:!1})})}),this.handleServiceComponent=((e,t,a,l,i)=>{e=e||!1,t=t||null,a=a||null,i=i||null,this.setState({ServiceComponentOnePage:e,ServiceComponentTwoPage:t,ServiceComponentThreePage:a,[l]:i}),!1!==e&&null!==t&&null!==a||this.setState({ButtonGroup:null,ButtonGroupState:!0}),e&&this.setState({ServiceComponentTwoPage:"outerCustom",ServiceComponentOnePage:!1}),t&&this.setState({BackType:t}),"market"!==t&&this.setState({moreState:!0})}),this.handleBackEvents=(()=>{var e=this.state,t=e.ServiceComponentTwoPage,a=e.ServiceComponentThreePage,l=e.BackType;this.cancelAddService(),this.props.content(this.state.toAddService),a&&this.setState({ServiceComponentThreePage:null,ServiceComponentTwoPage:l,ButtonGroup:null,ButtonGroupState:!0}),"market"==t&&this.setState({moreState:!0})}),this.handleServiceBotton=((e,t,a)=>{this.setState({ButtonGroup:e,ButtonGroupState:t,errState:a})}),this.refreshCurrent=(()=>{this.setState({CustomButton:!1,toAddService:!1,ServiceComponentOnePage:!0,ServiceComponentTwoPage:"outerCustom",ServiceComponentThreePage:null,ServiceGetData:null,ButtonGroup:!1,ButtonGroupState:!0,handleType:null,moreState:!0})}),this.state={CustomButton:!1,toAddService:!1,canceThirdParty:!0,ServiceComponentOnePage:!1,ServiceComponentTwoPage:"outerCustom",ServiceComponentThreePage:null,ServiceGetData:null,ButtonGroup:!1,ButtonGroupState:!0,handleType:null,moreState:!0,BackType:null,errState:!0}}render(){var e=this.props,t=(e.rainbondInfo,e.flagThirdParty,this.state),a=t.ButtonGroup,l=t.moreState,i=(t.ServiceComponentOnePage,t.ServiceComponentTwoPage),o=t.ServiceComponentThreePage,d=t.ServiceGetData,c=t.ButtonGroupState,u=(t.handleType,t.canceThirdParty,f.default.fetchSvg("third_party"));return m.default.createElement("div",null,m.default.createElement("div",{className:A.default.ServiceBox},m.default.createElement(p.default,null,m.default.createElement("p",{className:A.default.ServiceTitle},(0,g.formatMessage)({id:"menu.team.create.third"}))),m.default.createElement(p.default,{style:{marginBottom:"30px"}},m.default.createElement(n.default,{span:8,className:A.default.ServiceDiv,onClick:this.toAddService},u,m.default.createElement("p",{className:A.default.ServiceSmallTitle},(0,g.formatMessage)({id:"teamOther.AddThirdParty.Third"}))))),m.default.createElement(s.default,{title:(0,g.formatMessage)({id:"teamOther.AddThirdParty.add"}),placement:"right",onClose:this.cancelAddService,visible:this.state.toAddService,toAddThirdParty:this.state.toAddService,maskClosable:!1,width:550},"check"===o&&d&&m.default.createElement(I.default,{ServiceGetData:d,handleType:"Service",ButtonGroupState:c,refreshCurrent:()=>{this.refreshCurrent()},ErrState:this.state.errState,handleServiceBotton:(e,t,a)=>{this.handleServiceBotton(e,t,a)},handleServiceDataState:(e,t,a,l)=>{this.handleServiceComponent(e,t,a,"ServiceGetData",l),this.props.onload&&this.props.onload()}}),"market"===i&&m.default.createElement(h.default,{groupId:this.props.groupId,refreshCurrent:()=>{this.refreshCurrent()},handleType:"Service",moreState:l,ButtonGroupState:c,ErrState:this.state.errState,handleServiceBotton:(e,t)=>{this.handleServiceBotton(e,t)},handleServiceGetData:e=>{this.handleServiceComponent(!1,null,"check","ServiceGetData",e)},handleServiceComponent:()=>{this.handleServiceComponent(!1,"market",null)}}),"outerCustom"===i&&m.default.createElement(C.default,{groupId:this.props.groupId,handleType:"Service",dynamicType:i,ButtonGroupState:c,ErrState:this.state.errState,handleServiceBotton:(e,t)=>{this.handleServiceBotton(e,t)},handleServiceGetData:e=>{this.handleServiceComponent(!1,null,"check","ServiceGetData",e)},handleServiceComponent:()=>{this.handleServiceComponent(!1,"market",null)}}),m.default.createElement("div",{style:{position:"absolute",bottom:0,width:"100%",borderTop:"1px solid #e8e8e8",padding:"10px 16px",left:0,background:"#fff",borderRadius:"0 0 4px 4px",display:"flex",justifyContent:"flex-end",zIndex:99999}},"outerCustom"===i&&m.default.createElement(r.default,{style:{marginRight:8},onClick:()=>{this.handleBackEvents(!0,null)}},(0,g.formatMessage)({id:"button.last_step"})),a&&m.default.createElement("span",{style:{marginRight:8}},a),m.default.createElement(r.default,{style:{marginRight:8},onClick:this.cancelAddService},(0,g.formatMessage)({id:"button.cancel"})))))}},d=c))||d);t.default=v}}]);